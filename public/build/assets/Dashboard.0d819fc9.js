import{o as l,d as i,a as s,c as I,n as h,Q as re,t as n,f,e as k,u as a,r as m,y as G,a4 as T,b as c,S as O,a5 as H,q as ne,s as v,w as le,C as oe}from"./app.f75ccb3c.js";import{_ as ie}from"./AdminLayout.d87627b2.js";import{_}from"./millify.524d1bf5.js";import{_ as Q}from"./Chart.bd6f3c67.js";import{_ as ce,a as de,b as ue}from"./PlayersMinecraftVersionMetricBox.ec536622.js";import{L as ge}from"./LoadingSpinner.73d751ee.js";import{n as R,u as pe}from"./index.aa6960d4.js";import{u as he}from"./AppLayout.54d17dd3.js";import{r as K,a as me}from"./UserGroupIcon.f83d04ad.js";import{u as ye}from"./useAuthorizable.7c92a275.js";function xe(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function fe(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})])}function _e(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})])}function ve(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})])}const we={class:"p-4 bg-white dark:bg-gray-800 rounded shadow"},be={class:"flex"},ke={class:"mb-3 font-bold text-gray-600 dark:text-gray-400 text-md"},Pe={class:"flex items-end justify-between space-x-4"},$e={class:"text-4xl font-bold dark:text-gray-300 text-gray-800"},Ce={key:0,class:"text-end"},Te={class:"text-xs text-gray-400 whitespace-nowrap"},Y={__name:"KpiOverviewCard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-gray-500 bg-gray-100 dark:bg-gray-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},subValueClass:{type:[Array,String],required:!1,default:"text-gray-400"},description:{type:[String,Number],required:!1,default:null},descriptionClass:{type:[Array,String],required:!1,default:"text-gray-400"},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeClass:{type:[Array,String],required:!1,default:"text-gray-500 dark:text-gray-400 bg-gray-100"},changeDesc:{type:[String,Number],required:!1,default:null}},setup(e){return(r,t)=>(l(),i("div",we,[s("div",be,[(l(),I(re(e.icon),{class:h(["w-6 h-6 p-1 mr-1 rounded-full",e.iconClass])},null,8,["class"])),s("h3",ke,n(r.__(e.title)),1)]),s("div",Pe,[s("div",null,[s("p",$e,[f(n(e.value)+" ",1),e.subValue?(l(),i("span",{key:0,class:h(["text-sm font-semibold",e.subValueClass])},n(e.subValue),3)):k("",!0)]),e.description?(l(),i("p",{key:0,class:h(["text-xs",e.descriptionClass])},n(r.__(e.description)),3)):k("",!0)]),e.change?(l(),i("div",Ce,[s("span",{class:h(["text-sm w-12 font-bold dark:bg-opacity-10 rounded-full px-2 py-0.5",e.changeClass])},n(e.change),3),s("p",Te,n(r.__(e.changeDesc)),1)])):k("",!0)])]))}};function Ae(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z","clip-rule":"evenodd"})])}function Se(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177A7.547 7.547 0 016.648 6.61a.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 011.925-3.545 3.75 3.75 0 013.255 3.717z","clip-rule":"evenodd"})])}function Ne(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"})])}function Fe(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})])}const q={__name:"KpiOverviewCardForDashboard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-gray-500 bg-gray-100 dark:bg-gray-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},description:{type:[String,Number],required:!1,default:null},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeDesc:{type:[String,Number],required:!1,default:null}},setup(e){return(r,t)=>(l(),I(Y,{class:"flex-1",title:e.title,value:a(_)(e.value),"sub-value":`(+${e.subValue})`,"sub-value-class":[e.subValue>0?"text-green-500":"text-gray-400"],change:`+${a(_)(e.change,{precision:2})}%`,"change-class":[e.change>0?"text-green-500 bg-green-100":"text-gray-400 bg-gray-100"],"change-desc":e.changeDesc,icon:e.icon,"icon-class":e.iconClass,description:e.description},null,8,["title","value","sub-value","sub-value-class","change","change-class","change-desc","icon","icon-class","description"]))}},ze={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},Me={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Oe={__name:"PlayersOverTimeMetricBox",setup(e){let r=m({}),t=m(null),p=m(!0);return G(async()=>{const u=await T.get(route("admin.graph.online-players"));p.value=!1,t.value=u.data,r.value={tooltip:{trigger:"axis",position:function(g){return[g[0],"10%"]}},legend:{},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"time"},yAxis:{type:"value",boundaryGap:[0,"10%"]},dataZoom:[{type:"inside",start:90,end:100,zoomLock:!0},{start:90,end:100}],series:t.value.servers.map((g,o)=>({name:g,type:"line",smooth:!0,symbol:"none",seriesLayoutBy:"column",encode:{y:o+1},emphasis:{focus:"series"}})),dataset:{source:t.value.data}}}),(u,g)=>(l(),i("div",ze,[s("h3",Me,n(u.__("Online Players")),1),c(Q,{options:a(r),height:"350px",loading:a(p),autoresize:!0},null,8,["options","loading"])]))}},qe={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},Ie={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Ve={__name:"PlayersPerServerMetricBox",setup(e){let r=m({}),t=m(null),p=m(!0);return G(async()=>{const u=await T.get(route("admin.graph.players-per-server"));p.value=!1,t.value=u.data,r.value={tooltip:{trigger:"item"},toolbox:{feature:{saveAsImage:{}}},legend:{top:"2%",left:"center"},series:[{name:"Unique Players",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:7,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:t.value}]}}),(u,g)=>(l(),i("div",qe,[s("h3",Ie,n(u.__("Players per server")),1),c(Q,{options:a(r),height:"350px",loading:a(p),autoresize:!0},null,8,["options","loading"])]))}};var De=Object.defineProperty,je=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,Z=(e,r,t)=>r in e?De(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,C=(e,r)=>{for(var t in r||(r={}))Le.call(r,t)&&Z(e,t,r[t]);if(W)for(var t of W(r))Je.call(r,t)&&Z(e,t,r[t]);return e},Ue=(e,r)=>je(e,Be(r));function Ee(...e){const r=typeof e[0]=="string"?e[0]:void 0,t=typeof r=="string"?1:0;let p={},u=T,g={immediate:!!t,shallow:!0};const o=d=>!!(d!=null&&d.request);e.length>0+t&&(o(e[0+t])?u=e[0+t]:p=e[0+t]),e.length>1+t&&o(e[1+t])&&(u=e[1+t]),(e.length===2+t&&!o(e[1+t])||e.length===3+t)&&(g=e[e.length-1]);const{initialData:A,shallow:y,onSuccess:X=R,onError:ee=R,immediate:te,resetOnExecute:ae=!1}=g,V=O(),S=(y?O:m)(A),w=m(!1),P=m(!1),N=m(!1),b=O(),D=T.CancelToken.source;let F=D();const z=d=>{w.value||!P.value||(F.cancel(d),F=D(),N.value=!0,P.value=!1,w.value=!1)},j=d=>{P.value=d,w.value=!d},se=()=>{ae&&(S.value=A)},B=()=>new Promise((d,$)=>{pe(w).toBe(!0).then(()=>b.value?$(b.value):d(J))}),M={then:(...d)=>B().then(...d),catch:(...d)=>B().catch(...d)},L=(d=r,$={})=>{b.value=void 0;const U=typeof d=="string"?d:r!=null?r:$.url;return U===void 0?(b.value=new H.exports.AxiosError(H.exports.AxiosError.ERR_INVALID_URL),w.value=!0,M):(se(),z(),j(!0),u(U,Ue(C(C({},p),typeof d=="object"?d:$),{cancelToken:F.token})).then(x=>{V.value=x;const E=x.data;S.value=E,X(E)}).catch(x=>{b.value=x,ee(x)}).finally(()=>{var x;(x=g.onFinish)==null||x.call(g),j(!1)}),M)};te&&r&&L();const J={response:V,data:S,error:b,isFinished:w,isLoading:P,cancel:z,isAborted:N,isCanceled:N,abort:z,execute:L};return C(C({},J),M)}const He={class:"bg-white dark:bg-cool-gray-800 rounded w-full shadow"},Re={class:"p-3 font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Ke={class:"flex flex-col"},We={key:0,class:"p-3 text-center bg-red-100 dark:bg-red-800/20 text-red-500 dark:text-red-400"},Ze={class:"overflow-x-auto"},Ge={class:"inline-block min-w-full align-middle"},Qe={class:"overflow-hidden shadow-lg shadow-gray-200"},Ye={key:0,class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Xe={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},et={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},tt={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},at={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},st={class:"divide-y divide-gray-200 dark:divide-gray-700"},rt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},nt=["title"],lt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},ot={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},it={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},ct=["title"],dt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},ut={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},gt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},pt=["title"],ht={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},mt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},yt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},xt=["title"],ft={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},_t={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},vt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},wt=["title"],bt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},kt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Pt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},$t=["title"],Ct={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Tt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},At={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},St=["title"],Nt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Ft={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},zt={__name:"NetworkTrendsMetricBox",setup(e){const{secondsToHMS:r}=he(),{data:t,isFinished:p,isLoading:u,error:g}=Ee(route("admin.graph.network-trends-vs-month"));return(o,A)=>{const y=ne("tippy");return l(),i("div",He,[s("h3",Re,n(o.__("Network Trends")),1),s("div",Ke,[c(ge,{class:"w-full mt-10",loading:a(u)&&!a(p)},null,8,["loading"]),a(g)?(l(),i("div",We,n(a(g).message),1)):k("",!0),s("div",Ze,[s("div",Ge,[s("div",Qe,[!a(u)&&a(p)&&!a(g)?(l(),i("table",Ye,[s("thead",null,[s("tr",null,[s("th",Xe,n(o.__("Metric")),1),s("th",et,n(o.__("Last Month")),1),s("th",tt,n(o.__("This Month")),1),s("th",at,n(o.__("Trend")),1)])]),s("tbody",st,[s("tr",null,[s("td",rt,[c(a(K),{class:"w-5 h-5 text-light-blue-400"}),v((l(),i("span",{title:o.__("All players including old and new who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300 sm:flex-none"},[f(n(o.__("Total Players")),1)],8,nt)),[[y,{trigger:"click"}]])]),s("td",lt,n(a(t).total_players.previous_month),1),s("td",ot,n(a(t).total_players.current_month),1),s("td",{class:h(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).total_players.change<0,"text-green-500 font-semibold":a(t).total_players.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).total_players.change==0}])},n(a(t).total_players.change)+"% ",3)]),s("tr",null,[s("td",it,[c(a(K),{class:"w-5 h-5 text-green-400"}),v((l(),i("span",{title:o.__("New players who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300 sm:flex-none"},[f(n(o.__("New Players")),1)],8,ct)),[[y,{trigger:"click"}]])]),s("td",dt,n(a(t).total_new_players.previous_month),1),s("td",ut,n(a(t).total_new_players.current_month),1),s("td",{class:h(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).total_new_players.change<0,"text-green-500 font-semibold":a(t).total_new_players.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).total_new_players.change==0}])},n(a(t).total_new_players.change)+"% ",3)]),s("tr",null,[s("td",gt,[c(a(ve),{class:"w-5 h-5 text-orange-400"}),v((l(),i("span",{title:o.__("Total sessions of players. One session is counted when player join server and then leave. A player can have multiple sessions."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Total Sessions")),1)],8,pt)),[[y,{trigger:"click"}]])]),s("td",ht,n(a(t).total_player_sessions.previous_month),1),s("td",mt,n(a(t).total_player_sessions.current_month),1),s("td",{class:h(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).total_player_sessions.change<0,"text-green-500 font-semibold":a(t).total_player_sessions.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).total_player_sessions.change==0}])},n(a(t).total_player_sessions.change)+"% ",3)]),s("tr",null,[s("td",yt,[c(a(_e),{class:"w-5 h-5 text-green-400"}),v((l(),i("span",{title:o.__("Average playtime player played during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Avg Session Time")),1)],8,xt)),[[y,{trigger:"click"}]])]),s("td",ft,n(a(r)(a(t).avg_playtime.previous_month,!0)),1),s("td",_t,n(a(r)(a(t).avg_playtime.current_month,!0)),1),s("td",{class:h(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).avg_playtime.change<0,"text-green-500 font-semibold":a(t).avg_playtime.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).avg_playtime.change==0}])},n(a(t).avg_playtime.change)+"% ",3)]),s("tr",null,[s("td",vt,[c(a(fe),{class:"w-5 h-5 text-red-400"}),v((l(),i("span",{title:o.__("Average afktime player spent during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Avg AFK Time")),1)],8,wt)),[[y,{trigger:"click"}]])]),s("td",bt,n(a(r)(a(t).avg_afktime.previous_month,!0)),1),s("td",kt,n(a(r)(a(t).avg_afktime.current_month,!0)),1),s("td",{class:h(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).avg_afktime.change<0,"text-green-500 font-semibold":a(t).avg_afktime.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).avg_afktime.change==0}])},n(a(t).avg_afktime.change)+"% ",3)]),s("tr",null,[s("td",Pt,[c(a(xe),{class:"w-5 h-5 text-yellow-400"}),v((l(),i("span",{title:o.__("Average ping players getting on your servers."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Avg Player Ping")),1)],8,$t)),[[y,{trigger:"click"}]])]),s("td",Ct,n(a(_)(a(t).avg_player_ping.previous_month))+" ms ",1),s("td",Tt,n(a(_)(a(t).avg_player_ping.current_month))+" ms ",1),s("td",{class:h(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).avg_player_ping.change<0,"text-green-500 font-semibold":a(t).avg_player_ping.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).avg_player_ping.change==0}])},n(a(t).avg_player_ping.change)+"% ",3)]),s("tr",null,[s("td",At,[c(a(me),{class:"w-5 h-5 text-light-blue-400"}),v((l(),i("span",{title:o.__("Peek Online player reached on one server."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f("Peek Online Players")],8,St)),[[y,{trigger:"click"}]])]),s("td",Nt,n(o.__(":players players",{players:a(t).peek_online_players.previous_month})),1),s("td",Ft,n(o.__(":players players",{players:a(t).peek_online_players.current_month})),1),s("td",{class:h(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).peek_online_players.change<0,"text-green-500 font-semibold":a(t).peek_online_players.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).peek_online_players.change==0}])},n(a(t).peek_online_players.change)+"% ",3)])])])):k("",!0)])])])])])}}},Mt={key:0,class:"p-4 flex"},Ot={class:"flex-1 bg-white dark:bg-gray-800 p-4 rounded text-red-400 text-center italic"},qt={key:1,class:"p-4 space-y-4"},It={id:"row1",class:"flex justify-between flex-1 space-x-4"},Vt={id:"row2",class:"flex justify-between flex-1 space-x-4"},Dt={id:"row3",class:"flex justify-between flex-1 space-x-4"},jt={id:"row4",class:"flex justify-between flex-1 space-x-4"},Gt={__name:"Dashboard",props:{kpiTotalUsers:Number,kpiUserCreatedForInterval:Number,kpiUserLastSeenForInterval:Number,kpiTotalUserPercent:Number,kpiTotalPlayers:Number,kpiPlayerCreatedForInterval:Number,kpiPlayerLastSeenForInterval:Number,kpiTotalPlayersPercent:Number,kpiTotalFailedJobs:Number,kpiFailedJobsForInterval:Number,kpiTotalFailedJobPercent:Number,kpiTotalPosts:Number,kpiPostCreatedForInterval:Number,kpiTotalPostsPercent:Number,kpiTotalComments:Number},setup(e){const{can:r}=ye();return(t,p)=>(l(),I(ie,null,{default:le(()=>[c(oe,{title:t.__("Admin Dashboard")},null,8,["title"]),a(r)("view admin_dashboard")?(l(),i("div",qt,[s("div",It,[c(q,{class:"flex-1",title:"Registered Users",value:a(_)(e.kpiTotalUsers),"sub-value":e.kpiUserCreatedForInterval,change:e.kpiTotalUserPercent,"change-desc":"in last 7 days",icon:a(Ne),"icon-class":"text-light-blue-500 bg-light-blue-100 dark:bg-light-blue-500 dark:text-white",description:`Active: ${e.kpiUserLastSeenForInterval} users`},null,8,["value","sub-value","change","icon","description"]),c(q,{class:"flex-1",title:"Total Players",value:e.kpiTotalPlayers,"sub-value":e.kpiPlayerCreatedForInterval,change:e.kpiTotalPlayersPercent,"change-desc":"in last 7 days",icon:a(Fe),"icon-class":"text-green-500 bg-green-100 dark:bg-green-500 dark:text-white",description:`Active: ${e.kpiPlayerLastSeenForInterval} players`},null,8,["value","sub-value","change","icon","description"]),c(q,{class:"flex-1",title:"Total Posts",value:e.kpiTotalPosts,"sub-value":e.kpiPostCreatedForInterval,change:e.kpiTotalPostsPercent,"change-desc":"in last 7 days",icon:a(Ae),"icon-class":"text-amber-500 bg-amber-100 dark:bg-amber-500 dark:text-white",description:`Total comments: ${e.kpiTotalComments}`},null,8,["value","sub-value","change","icon","description"]),c(Y,{class:"flex-1",title:"Failed Jobs",value:a(_)(e.kpiTotalFailedJobs),"sub-value":`(${e.kpiFailedJobsForInterval>0?"+":""}${a(_)(e.kpiFailedJobsForInterval)})`,"sub-value-class":[e.kpiFailedJobsForInterval>0?"text-red-500":"text-green-500"],change:`${e.kpiTotalFailedJobPercent>0?"+":""}${a(_)(e.kpiTotalFailedJobPercent,{precision:2})}%`,"change-class":[e.kpiTotalFailedJobPercent>0?"text-red-500 bg-red-100":"text-green-500 bg-green-100"],"change-desc":"in last 7 days",icon:a(Se),"icon-class":"text-red-500 bg-red-100 dark:bg-red-500 dark:text-white",description:"Jobs failed to run."},null,8,["value","sub-value","sub-value-class","change","change-class","icon"])]),s("div",Vt,[c(Oe,{class:"basis-8/12"}),c(Ve,{class:"basis-4/12"})]),s("div",Dt,[c(ce,{class:"basis-1/2"}),c(zt,{class:"basis-1/2"})]),s("div",jt,[c(de,{class:"basis-1/2"}),c(ue,{class:"basis-1/2"})])])):(l(),i("div",Mt,[s("div",Ot,n(t.__("Sorry! You are not allowed to view Admin Dashboard Statistics.")),1)]))]),_:1}))}};export{Gt as default};
