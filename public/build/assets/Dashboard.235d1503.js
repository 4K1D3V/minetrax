import{I as j,E as G,A as K}from"./AppLayout.55d76988.js";import{N as R}from"./NewsBox.ab936d46.js";import{S as Z}from"./ShoutBox.3329fe06.js";import{D as X,a as ee}from"./DidYouKnowBox.2297ef9f.js";import{_ as k,z as d,B as $,o as n,d as l,a as t,t as r,b as h,w as m,I,x,f as y,e as a,F as w,h as S,n as C,c as v,Z as te,$ as se,y as A,k as M,C as oe,m as re,V as ne,r as ie,g as le,L as ae}from"./app.3919810a.js";import{S as ce,P as de}from"./SocialChannelBox.4f2ae40b.js";import{_ as T}from"./AlertCard.720e817d.js";import{_ as ue}from"./DialogModal.c1c8241c.js";import{_ as _e}from"./SecondaryButton.7151a379.js";import{L as he}from"./LoadingButton.7d1d350d.js";import{S as ge}from"./ServerStatusBox.864b5891.js";import{P as ye}from"./PollBox.91452456.js";import{_ as me}from"./CopyToClipboard.4358cfcf.js";import"./InfiniteScroll.68b26d7a.js";import"./InputError.5fa35eb4.js";import"./Post.448f577c.js";import"./UserDisplayname.5a704cf7.js";import"./Modal.f19c4522.js";const pe={props:{user:Object,enabled:Boolean}},fe={key:0},be={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},xe={class:"font-extrabold text-gray-800 dark:text-gray-200"},ve=["src"],ke={class:"flex flex-col"},we={class:"break-all"},Se={class:"text-gray-500 dark:text-gray-400"},Le=["title"];function $e(e,i,s,f,o,u){const b=d("inertia-link"),g=$("tippy");return s.enabled&&s.user?(n(),l("div",fe,[t("div",be,[t("h3",xe,r(e.__("Newest User")),1),h(b,{as:"div",href:e.route("user.public.get",s.user.username),class:"cursor-pointer flex space-x-2 border dark:border-gray-700 rounded-tl-md rounded-tr-xl rounded-b-3xl p-2 items-center hover:border-light-blue-400 dark:hover:border-light-blue-400"},{default:m(()=>[t("img",{class:"w-14 h-14 rounded-full",src:s.user.profile_photo_url,alt:"Avatar"},null,8,ve),t("div",ke,[t("div",we,[t("span",{class:"text-gray-800 dark:text-gray-300 font-semibold",style:I([s.user.roles[0].color?{color:s.user.roles[0].color}:null])},r(s.user.name),5),t("span",Se,"@"+r(s.user.username),1)]),x((n(),l("span",{class:"text-sm text-gray-700 dark:text-gray-500 focus:outline-none",title:e.formatToDayDateString(s.user.created_at)},[y(r(e.__("Joined"))+"\xA0"+r(e.formatTimeAgoToNow(s.user.created_at)),1)],8,Le)),[[g]])])]),_:1},8,["href"])])])):a("",!0)}const Ce=k(pe,[["render",$e]]),Pe={props:{votingsites:Array,enabled:Boolean}},Ae={key:0},Ie={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},Me={class:"font-extrabold text-gray-800 dark:text-gray-200"},je={class:"rounded text-sm text-gray-600 dark:text-gray-400 text-center p-1"},Be={class:"flex flex-col space-y-2"},Te=["content"],De=["href"];function Ne(e,i,s,f,o,u){const b=$("tippy");return s.enabled&&s.votingsites&&s.votingsites.length>0?(n(),l("div",Ae,[t("div",Ie,[t("h3",Me,r(e.__("Vote for Server")),1),t("p",je,r(e.__("Vote on these sites and win rewards!")),1),t("div",Be,[(n(!0),l(w,null,S(s.votingsites,(g,p)=>(n(),l("div",{key:p,class:"rounded flex justify-between items-center p-2 bg-gray-100 dark:bg-cool-gray-900"},[x((n(),l("div",{content:g.url,class:"text-gray-500 dark:text-gray-300 text-sm font-bold focus:outline-none"},[y(r(g.name),1)],8,Te)),[[b]]),t("div",null,[t("a",{target:"_blank",class:"rounded tracking-wider text-sm px-2 py-1 text-gray-500 dark:text-gray-300 bg-white dark:bg-cool-gray-800 shadow hover:shadow-md",href:g.url},r(e.__("Vote")),9,De)])]))),128))])])])):a("",!0)}const Ve=k(Pe,[["render",Ne]]),Ee={props:["htmlData"]},Qe={key:0},Ue={class:"bg-white dark:bg-cool-gray-800 rounded px-4 py-3 shadow"},ze=["innerHTML"];function Oe(e,i,s,f,o,u){return s.htmlData?(n(),l("div",Qe,[t("div",Ue,[t("div",{class:"prose dark:prose-dark max-w-none text-center",innerHTML:s.htmlData},null,8,ze)])])):a("",!0)}const He=k(Ee,[["render",Oe]]),Fe={components:{Icon:j},props:{newslist:Array}},Ye={key:0,class:"space-y-4"},qe={class:"bg-white dark:bg-cool-gray-800 rounded shadow flex justify-between"},We={class:"p-3 sm:px-5"},Je={class:"text-xl"},Ge={class:"mb-1"},Ke=["content"],Re={class:"text-sm text-gray-500 dark:text-gray-400 font-light leading-snug"},Ze=["innerHTML"],Xe=["src"];function et(e,i,s,f,o,u){const b=d("icon"),g=d("inertia-link"),p=$("tippy");return s.newslist&&s.newslist.length>0?(n(),l("div",Ye,[(n(!0),l(w,null,S(s.newslist,c=>(n(),l("div",qe,[t("div",We,[t("div",Je,[t("p",Ge,[x(h(b,{title:e.__("Pinned News"),class:"inline text-gray-400 focus:outline-none",name:"paper-clip"},null,8,["title"]),[[p]]),t("span",{class:C(["font-semibold uppercase text-sm tracking-wider",{"text-light-blue-400":c.type.value===0,"text-orange-500":c.type.value===1,"text-green-500":c.type.value===2}])},"\xA0"+r(c.type.key)+"\xA0",3),x((n(),l("span",{content:e.formatToDayDateString(c.published_at),class:"focus:outline-none text-sm text-gray-500 dark:text-gray-400 font-light leading-snug"},[y(r(e.formatTimeAgoToNow(c.published_at)),1)],8,Ke)),[[p]]),t("span",Re," - "+r(c.time_to_read)+" read",1)]),h(g,{href:e.route("news.show",c.slug),class:"hover:text-light-blue-400 dark:text-gray-200 dark:hover:text-light-blue-400 duration-200"},{default:m(()=>[y(r(c.title),1)]),_:2},1032,["href"])]),t("div",{class:"mt-3 text-gray-500 dark:text-gray-400",innerHTML:c.body_md},null,8,Ze)]),c.photo_url?(n(),l("img",{key:0,class:"h-auto w-2/5 object-cover object-center",src:c.photo_url,alt:"News Image"},null,8,Xe)):a("",!0)]))),256))])):a("",!0)}const tt=k(Fe,[["render",et]]),st={components:{AlertCard:T},data(){return{response:{},loading:!0}},created(){axios.get(route("version.check")).then(e=>{this.response=e.data}).finally(()=>{this.loading=!1})}},ot={key:0,ref:"box"},rt={class:"text-gray-700 dark:text-gray-200"},nt={class:"text-red-500"},it={class:"text-green-500"},lt=t("br",null,null,-1),at={class:"text-light-blue-500 hover:underline",target:"_blank",href:"https://minetrax.github.io/docs/upgrade"},ct={class:"text-xs text-gray-500 italic mt-2"};function dt(e,i,s,f,o,u){const b=d("AlertCard");return!o.loading&&o.response&&o.response.is_uptodate===!1?(n(),l("div",ot,[h(b,{"text-color":"text-red-800 dark:text-red-500","border-color":"border-red-500"},{body:m(()=>[t("div",rt,[y(r(e.__("Your current MineTrax version is"))+"\xA0",1),t("span",nt,r(o.response.my_version),1),y("\xA0"+r(e.__("while the latest version is"))+"\xA0",1),t("span",it,r(o.response.latest_version),1),y(". "+r(e.__("Please upgrade to enjoy latest features."))+" ",1),lt,t("a",at,r(e.__("Click here to know more.")),1),t("p",ct,r(e.__("Note: This box is only visible to Staff Member")),1)])]),default:m(()=>[y(r(e.__("Your MineTrax Version is Outdated!"))+" ",1)]),_:1})],512)):a("",!0)}const ut=k(st,[["render",dt]]),_t={components:{ErrorMessage:G},props:{server:Object},data(){return{serverInfo:Object,playersList:Object,loading:!0,error:null,sizeClass:"w-5 h-5",interval:null}},computed:{enabled(){return this.$page.props.generalSettings.enable_mcserver_onlineplayersbox?!!(this.server||this.$page.props.defaultQueryServer):!1}},created(){!this.enabled||(this.getServerQuery(),this.interval=setInterval(()=>this.getServerQuery(),1e4))},unmounted(){clearInterval(this.interval)},methods:{getServerQuery(){let e=this.server;e||(e=this.$page.props.defaultQueryServer),axios.get(route("server.query.get",e.id)).then(i=>{this.serverInfo=i.data.server_info,this.playersList=i.data.players_list;for(let s in this.playersList)this.playersList[s]||(this.playersList[s]="00000000-0000-0000-0000-000000000000");this.error=null,Object.keys(this.playersList).length<=5&&(this.sizeClass="w-8 h-8")}).catch(i=>{this.error=i.response.data.message||i.message,this.serverInfo=null,this.playersList=null}).finally(()=>{this.loading=!1})}}},ht={key:0},gt={class:"p-3 sm:px-5 bg-white dark:bg-gray-800 rounded shadow"},yt={class:"font-extrabold text-gray-800 dark:text-gray-200"},mt={key:0,class:"float-right text-green-500 font-semibold"},pt={key:0,class:"flex p-4 justify-center"},ft=t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-light-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),bt=[ft],xt={key:2,class:"mt-3 text-gray-500 flex flex-wrap justify-center"},vt=["title","src","alt"],kt={key:3,class:"italic p-1 rounded text-center text-gray-400"};function wt(e,i,s,f,o,u){const b=d("error-message"),g=$("tippy");return u.enabled?(n(),l("div",ht,[t("div",gt,[t("h3",yt,[y(r(e.__("Online Players"))+" ",1),!o.loading&&!o.error?(n(),l("span",mt,r(o.serverInfo.Players)+" / "+r(o.serverInfo.MaxPlayers),1)):a("",!0)]),o.loading?(n(),l("div",pt,bt)):a("",!0),o.error?(n(),v(b,{key:1},{default:m(()=>[y(r(o.error),1)]),_:1})):a("",!0),!o.loading&&!o.error?(n(),l("div",xt,[(n(!0),l(w,null,S(o.playersList,(p,c)=>(n(),l("div",{key:p,class:C(["flex-shrink-0 mr-1 mb-1",o.sizeClass])},[x(t("img",{title:c,src:e.route("player.avatar.get",{uuid:p,username:c,size:50}),alt:c,class:C(["focus:outline-none",o.sizeClass])},null,10,vt),[[g]])],2))),128))])):a("",!0),!o.error&&(!o.playersList||o.playersList.length<=0)?(n(),l("div",kt,r(e.__("No players online.")),1)):a("",!0)])])):a("",!0)}const St=k(_t,[["render",wt]]),Lt={components:{Icon:j,JetDialogModal:ue,JetSecondaryButton:_e,LoadingButton:he},props:{defaultServerId:Number,serverList:Array},data(){return{serverId:this.defaultServerId,chatLogs:[],message:"",loading:!0,error:null,sending:!1,playersList:[],playersListLoading:!0,shouldDisplayPlayerList:!0,playerListQueryInterval:null,showAdminPlayerActionModel:!1,actionModelCurrentPlayer:null,adminPlayerActionLoading:!1,adminPlayerActionError:null,format:te,isWebQuerySuccess:!1}},computed:{enabled(){return this.$page.props.generalSettings.enable_ingamechat?!!this.defaultServerId:!1}},watch:{serverId:function(e,i){Echo.leaveChannel("chatlogs."+i),this.serverId=e,this.getChatListForServer(e),clearInterval(this.playerListQueryInterval),this.getPlayerListForServer(e),this.playerListQueryInterval=setInterval(()=>this.getPlayerListForServer(e),1e4)}},created(){!this.enabled||(this.getChatListForServer(this.serverId),this.getPlayerListForServer(this.serverId),this.playerListQueryInterval=setInterval(()=>this.getPlayerListForServer(this.serverId),1e4))},unmounted(){Echo.leave("chatlogs."+this.serverId),clearInterval(this.playerListQueryInterval)},methods:{postSendMessage(){this.sending=!0,this.error=null,axios.post(route("chatlog.send",this.serverId),{message:this.message}).then(e=>{}).catch(e=>{e.response.status===422?this.error=Object.values(e.response.data.errors)[0][0]:e.response.status===403?this.error=e.response.data.message:this.error=e.response.statusText}).finally(e=>{this.message="",this.sending=!1,this.$nextTick(()=>{this.$refs.inputbox.focus()})})},getChatListForServer(e){this.loading=!0,this.chatLogs=[],axios.get(route("chatlog.index",e)).then(i=>{this.chatLogs=i.data.reverse()}).finally(i=>{this.loading=!1,this.$nextTick(()=>{let s=this.$el.querySelector("#chatbox").scrollHeight;this.$el.querySelector("#chatbox").scrollTo(0,s)})}),Echo.channel("chatlogs."+e).listen("ServerChatlogCreated",i=>{this.chatLogs.push(i.data),this.$nextTick(()=>{let s=this.$el.querySelector("#chatbox").scrollHeight;this.$el.querySelector("#chatbox").scrollTo(0,s)})})},getPlayerListForServer(e){axios.get(route("server.webquery.get",e)).then(i=>{this.playersList=i.data,this.isWebQuerySuccess=!0}).catch(i=>{this.shouldDisplayPlayerList=!1,this.isWebQuerySuccess=!1}).finally(i=>{this.playersListLoading=!1})},openAdminPlayerActionModel(e){this.showAdminPlayerActionModel=!0,this.actionModelCurrentPlayer=e},closeAdminPlayerActionModel(){this.showAdminPlayerActionModel=!1,this.actionModelCurrentPlayer=null},sendCommandToServer(e){this.adminPlayerActionLoading=!0;let i=null,s={type:null,params:null,context:null};switch(e){case"kill":s.type="kill",s.params=this.actionModelCurrentPlayer.username,s.context="player";break;case"mute":if(i=prompt(this.__("Give any reason if muting? Note: ALWAYS LEAVE IT BLANK IF UN-MUTING")),i===null)break;s.type="mute",i?s.params=this.actionModelCurrentPlayer.username+" "+i:s.params=this.actionModelCurrentPlayer.username,s.context="player";break;case"kick":if(i=prompt(this.__("Any reason for kicking this player?")),i===null)break;s.type="kick",s.params=this.actionModelCurrentPlayer.username+" "+i,s.context="player";break;case"ban":if(i=prompt(this.__("Any reason for banning this player?")),i===null)break;s.type="ban",s.params=this.actionModelCurrentPlayer.username+" "+i,s.context="player";break}if(s.type===null){this.adminPlayerActionLoading=!1;return}axios.post(route("admin.server.command",this.serverId),s).then(f=>{this.closeAdminPlayerActionModel()}).catch(f=>{this.adminPlayerActionError=f.message}).finally(()=>{this.adminPlayerActionLoading=!1})}}},$t={key:0},Ct={class:"p-3 sm:px-5 bg-white dark:bg-cool-gray-800 rounded shadow"},Pt={class:"flex justify-between"},At={class:"font-extrabold text-gray-800 dark:text-gray-200"},It=["value"],Mt={class:"flex flex-col"},jt={key:0,class:"space-y-2"},Bt=re('<div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div><div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div><div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div>',3),Tt=[Bt],Dt={id:"chat-container",class:"flex-col-reverse md:flex-row flex bg-cool-gray-900 dark:bg-cool-gray-900 rounded mt-1 p-1 text-white relative justify-between"},Nt={id:"chatbox",class:"flex flex-col max-h-96 overflow-auto hide-scrollbar text-sm"},Vt=["title","innerHTML"],Et={key:0,class:"flex italic text-sm w-full h-full items-center justify-center text-gray-500"},Qt={id:"player-list",class:"text-sm sticky flex justify-end bg-cool-gray-800 bg-opacity-100 rounded max-h-96 min-w-max overflow-auto hide-scrollbar"},Ut={class:"flex flex-col w-full space-y-1"},zt={class:"flex bg-cool-gray-600 bg-opacity-25 p-2 items-center justify-center relative"},Ot={class:"font-bold mr-5 ml-4"},Ht={class:"flex space-x-1 truncate"},Ft=["src"],Yt={id:"right",class:"flex items-center justify-center space-x-1"},qt=["title","src","alt"],Wt=["onClick"],Jt={key:1,class:"mt-1"},Gt=["disabled","placeholder"],Kt={key:1,class:"text-red-400 text-xs"},Rt={key:2,class:"flex mt-2 justify-end text-gray-500 dark:text-gray-400 text-xs"},Zt={key:2,class:"text-sm text-gray-600 dark:text-gray-400 text-center mt-2"},Xt={key:0,class:"flex flex-col items-center font-bold"},es={class:"underline text-gray-800"},ts=["src"],ss={class:"text-light-blue-600"},os={class:"text-xs text-gray-600"},rs={class:"flex justify-center space-x-2"},ns={key:0,class:"flex text-red-500 border border-red-500 bg-red-100 p-1 mt-2 justify-center text-sm"};function is(e,i,s,f,o,u){const b=d("inertia-link"),g=d("icon"),p=d("loading-button"),c=d("jet-secondary-button"),L=d("jet-dialog-modal"),P=$("tippy");return u.enabled?(n(),l("div",$t,[t("div",Ct,[t("div",Pt,[t("h3",At,r(e.__("Server In-Game Chat")),1),s.serverList&&s.serverList.length>1?x((n(),l("select",{key:0,id:"serverSelector","onUpdate:modelValue":i[0]||(i[0]=_=>o.serverId=_),"aria-label":"serverSelector",name:"serverSelector",class:"text-xs border-gray-300 focus:border-light-blue-300 focus:ring focus:ring-light-blue-200 focus:ring-opacity-50 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},[(n(!0),l(w,null,S(s.serverList,_=>(n(),l("option",{key:_.id,value:_.id},r(_.name),9,It))),128))],512)),[[se,o.serverId]]):a("",!0)]),t("div",Mt,[o.loading?(n(),l("div",jt,Tt)):a("",!0),x(t("div",Dt,[x(t("button",{class:"text-green-400 font-semibold absolute mt-1 mr-2 right-0 top-0",type:"button",onClick:i[1]||(i[1]=_=>o.shouldDisplayPlayerList=!o.shouldDisplayPlayerList)}," [+] ",512),[[A,!o.shouldDisplayPlayerList]]),t("div",Nt,[(n(!0),l(w,null,S(o.chatLogs,_=>x((n(),l("p",{key:_.id,title:e.formatToDayDateString(_.created_at),class:"focus:outline-none",innerHTML:_.data},null,8,Vt)),[[P]])),128)),!o.chatLogs||o.chatLogs.length<=0?(n(),l("div",Et,r(e.__("No chat recorded yet!")),1)):a("",!0)]),x(t("div",Qt,[t("div",Ut,[t("div",zt,[t("h3",Ot,r(e.__("Players"))+"\xA0("+r(o.playersList.length)+") ",1),t("button",{class:"text-red-400 font-semibold absolute mr-2 right-0",type:"button",onClick:i[2]||(i[2]=_=>o.shouldDisplayPlayerList=!o.shouldDisplayPlayerList)}," [-] ")]),(n(!0),l(w,null,S(o.playersList,_=>(n(),l("div",{key:_.id,class:"flex justify-between mx-1"},[t("div",Ht,[t("img",{class:"h-5",src:e.route("player.avatar.get",{uuid:_.id,username:_.username,size:50}),alt:"Player Avatar"},null,8,Ft),_.is_in_db?(n(),v(b,{key:0,href:e.route("player.show",_.id)},{default:m(()=>[t("span",{class:C(["truncate font-semibold mr-1",{"text-yellow-300":_.is_op}])},r(_.username),3)]),_:2},1032,["href"])):(n(),l("span",{key:1,class:C(["truncate mr-1",{"text-yellow-300":_.is_op}])},r(_.username),3))]),t("div",Yt,[x(t("img",{class:"h-5",title:_.country.name,src:_.country.photo_path,alt:_.country.name},null,8,qt),[[P]]),e.$page.props.user&&e.$page.props.user.is_staff?(n(),l("a",{key:0,class:"cursor-pointer text-gray-400 hover:text-gray-200",href:"#",onClick:M(B=>u.openAdminPlayerActionModel(_),["prevent"])},[h(g,{name:"cog",class:"w-4 h-4"})],8,Wt)):a("",!0)])]))),128))])],512),[[A,!o.playersListLoading&&o.shouldDisplayPlayerList]])],512),[[A,!o.loading]]),e.$page.props.user?(n(),l("div",Jt,[t("form",{onSubmit:i[4]||(i[4]=M((..._)=>u.postSendMessage&&u.postSendMessage(..._),["prevent"]))},[o.loading?a("",!0):x((n(),l("input",{key:0,ref:"inputbox","onUpdate:modelValue":i[3]||(i[3]=_=>o.message=_),disabled:o.sending||!o.isWebQuerySuccess,"aria-label":"Shout",class:"mt-1 focus:ring-gray-300 dark:focus:ring-gray-700 block w-full sm:text-sm rounded-md border-none disabled:opacity-50 bg-gray-100 dark:bg-cool-gray-900 dark:text-gray-200 focus:bg-white",type:"text",placeholder:o.isWebQuerySuccess?e.__("Say something.."):e.__("Server webquery is offline")},null,8,Gt)),[[oe,o.message]]),o.error?(n(),l("span",Kt,r(o.error),1)):a("",!0),!o.loading&&e.can("send server_custom_commands")?(n(),l("span",Rt,r(e.__("Start with / to send a console command")),1)):a("",!0)],32)])):(n(),l("div",Zt,[h(b,{class:"font-semibold text-light-blue-500",href:e.route("login")},{default:m(()=>[y(r(e.__("Login")),1)]),_:1},8,["href"]),e.$page.props.hasRegistrationFeature?(n(),l(w,{key:0},[y(r(" "+e.__("or"))+" ",1),h(b,{class:"font-semibold text-light-blue-500",href:e.route("register")},{default:m(()=>[y(r(e.__("Register")),1)]),_:1},8,["href"])],64)):a("",!0),y(" "+r(e.__("to chat with In-Game Players")),1)]))])]),h(L,{show:o.showAdminPlayerActionModel,onClose:u.closeAdminPlayerActionModel},{title:m(()=>[o.actionModelCurrentPlayer?(n(),l("div",Xt,[t("span",es,r(e.__("Manage Player")),1),t("img",{class:"h-24 rounded",src:e.route("player.avatar.get",{uuid:o.actionModelCurrentPlayer.id,username:o.actionModelCurrentPlayer.username}),alt:"Player Avatar"},null,8,ts),t("span",ss,r(o.actionModelCurrentPlayer.username),1),t("span",os,r(o.actionModelCurrentPlayer.id),1)])):a("",!0)]),content:m(()=>[t("div",rs,[e.can("kill players")?(n(),v(p,{key:0,loading:o.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",type:"button",onClick:i[5]||(i[5]=_=>u.sendCommandToServer("kill"))},{default:m(()=>[y(r(e.__("Kill")),1)]),_:1},8,["loading"])):a("",!0),e.can("mute players")?(n(),v(p,{key:1,loading:o.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-200 disabled:opacity-50",type:"button",onClick:i[6]||(i[6]=_=>u.sendCommandToServer("mute"))},{default:m(()=>[y(r(e.__("Mute"))+" / "+r(e.__("UnMute")),1)]),_:1},8,["loading"])):a("",!0),e.can("kick players")?(n(),v(p,{key:2,loading:o.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",type:"button",onClick:i[7]||(i[7]=_=>u.sendCommandToServer("kick"))},{default:m(()=>[y(r(e.__("Kick")),1)]),_:1},8,["loading"])):a("",!0),e.can("ban players")?(n(),v(p,{key:3,loading:o.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50",type:"button",onClick:i[8]||(i[8]=_=>u.sendCommandToServer("ban"))},{default:m(()=>[y(r(e.__("Ban")),1)]),_:1},8,["loading"])):a("",!0)]),o.adminPlayerActionError?(n(),l("div",ns,r(o.adminPlayerActionError),1)):a("",!0)]),footer:m(()=>[h(c,{onClick:u.closeAdminPlayerActionModel},{default:m(()=>[y(r(e.__("Cancel")),1)]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])):a("",!0)}const ls=k(Lt,[["render",is]]),as={computed:{enabled(){return this.$page.props.generalSettings.enable_donation_box&&this.$page.props.generalSettings.donation_box_url},donationText(){return ne.exports.sample([this.__("Help us run our servers!"),this.__("Your help mean everything to us!"),this.__("If you are capable, we would appreciate your contribution")])}}},cs={key:0},ds={class:"p-3 sm:px-5 bg-white dark:bg-cool-gray-800 rounded shadow"},us={class:"font-extrabold text-gray-800 dark:text-gray-200"},_s={class:"rounded text-sm text-gray-600 dark:text-gray-300 text-center p-1"},hs={class:"mt-3 text-light-blue-400 flex justify-center"},gs=["href"];function ys(e,i,s,f,o,u){return u.enabled?(n(),l("div",cs,[t("div",ds,[t("h3",us,r(e.__("Donate")),1),t("p",_s,r(u.donationText),1),t("div",hs,[t("a",{target:"_blank",class:"hover:bg-light-blue-50 dark:hover:bg-cool-gray-900 border px-2 py-1 border-light-blue-400 font-semibold rounded",href:e.$page.props.generalSettings.donation_box_url},r(e.__("Donate Now")),9,gs)])])])):a("",!0)}const ms=k(as,[["render",ys]]),ps={props:{users:Array,enabled:Boolean},computed:{guestCount(){let e=0;return this.users.forEach(i=>{i.user||e++}),e},onlineMembers(){return this.users.filter(e=>e.user)}}},fs={key:0},bs={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},xs={class:"font-extrabold text-gray-800 dark:text-gray-200"},vs={key:0,class:"flex justify-center flex-wrap"},ks=["src","alt"],ws={key:1,class:"text-gray-500 dark:text-gray-400 italic font-light flex justify-center"},Ss={class:"flex justify-center text-xs text-gray-700 dark:text-gray-300 font-semibold"};function Ls(e,i,s,f,o,u){const b=d("inertia-link");return s.enabled&&s.users?(n(),l("div",fs,[t("div",bs,[t("h3",xs,r(e.__("Online Users")),1),s.users&&s.users.length>0?(n(),l("div",vs,[(n(!0),l(w,null,S(u.onlineMembers,g=>(n(),v(b,{key:g.id,as:"div",href:e.route("user.public.get",g.user.username),class:"cursor-pointer flex mr-2 items-center text-light-blue-500 hover:underline",style:I([g.user.roles[0].color?{color:g.user.roles[0].color}:null])},{default:m(()=>[t("img",{class:"h-5 w-5 rounded-full mr-0.5",src:g.user.profile_photo_url,alt:g.user.username},null,8,ks),t("span",null,"@"+r(g.user.username),1)]),_:2},1032,["href","style"]))),128))])):(n(),l("div",ws,r(e.__("No member online.")),1)),t("div",Ss,r(e.__("Total"))+": "+r(u.guestCount+u.onlineMembers.length)+" ("+r(e.__("members"))+": "+r(u.onlineMembers.length)+", "+r(e.__("guests"))+": "+r(u.guestCount)+") ",1)])])):a("",!0)}const $s=k(ps,[["render",Ls]]),Cs={components:{Icon:j},props:{title:String,players:Array,enabled:Boolean}},Ps={key:0},As={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},Is={class:"font-extrabold text-gray-800 dark:text-gray-200"},Ms={class:"flex flex-col space-y-2"},js={class:""},Bs={class:"bg-gray-100 dark:bg-cool-gray-900 dark:bg-opacity-50 text-gray-700 dark:text-gray-300"},Ts={scope:"col",class:"p-1 text-left text-xs font-bold text-center uppercase tracking-wider"},Ds={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Ns={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Vs={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Es={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider hidden sm:table-cell"},Qs={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider hidden sm:table-cell"},Us={class:"bg-white dark:bg-cool-gray-800"},zs={class:"p-1 text-sm text-light-blue-400 font-extrabold"},Os={key:0,class:"border-2 rounded text-sm px-1 border-light-blue-300 bg-light-blue-50 dark:bg-cool-gray-800"},Hs={class:"p-1"},Fs={class:"flex items-center"},Ys=["content"],qs=["src","alt"],Ws={class:"p-1"},Js={key:0,class:"flex items-center"},Gs=["content"],Ks=["src"],Rs={class:"p-1"},Zs={class:"flex items-center"},Xs={class:"flex-shrink-0 h-6 w-6"},eo=["src"],to={class:"ml-4"},so={key:0,class:"text-gray-700 dark:text-gray-300 font-bold text-sm truncate"},oo={key:1,class:"text-red-500 dark:text-red-400 italic"},ro={class:"p-1 text-sm text-gray-700 hidden sm:table-cell"},no={key:0},io={key:1,class:"text-gray-700 dark:text-gray-500 italic"},lo={class:"p-1 text-xs text-gray-700 dark:text-gray-300 hidden sm:table-cell"},ao=["content"];function co(e,i,s,f,o,u){const b=d("inertia-link"),g=d("icon"),p=$("tippy");return s.enabled&&s.players&&s.players.length>0?(n(),l("div",Ps,[t("div",As,[t("h3",Is,r(s.title),1),t("div",Ms,[t("table",js,[t("thead",Bs,[t("tr",null,[t("th",Ts,r(e.__("#")),1),t("th",Ds,r(e.__("Flag")),1),t("th",Ns,r(e.__("Rank")),1),t("th",Vs,r(e.__("Name")),1),t("th",Es,r(e.__("Rating")),1),t("th",Qs,r(e.__("Last Seen")),1)])]),t("tbody",Us,[(n(!0),l(w,null,S(s.players,(c,L)=>(n(),l("tr",{key:L,class:C({"bg-gray-50 dark:bg-cool-gray-600 dark:bg-opacity-10":L%2===1})},[t("td",zs,[c.position?(n(),l("span",Os,r(c.position),1)):a("",!0)]),t("td",Hs,[t("div",Fs,[x((n(),l("div",{class:"flex-shrink-0 h-6 w-6 focus:outline-none",content:c.country.name},[t("img",{class:"h-6 w-6",src:c.country.photo_path,alt:c.country.name},null,8,qs)],8,Ys)),[[p]])])]),t("td",Ws,[c.rank?(n(),l("div",Js,[x((n(),l("div",{class:"flex-shrink-0 h-6 w-6 focus:outline-none",content:c.rank.name},[t("img",{class:"h-6 w-6",src:c.rank.photo_url,alt:""},null,8,Ks)],8,Gs)),[[p]])])):a("",!0)]),t("td",Rs,[t("div",Zs,[t("div",Xs,[t("img",{class:"h-6 w-6",src:c.avatar_url,alt:""},null,8,eo)]),t("div",to,[x((n(),v(b,{as:"div",href:e.route("player.show",c.uuid),class:"text-sm text-gray-900 focus:outline-none cursor-pointer hover:underline",content:c.uuid},{default:m(()=>[c.username?(n(),l("span",so,r(c.username),1)):(n(),l("span",oo,r(e.__("Unknown")),1))]),_:2},1032,["href","content"])),[[p]])])])]),t("td",ro,[c.rating!=null?(n(),l("span",no,[x(h(g,{class:"w-6 h-6 focus:outline-none",name:`rating-${c.rating}`,content:c.rating},null,8,["name","content"]),[[p]])])):(n(),l("span",io,r(e.__("none")),1))]),t("td",lo,[x((n(),l("span",{class:"focus:outline-none",content:e.formatToDayDateString(c.last_seen_at)},[y(r(c.last_seen_at?e.formatTimeAgoToNow(c.last_seen_at):"unknown"),1)],8,ao)),[[p]])])],2))),128))])])])])])):a("",!0)}const uo=k(Cs,[["render",co]]),_o={class:"text-gray-700 text-sm dark:text-gray-200"},ho={__name:"VerifyYourEmailBox",setup(e){const i=ie(null),s=()=>{i.value=!0};return(f,o)=>(n(),v(T,{"text-color":"text-orange-800 dark:text-orange-500","border-color":"border-orange-500"},{body:m(()=>[t("div",_o,[t("p",null,r(f.__("Email verification is required to perform any action on the site. Please check your email inbox or ")),1),h(le(ae),{href:f.route("verification.send"),method:"post",as:"button",class:"underline text-light-blue-500 hover:text-light-blue-700",onClick:M(s,["prevent"])},{default:m(()=>[y(r(f.__("Click here to re-send the verification email")),1)]),_:1},8,["href","onClick"]),x(t("div",{class:"mt-2 font-medium text-sm text-green-600"},r(f.__("A new verification link has been sent to your email address.")),513),[[A,i.value]])])]),default:m(()=>[y(r(f.__("Your email address is not verified."))+" ",1)]),_:1}))}},go={props:{loading:{type:Boolean,required:!0}}},yo={key:0,class:"animate-spin h-5 w-5 text-light-blue-600 dark:text-light-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},mo=t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),po=t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),fo=[mo,po];function bo(e,i,s,f,o,u){return s.loading?(n(),l("svg",yo,fo)):a("",!0)}const xo=k(go,[["render",bo]]),vo={components:{LoadingSpinner:xo,CopyToClipboard:me},props:{settings:Object,server:Object},data(){return{serverInfo:Object,loading:!0,error:null,interval:null}},computed:{bgImageUrl(){return window.colorMode==="dark"?this.settings.home_hero_bg_image_path_dark:this.settings.home_hero_bg_image_path_light},isBgImageVideo(){return this.bgImageUrl.includes(".webm")},joinBoxEnabled(){return this.settings.show_join_box_in_home_hero?!!(this.server||this.$page.props.defaultQueryServer):!1}},created(){this.joinBoxEnabled&&(this.getServerPing(),this.interval=setInterval(()=>this.getServerPing(),1e4))},unmounted(){this.joinBoxEnabled&&clearInterval(this.interval)},methods:{getServerPing(){let e=this.server;e||(e=this.$page.props.defaultQueryServer),axios.get(route("server.ping.get",e.id)).then(i=>{this.serverInfo=i.data,this.error=null}).catch(i=>{this.error=i.response.data.message||i.message,this.serverInfo=null}).finally(()=>{this.loading=!1})}}},ko=["src"],wo=["title","onClick"],So={key:0},Lo={key:0,class:"text-gray-100 text-xl font-bold"},$o={class:"text-light-blue-500 dark:text-light-blue-400 font-extrabold"},Co={key:1,class:"text-gray-100 text-xl font-bold"},Po={key:1},Ao={class:"text-red-400 font-bold"};function Io(e,i,s,f,o,u){const b=d("loading-spinner"),g=d("copy-to-clipboard"),p=$("tippy");return s.settings.enable_home_hero_section?(n(),l("div",{key:0,class:"flex justify-center items-center",style:I(`
                background: url('${u.isBgImageVideo?"":u.bgImageUrl}');
                background-size: ${s.settings.home_hero_bg_size_css};
                background-repeat: ${s.settings.home_hero_bg_repeat_css};
                background-position: ${s.settings.home_hero_bg_position_css};
                background-attachment: ${s.settings.home_hero_bg_attachment_css};
                height: ${s.settings.home_hero_bg_height_css};
              `)},[u.isBgImageVideo?(n(),l("video",{key:0,id:"home_hero_bg_image_light_video",class:"-z-10 absolute w-full",autoplay:"",loop:"",muted:"",style:I(`
                object-fit: ${s.settings.home_hero_bg_size_css};
                object-position: ${s.settings.home_hero_bg_position_css};
                height: ${s.settings.home_hero_bg_height_css};
      `)},[t("source",{src:u.bgImageUrl,type:"video/webm"},null,8,ko)],4)):a("",!0),u.joinBoxEnabled?(n(),v(g,{key:1},{default:m(c=>[x((n(),l("button",{type:"button",title:e.__("Click to Copy"),class:"bg-gray-800 bg-opacity-75 items-center px-5 py-3 rounded mx-3",onClick:L=>c.copy(s.server?s.server.hostname:e.$page.props.defaultQueryServer.hostname)},[h(b,{loading:o.loading},null,8,["loading"]),!o.loading&&!o.error?(n(),l("div",So,[c.status!=="copied"?(n(),l("span",Lo,[y(r(e.__("Join"))+" ",1),t("span",$o,r(o.serverInfo.players.online),1),y(" "+r(e.__("players on"))+" "+r(s.server?s.server.hostname:e.$page.props.defaultQueryServer.hostname),1)])):(n(),l("span",Co,r(e.__("Copied!")),1))])):a("",!0),o.error?(n(),l("div",Po,[t("span",Ao,r(o.error),1)])):a("",!0)],8,wo)),[[p]])]),_:1})):a("",!0)],4)):a("",!0)}const Mo=k(vo,[["render",Io]]),jo={components:{HeroSection:Mo,VerifyYourEmailBox:ho,TopPlayersListBox:uo,OnlineUsersBox:$s,DonationBox:ms,PollBox:ye,ServerStatusBox:ge,IngameChatBox:ls,OnlinePlayersBox:St,DidYouKnowBox:X,VersionCheck:ut,SocialChannelBox:ce,PostListBox:de,WelcomeBox:He,NewsBox:R,AppLayout:K,ShoutBox:Z,DiscordServerBox:ee,NewestUserBox:Ce,VotingSitesBox:Ve,LatestPinnedNews:tt},props:{pinnedNewsList:Array,newslist:Array,newestUser:Object,latestPoll:Object,onlineUsers:Array,welcomeBoxContentHtml:{type:[String,null]},chatDefaultServerId:Number,chatServerList:Array,top10Players:Array,themeSettings:Object},data(){return{generalSettings:this.$page.props.generalSettings}}},Bo={class:"grid grid-cols-none gap-4 px-2 py-4 mx-auto md:grid-cols-4 md:gap-6 md:py-12 md:px-10 md:px-6 lg:px-16 max-w-screen-2xl"},To={class:"order-1 col-span-1 space-y-4 md:order-none"},Do={class:"order-3 col-span-1 space-y-4 md:col-span-2 md:order-none"},No={class:"order-2 col-span-1 space-y-4 md:order-none"};function Vo(e,i,s,f,o,u){const b=d("app-head"),g=d("hero-section"),p=d("online-players-box"),c=d("voting-sites-box"),L=d("poll-box"),P=d("did-you-know-box"),_=d("discord-server-box"),B=d("donation-box"),D=d("VerifyYourEmailBox"),N=d("version-check"),V=d("welcome-box"),E=d("ingame-chat-box"),Q=d("top-players-list-box"),U=d("latest-pinned-news"),z=d("post-list-box"),O=d("server-status-box"),H=d("shout-box"),F=d("news-box"),Y=d("online-users-box"),q=d("newest-user-box"),W=d("social-channel-box"),J=d("app-layout");return n(),v(J,null,{default:m(()=>[h(b),s.themeSettings.enable_home_hero_section?(n(),v(g,{key:0,settings:s.themeSettings},null,8,["settings"])):a("",!0),t("div",Bo,[t("div",To,[o.generalSettings.enable_mcserver_onlineplayersbox?(n(),v(p,{key:0})):a("",!0),h(c,{votingsites:o.generalSettings.voteforserverbox_content,enabled:o.generalSettings.enable_voteforserverbox},null,8,["votingsites","enabled"]),h(L,{poll:s.latestPoll},null,8,["poll"]),h(P,{enabled:o.generalSettings.enable_didyouknowbox},null,8,["enabled"]),h(_,{enabled:o.generalSettings.enable_discordbox,server:o.generalSettings.discord_server_id},null,8,["enabled","server"]),h(B)]),t("div",Do,[e.$page.props.jetstream.hasEmailVerification&&e.$page.props.user&&e.$page.props.user.email_verified_at===null?(n(),v(D,{key:0})):a("",!0),e.$page.props.user&&e.isStaff(e.$page.props.user)?(n(),v(N,{key:1})):a("",!0),o.generalSettings.enable_welcomebox?(n(),v(V,{key:2,"html-data":s.welcomeBoxContentHtml},null,8,["html-data"])):a("",!0),h(E,{"default-server-id":s.chatDefaultServerId,"server-list":s.chatServerList},null,8,["default-server-id","server-list"]),h(Q,{enabled:!0,players:s.top10Players,title:e.__("Top 10 Players")},null,8,["players","title"]),h(U,{newslist:s.pinnedNewsList},null,8,["newslist"]),o.generalSettings.enable_status_feed?(n(),v(z,{key:3})):a("",!0)]),t("div",No,[h(O),h(H),h(F,{newslist:s.newslist},null,8,["newslist"]),h(Y,{users:s.onlineUsers,enabled:o.generalSettings.enable_onlineuserbox},null,8,["users","enabled"]),h(q,{user:s.newestUser,enabled:o.generalSettings.enable_newuserbox},null,8,["user","enabled"]),h(W,{enabled:o.generalSettings.enable_socialbox,"show-title":!0,twitter:o.generalSettings.twitter_url,twitch:o.generalSettings.twitch_url,youtube:o.generalSettings.youtube_url,facebook:o.generalSettings.facebook_url},null,8,["enabled","twitter","twitch","youtube","facebook"])])])]),_:1})}const sr=k(jo,[["render",Vo]]);export{sr as default};
