import{I as T,E as G,A as J}from"./AppLayout.2290ad3e.js";import{N as K}from"./NewsBox.22b02a1b.js";import{S as R}from"./ShoutBox.2f872330.js";import{D as Z,a as X}from"./DidYouKnowBox.570628ff.js";import{_ as k,z as d,B as $,o as n,d as a,a as t,t as o,b as h,w as y,I as j,x,h as p,e as c,F as w,g as S,n as P,c as v,Z as ee,$ as te,y as A,k as M,C as se,m as oe,V as re,r as ne,f as le,L as ae}from"./app.cb93a91e.js";import{S as ie,P as ce}from"./SocialChannelBox.24fab795.js";import{_ as B}from"./AlertCard.fd3027d8.js";import{_ as de}from"./DialogModal.a741005c.js";import{_ as ue}from"./SecondaryButton.529cd370.js";import{L as _e}from"./LoadingButton.9d9a0585.js";import{S as he}from"./ServerStatusBox.69b4aa28.js";import{P as ge}from"./PollBox.b431ed55.js";import"./InfiniteScroll.3c360b25.js";import"./InputError.0996fcfc.js";import"./Post.d284cf81.js";import"./UserDisplayname.e97d8d64.js";import"./Modal.df94a36f.js";import"./CopyToClipboard.4358cfcf.js";const ye={props:{user:Object,enabled:Boolean}},pe={key:0},me={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},fe={class:"font-extrabold text-gray-800 dark:text-gray-200"},be=["src"],xe={class:"flex flex-col"},ve={class:"break-all"},ke={class:"text-gray-500 dark:text-gray-400"},we=["title"];function Se(e,l,r,f,s,_){const b=d("inertia-link"),g=$("tippy");return r.enabled&&r.user?(n(),a("div",pe,[t("div",me,[t("h3",fe,o(e.__("Newest User")),1),h(b,{as:"div",href:e.route("user.public.get",r.user.username),class:"cursor-pointer flex space-x-2 border dark:border-gray-700 rounded-tl-md rounded-tr-xl rounded-b-3xl p-2 items-center hover:border-light-blue-400 dark:hover:border-light-blue-400"},{default:y(()=>[t("img",{class:"w-14 h-14 rounded-full",src:r.user.profile_photo_url,alt:"Avatar"},null,8,be),t("div",xe,[t("div",ve,[t("span",{class:"text-gray-800 dark:text-gray-300 font-semibold",style:j([r.user.roles[0].color?{color:r.user.roles[0].color}:null])},o(r.user.name),5),t("span",ke,"@"+o(r.user.username),1)]),x((n(),a("span",{class:"text-sm text-gray-700 dark:text-gray-500 focus:outline-none",title:e.formatToDayDateString(r.user.created_at)},[p(o(e.__("Joined"))+"\xA0"+o(e.formatTimeAgoToNow(r.user.created_at)),1)],8,we)),[[g]])])]),_:1},8,["href"])])])):c("",!0)}const Le=k(ye,[["render",Se]]),Pe={props:{votingsites:Array,enabled:Boolean}},$e={key:0},Ce={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},Ae={class:"font-extrabold text-gray-800 dark:text-gray-200"},Me={class:"rounded text-sm text-gray-600 dark:text-gray-400 text-center p-1"},Te={class:"flex flex-col space-y-2"},Ie=["content"],je=["href"];function Be(e,l,r,f,s,_){const b=$("tippy");return r.enabled&&r.votingsites&&r.votingsites.length>0?(n(),a("div",$e,[t("div",Ce,[t("h3",Ae,o(e.__("Vote for Server")),1),t("p",Me,o(e.__("Vote on these sites and win rewards!")),1),t("div",Te,[(n(!0),a(w,null,S(r.votingsites,(g,m)=>(n(),a("div",{key:m,class:"rounded flex justify-between items-center p-2 bg-gray-100 dark:bg-cool-gray-900"},[x((n(),a("div",{content:g.url,class:"text-gray-500 dark:text-gray-300 text-sm font-bold focus:outline-none"},[p(o(g.name),1)],8,Ie)),[[b]]),t("div",null,[t("a",{target:"_blank",class:"rounded tracking-wider text-sm px-2 py-1 text-gray-500 dark:text-gray-300 bg-white dark:bg-cool-gray-800 shadow hover:shadow-md",href:g.url},o(e.__("Vote")),9,je)])]))),128))])])])):c("",!0)}const De=k(Pe,[["render",Be]]),Ne={props:["htmlData"]},Ve={key:0},Ee={class:"bg-white dark:bg-cool-gray-800 rounded px-4 py-3 shadow"},Qe=["innerHTML"];function He(e,l,r,f,s,_){return r.htmlData?(n(),a("div",Ve,[t("div",Ee,[t("div",{class:"prose dark:prose-dark max-w-none text-center",innerHTML:r.htmlData},null,8,Qe)])])):c("",!0)}const Ue=k(Ne,[["render",He]]),Fe={components:{Icon:T},props:{newslist:Array}},Oe={key:0,class:"space-y-4"},ze={class:"bg-white dark:bg-cool-gray-800 rounded shadow flex justify-between"},Ye={class:"p-3 sm:px-5"},qe={class:"text-xl"},We={class:"mb-1"},Ge=["content"],Je={class:"text-sm text-gray-500 dark:text-gray-400 font-light leading-snug"},Ke=["innerHTML"],Re=["src"];function Ze(e,l,r,f,s,_){const b=d("icon"),g=d("inertia-link"),m=$("tippy");return r.newslist&&r.newslist.length>0?(n(),a("div",Oe,[(n(!0),a(w,null,S(r.newslist,i=>(n(),a("div",ze,[t("div",Ye,[t("div",qe,[t("p",We,[x(h(b,{title:e.__("Pinned News"),class:"inline text-gray-400 focus:outline-none",name:"paper-clip"},null,8,["title"]),[[m]]),t("span",{class:P(["font-semibold uppercase text-sm tracking-wider",{"text-light-blue-400":i.type.value===0,"text-orange-500":i.type.value===1,"text-green-500":i.type.value===2}])},o(i.type.key),3),x((n(),a("span",{content:e.formatToDayDateString(i.published_at),class:"focus:outline-none text-sm text-gray-500 dark:text-gray-400 font-light leading-snug"},[p(o(e.formatTimeAgoToNow(i.published_at)),1)],8,Ge)),[[m]]),t("span",Je," - "+o(i.time_to_read)+" read",1)]),h(g,{href:e.route("news.show",i.slug),class:"hover:text-light-blue-400 dark:text-gray-200 dark:hover:text-light-blue-400 duration-200"},{default:y(()=>[p(o(i.title),1)]),_:2},1032,["href"])]),t("div",{class:"mt-3 text-gray-500 dark:text-gray-400",innerHTML:i.body_md},null,8,Ke)]),i.photo_url?(n(),a("img",{key:0,class:"h-auto w-2/5 object-cover object-center",src:i.photo_url,alt:"News Image"},null,8,Re)):c("",!0)]))),256))])):c("",!0)}const Xe=k(Fe,[["render",Ze]]),et={components:{AlertCard:B},data(){return{response:{},loading:!0}},created(){axios.get(route("version.check")).then(e=>{this.response=e.data}).finally(()=>{this.loading=!1})}},tt={key:0,ref:"box"},st={class:"text-gray-700 dark:text-gray-200"},ot={class:"text-red-500"},rt={class:"text-green-500"},nt=t("br",null,null,-1),lt={class:"text-light-blue-500 hover:underline",target:"_blank",href:"https://minetrax.github.io/docs/upgrade"},at={class:"text-xs text-gray-500 italic mt-2"};function it(e,l,r,f,s,_){const b=d("AlertCard");return!s.loading&&s.response&&s.response.is_uptodate===!1?(n(),a("div",tt,[h(b,{"text-color":"text-red-800 dark:text-red-500","border-color":"border-red-500"},{body:y(()=>[t("div",st,[p(o(e.__("Your current MineTrax version is"))+"\xA0",1),t("span",ot,o(s.response.my_version),1),p("\xA0"+o(e.__("while the latest version is"))+"\xA0",1),t("span",rt,o(s.response.latest_version),1),p(". "+o(e.__("Please upgrade to enjoy latest features."))+" ",1),nt,t("a",lt,o(e.__("Click here to know more.")),1),t("p",at,o(e.__("Note: This box is only visible to Staff Member")),1)])]),default:y(()=>[p(o(e.__("Your MineTrax Version is Outdated!"))+" ",1)]),_:1})],512)):c("",!0)}const ct=k(et,[["render",it]]),dt={components:{ErrorMessage:G},props:{server:Object},data(){return{serverInfo:Object,playersList:Object,loading:!0,error:null,sizeClass:"w-5 h-5",interval:null}},computed:{enabled(){return this.$page.props.generalSettings.enable_mcserver_onlineplayersbox?!!(this.server||this.$page.props.defaultQueryServer):!1}},created(){!this.enabled||(this.getServerQuery(),this.interval=setInterval(()=>this.getServerQuery(),1e4))},unmounted(){clearInterval(this.interval)},methods:{getServerQuery(){let e=this.server;e||(e=this.$page.props.defaultQueryServer),axios.get(route("server.query.get",e.id)).then(l=>{this.serverInfo=l.data.server_info,this.playersList=l.data.players_list;for(let r in this.playersList)this.playersList[r]||(this.playersList[r]="00000000-0000-0000-0000-000000000000");this.error=null,Object.keys(this.playersList).length<=5&&(this.sizeClass="w-8 h-8")}).catch(l=>{this.error=l.response.data.message||l.message,this.serverInfo=null,this.playersList=null}).finally(()=>{this.loading=!1})}}},ut={key:0},_t={class:"p-3 sm:px-5 bg-white dark:bg-gray-800 rounded shadow"},ht={class:"font-extrabold text-gray-800 dark:text-gray-200"},gt={key:0,class:"float-right text-green-500 font-semibold"},yt={key:0,class:"flex p-4 justify-center"},pt=t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-light-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),mt=[pt],ft={key:2,class:"mt-3 text-gray-500 flex flex-wrap justify-center"},bt=["title","src","alt"],xt={key:3,class:"italic p-1 rounded text-center text-gray-400"};function vt(e,l,r,f,s,_){const b=d("error-message"),g=$("tippy");return _.enabled?(n(),a("div",ut,[t("div",_t,[t("h3",ht,[p(o(e.__("Online Players"))+" ",1),!s.loading&&!s.error?(n(),a("span",gt,o(s.serverInfo.Players)+" / "+o(s.serverInfo.MaxPlayers),1)):c("",!0)]),s.loading?(n(),a("div",yt,mt)):c("",!0),s.error?(n(),v(b,{key:1},{default:y(()=>[p(o(s.error),1)]),_:1})):c("",!0),!s.loading&&!s.error?(n(),a("div",ft,[(n(!0),a(w,null,S(s.playersList,(m,i)=>(n(),a("div",{key:m,class:P(["flex-shrink-0 mr-1 mb-1",s.sizeClass])},[x(t("img",{title:i,src:e.route("player.avatar.get",m,{size:25}),alt:i,class:P(["focus:outline-none",s.sizeClass])},null,10,bt),[[g]])],2))),128))])):c("",!0),!s.error&&(!s.playersList||s.playersList.length<=0)?(n(),a("div",xt,o(e.__("No players online.")),1)):c("",!0)])])):c("",!0)}const kt=k(dt,[["render",vt]]),wt={components:{Icon:T,JetDialogModal:de,JetSecondaryButton:ue,LoadingButton:_e},props:{defaultServerId:Number,serverList:Array},data(){return{serverId:this.defaultServerId,chatLogs:[],message:"",loading:!0,error:null,sending:!1,playersList:[],playersListLoading:!0,shouldDisplayPlayerList:!0,playerListQueryInterval:null,showAdminPlayerActionModel:!1,actionModelCurrentPlayer:null,adminPlayerActionLoading:!1,adminPlayerActionError:null,format:ee,isWebQuerySuccess:!1}},computed:{enabled(){return this.$page.props.generalSettings.enable_ingamechat?!!this.defaultServerId:!1}},watch:{serverId:function(e,l){Echo.leaveChannel("chatlogs."+l),this.serverId=e,this.getChatListForServer(e),clearInterval(this.playerListQueryInterval),this.getPlayerListForServer(e),this.playerListQueryInterval=setInterval(()=>this.getPlayerListForServer(e),1e4)}},created(){!this.enabled||(this.getChatListForServer(this.serverId),this.getPlayerListForServer(this.serverId),this.playerListQueryInterval=setInterval(()=>this.getPlayerListForServer(this.serverId),1e4))},unmounted(){Echo.leave("chatlogs."+this.serverId),clearInterval(this.playerListQueryInterval)},methods:{postSendMessage(){this.sending=!0,this.error=null,axios.post(route("chatlog.send",this.serverId),{message:this.message}).then(e=>{}).catch(e=>{e.response.status===422?this.error=Object.values(e.response.data.errors)[0][0]:e.response.status===403?this.error=e.response.data.message:this.error=e.response.statusText}).finally(e=>{this.message="",this.sending=!1,this.$nextTick(()=>{this.$refs.inputbox.focus()})})},getChatListForServer(e){this.loading=!0,this.chatLogs=[],axios.get(route("chatlog.index",e)).then(l=>{this.chatLogs=l.data.reverse()}).finally(l=>{this.loading=!1,this.$nextTick(()=>{let r=this.$el.querySelector("#chatbox").scrollHeight;this.$el.querySelector("#chatbox").scrollTo(0,r)})}),Echo.channel("chatlogs."+e).listen("ServerChatlogCreated",l=>{this.chatLogs.push(l.data),this.$nextTick(()=>{let r=this.$el.querySelector("#chatbox").scrollHeight;this.$el.querySelector("#chatbox").scrollTo(0,r)})})},getPlayerListForServer(e){axios.get(route("server.webquery.get",e)).then(l=>{this.playersList=l.data,this.isWebQuerySuccess=!0}).catch(l=>{this.shouldDisplayPlayerList=!1,this.isWebQuerySuccess=!1}).finally(l=>{this.playersListLoading=!1})},openAdminPlayerActionModel(e){this.showAdminPlayerActionModel=!0,this.actionModelCurrentPlayer=e},closeAdminPlayerActionModel(){this.showAdminPlayerActionModel=!1,this.actionModelCurrentPlayer=null},sendCommandToServer(e){this.adminPlayerActionLoading=!0;let l=null,r={type:null,params:null,context:null};switch(e){case"kill":r.type="kill",r.params=this.actionModelCurrentPlayer.username,r.context="player";break;case"mute":if(l=prompt(this.__("Give any reason if muting? Note: ALWAYS LEAVE IT BLANK IF UN-MUTING")),l===null)break;r.type="mute",l?r.params=this.actionModelCurrentPlayer.username+" "+l:r.params=this.actionModelCurrentPlayer.username,r.context="player";break;case"kick":if(l=prompt(this.__("Any reason for kicking this player?")),l===null)break;r.type="kick",r.params=this.actionModelCurrentPlayer.username+" "+l,r.context="player";break;case"ban":if(l=prompt(this.__("Any reason for banning this player?")),l===null)break;r.type="ban",r.params=this.actionModelCurrentPlayer.username+" "+l,r.context="player";break}if(r.type===null){this.adminPlayerActionLoading=!1;return}axios.post(route("admin.server.command",this.serverId),r).then(f=>{this.closeAdminPlayerActionModel()}).catch(f=>{this.adminPlayerActionError=f.message}).finally(()=>{this.adminPlayerActionLoading=!1})}}},St={key:0},Lt={class:"p-3 sm:px-5 bg-white dark:bg-cool-gray-800 rounded shadow"},Pt={class:"flex justify-between"},$t={class:"font-extrabold text-gray-800 dark:text-gray-200"},Ct=["value"],At={class:"flex flex-col"},Mt={key:0,class:"space-y-2"},Tt=oe('<div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div><div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div><div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div>',3),It=[Tt],jt={id:"chat-container",class:"flex-col-reverse md:flex-row flex bg-cool-gray-900 dark:bg-cool-gray-900 rounded mt-1 p-1 text-white relative justify-between"},Bt={id:"chatbox",class:"flex flex-col max-h-96 overflow-auto hide-scrollbar text-sm"},Dt=["title","innerHTML"],Nt={key:0,class:"flex italic text-sm w-full h-full items-center justify-center text-gray-500"},Vt={id:"player-list",class:"text-sm sticky flex justify-end bg-cool-gray-800 bg-opacity-100 rounded max-h-96 min-w-max overflow-auto hide-scrollbar"},Et={class:"flex flex-col w-full space-y-1"},Qt={class:"flex bg-cool-gray-600 bg-opacity-25 p-2 items-center justify-center relative"},Ht={class:"font-bold mr-5 ml-4"},Ut={class:"flex justify-between mx-1"},Ft={class:"flex space-x-1 truncate"},Ot=["src"],zt={id:"right",class:"flex items-center justify-center space-x-1"},Yt=["title","src","alt"],qt=["onClick"],Wt={key:1,class:"mt-1"},Gt=["disabled","placeholder"],Jt={key:1,class:"text-red-400 text-xs"},Kt={key:2,class:"flex mt-2 justify-end text-gray-500 dark:text-gray-400 text-xs"},Rt={key:2,class:"text-sm text-gray-600 dark:text-gray-400 text-center mt-2"},Zt={key:0,class:"flex flex-col items-center font-bold"},Xt={class:"underline text-gray-800"},es=["src"],ts={class:"text-light-blue-600"},ss={class:"text-xs text-gray-600"},os={class:"flex justify-center space-x-2"},rs={key:0,class:"flex text-red-500 border border-red-500 bg-red-100 p-1 mt-2 justify-center text-sm"};function ns(e,l,r,f,s,_){const b=d("inertia-link"),g=d("icon"),m=d("loading-button"),i=d("jet-secondary-button"),L=d("jet-dialog-modal"),C=$("tippy");return _.enabled?(n(),a("div",St,[t("div",Lt,[t("div",Pt,[t("h3",$t,o(e.__("Server In-Game Chat")),1),r.serverList&&r.serverList.length>1?x((n(),a("select",{key:0,id:"serverSelector","onUpdate:modelValue":l[0]||(l[0]=u=>s.serverId=u),"aria-label":"serverSelector",name:"serverSelector",class:"text-xs border-gray-300 focus:border-light-blue-300 focus:ring focus:ring-light-blue-200 focus:ring-opacity-50 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},[(n(!0),a(w,null,S(r.serverList,u=>(n(),a("option",{key:u.id,value:u.id},o(u.name),9,Ct))),128))],512)),[[te,s.serverId]]):c("",!0)]),t("div",At,[s.loading?(n(),a("div",Mt,It)):c("",!0),x(t("div",jt,[x(t("button",{class:"text-green-400 font-semibold absolute mt-1 mr-2 right-0 top-0",type:"button",onClick:l[1]||(l[1]=u=>s.shouldDisplayPlayerList=!s.shouldDisplayPlayerList)}," [+] ",512),[[A,!s.shouldDisplayPlayerList]]),t("div",Bt,[(n(!0),a(w,null,S(s.chatLogs,u=>x((n(),a("p",{key:u.id,title:e.formatToDayDateString(u.created_at),class:"focus:outline-none",innerHTML:u.data},null,8,Dt)),[[C]])),128)),!s.chatLogs||s.chatLogs.length<=0?(n(),a("div",Nt,o(e.__("No chat recorded yet!")),1)):c("",!0)]),x(t("div",Vt,[t("div",Et,[t("div",Qt,[t("h3",Ht,o(e.__("Players"))+"\xA0("+o(s.playersList.length)+") ",1),t("button",{class:"text-red-400 font-semibold absolute mr-2 right-0",type:"button",onClick:l[2]||(l[2]=u=>s.shouldDisplayPlayerList=!s.shouldDisplayPlayerList)}," [-] ")]),(n(!0),a(w,null,S(s.playersList,u=>(n(),a("div",Ut,[t("div",Ft,[t("img",{class:"h-5",src:e.route("player.avatar.get",{uuid:u.id,size:50}),alt:"Player Avatar"},null,8,Ot),u.is_in_db?(n(),v(b,{key:0,href:e.route("player.show",u.id)},{default:y(()=>[t("span",{class:P(["truncate font-semibold mr-1",{"text-yellow-300":u.is_op}])},o(u.username),3)]),_:2},1032,["href"])):(n(),a("span",{key:1,class:P(["truncate mr-1",{"text-yellow-300":u.is_op}])},o(u.username),3))]),t("div",zt,[x(t("img",{class:"h-5",title:u.country.name,src:u.country.photo_path,alt:u.country.name},null,8,Yt),[[C]]),e.$page.props.user&&e.$page.props.user.is_staff?(n(),a("a",{key:0,class:"cursor-pointer text-gray-400 hover:text-gray-200",href:"#",onClick:M(I=>_.openAdminPlayerActionModel(u),["prevent"])},[h(g,{name:"cog",class:"w-4 h-4"})],8,qt)):c("",!0)])]))),256))])],512),[[A,!s.playersListLoading&&s.shouldDisplayPlayerList]])],512),[[A,!s.loading]]),e.$page.props.user?(n(),a("div",Wt,[t("form",{onSubmit:l[4]||(l[4]=M((...u)=>_.postSendMessage&&_.postSendMessage(...u),["prevent"]))},[s.loading?c("",!0):x((n(),a("input",{key:0,ref:"inputbox","onUpdate:modelValue":l[3]||(l[3]=u=>s.message=u),disabled:s.sending||!s.isWebQuerySuccess,"aria-label":"Shout",class:"mt-1 focus:ring-gray-300 dark:focus:ring-gray-700 block w-full sm:text-sm rounded-md border-none disabled:opacity-50 bg-gray-100 dark:bg-cool-gray-900 dark:text-gray-200 focus:bg-white",type:"text",placeholder:s.isWebQuerySuccess?e.__("Say something.."):e.__("Server webquery is offline")},null,8,Gt)),[[se,s.message]]),s.error?(n(),a("span",Jt,o(s.error),1)):c("",!0),!s.loading&&e.can("send server_custom_commands")?(n(),a("span",Kt,o(e.__("Start with / to send a console command")),1)):c("",!0)],32)])):(n(),a("div",Rt,[h(b,{class:"font-semibold text-light-blue-500",href:e.route("login")},{default:y(()=>[p(o(e.__("Login")),1)]),_:1},8,["href"]),e.$page.props.hasRegistrationFeature?(n(),a(w,{key:0},[p(o(" "+e.__("or"))+" ",1),h(b,{class:"font-semibold text-light-blue-500",href:e.route("register")},{default:y(()=>[p(o(e.__("Register")),1)]),_:1},8,["href"])],64)):c("",!0),p(" "+o(e.__("to chat with In-Game Players")),1)]))])]),h(L,{show:s.showAdminPlayerActionModel,onClose:_.closeAdminPlayerActionModel},{title:y(()=>[s.actionModelCurrentPlayer?(n(),a("div",Zt,[t("span",Xt,o(e.__("Manage Player")),1),t("img",{class:"h-24 rounded",src:e.route("player.avatar.get",{uuid:s.actionModelCurrentPlayer.id}),alt:"Player Avatar"},null,8,es),t("span",ts,o(s.actionModelCurrentPlayer.username),1),t("span",ss,o(s.actionModelCurrentPlayer.id),1)])):c("",!0)]),content:y(()=>[t("div",os,[e.can("kill players")?(n(),v(m,{key:0,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",type:"button",onClick:l[5]||(l[5]=u=>_.sendCommandToServer("kill"))},{default:y(()=>[p(o(e.__("Kill")),1)]),_:1},8,["loading"])):c("",!0),e.can("mute players")?(n(),v(m,{key:1,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-200 disabled:opacity-50",type:"button",onClick:l[6]||(l[6]=u=>_.sendCommandToServer("mute"))},{default:y(()=>[p(o(e.__("Mute"))+" / "+o(e.__("UnMute")),1)]),_:1},8,["loading"])):c("",!0),e.can("kick players")?(n(),v(m,{key:2,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",type:"button",onClick:l[7]||(l[7]=u=>_.sendCommandToServer("kick"))},{default:y(()=>[p(o(e.__("Kick")),1)]),_:1},8,["loading"])):c("",!0),e.can("ban players")?(n(),v(m,{key:3,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50",type:"button",onClick:l[8]||(l[8]=u=>_.sendCommandToServer("ban"))},{default:y(()=>[p(o(e.__("Ban")),1)]),_:1},8,["loading"])):c("",!0)]),s.adminPlayerActionError?(n(),a("div",rs,o(s.adminPlayerActionError),1)):c("",!0)]),footer:y(()=>[h(i,{onClick:_.closeAdminPlayerActionModel},{default:y(()=>[p(o(e.__("Cancel")),1)]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])):c("",!0)}const ls=k(wt,[["render",ns]]),as={computed:{enabled(){return this.$page.props.generalSettings.enable_donation_box&&this.$page.props.generalSettings.donation_box_url},donationText(){return re.exports.sample([this.__("Help us run our servers!"),this.__("Your help mean everything to us!"),this.__("If you are capable, we would appreciate your contribution")])}}},is={key:0},cs={class:"p-3 sm:px-5 bg-white dark:bg-cool-gray-800 rounded shadow"},ds={class:"font-extrabold text-gray-800 dark:text-gray-200"},us={class:"rounded text-sm text-gray-600 dark:text-gray-300 text-center p-1"},_s={class:"mt-3 text-light-blue-400 flex justify-center"},hs=["href"];function gs(e,l,r,f,s,_){return _.enabled?(n(),a("div",is,[t("div",cs,[t("h3",ds,o(e.__("Donate")),1),t("p",us,o(_.donationText),1),t("div",_s,[t("a",{target:"_blank",class:"hover:bg-light-blue-50 dark:hover:bg-cool-gray-900 border px-2 py-1 border-light-blue-400 font-semibold rounded",href:e.$page.props.generalSettings.donation_box_url},o(e.__("Donate Now")),9,hs)])])])):c("",!0)}const ys=k(as,[["render",gs]]),ps={props:{users:Array,enabled:Boolean},computed:{guestCount(){let e=0;return this.users.forEach(l=>{l.user||e++}),e},onlineMembers(){return this.users.filter(e=>e.user)}}},ms={key:0},fs={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},bs={class:"font-extrabold text-gray-800 dark:text-gray-200"},xs={key:0,class:"flex justify-center flex-wrap"},vs=["src","alt"],ks={key:1,class:"text-gray-500 dark:text-gray-400 italic font-light flex justify-center"},ws={class:"flex justify-center text-xs text-gray-700 dark:text-gray-300 font-semibold"};function Ss(e,l,r,f,s,_){const b=d("inertia-link");return r.enabled&&r.users?(n(),a("div",ms,[t("div",fs,[t("h3",bs,o(e.__("Online Users")),1),r.users&&r.users.length>0?(n(),a("div",xs,[(n(!0),a(w,null,S(_.onlineMembers,g=>(n(),v(b,{key:g.id,as:"div",href:e.route("user.public.get",g.user.username),class:"cursor-pointer flex mr-2 items-center text-light-blue-500 hover:underline",style:j([g.user.roles[0].color?{color:g.user.roles[0].color}:null])},{default:y(()=>[t("img",{class:"h-5 w-5 rounded-full mr-0.5",src:g.user.profile_photo_url,alt:g.user.username},null,8,vs),t("span",null,"@"+o(g.user.username),1)]),_:2},1032,["href","style"]))),128))])):(n(),a("div",ks,o(e.__("No member online.")),1)),t("div",ws,o(e.__("Total"))+": "+o(_.guestCount+_.onlineMembers.length)+" ("+o(e.__("members"))+": "+o(_.onlineMembers.length)+", "+o(e.__("guests"))+": "+o(_.guestCount)+") ",1)])])):c("",!0)}const Ls=k(ps,[["render",Ss]]),Ps={components:{Icon:T},props:{title:String,players:Array,enabled:Boolean}},$s={key:0},Cs={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},As={class:"font-extrabold text-gray-800 dark:text-gray-200"},Ms={class:"flex flex-col space-y-2"},Ts={class:""},Is={class:"bg-gray-100 dark:bg-cool-gray-900 dark:bg-opacity-50 text-gray-700 dark:text-gray-300"},js={scope:"col",class:"p-1 text-left text-xs font-bold text-center uppercase tracking-wider"},Bs={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Ds={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Ns={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Vs={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider hidden sm:table-cell"},Es={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider hidden sm:table-cell"},Qs={class:"bg-white dark:bg-cool-gray-800"},Hs={class:"p-1 text-sm text-light-blue-400 font-extrabold"},Us={key:0,class:"border-2 rounded text-sm px-1 border-light-blue-300 bg-light-blue-50 dark:bg-cool-gray-800"},Fs={class:"p-1"},Os={class:"flex items-center"},zs=["content"],Ys=["src","alt"],qs={class:"p-1"},Ws={key:0,class:"flex items-center"},Gs=["content"],Js=["src"],Ks={class:"p-1"},Rs={class:"flex items-center"},Zs={class:"flex-shrink-0 h-6 w-6"},Xs=["src"],eo={class:"ml-4"},to={key:0,class:"text-gray-700 dark:text-gray-300 font-bold text-sm truncate"},so={key:1,class:"text-red-500 dark:text-red-400 italic"},oo={class:"p-1 text-sm text-gray-700 hidden sm:table-cell"},ro={key:0},no={key:1,class:"text-gray-700 dark:text-gray-500 italic"},lo={class:"p-1 text-xs text-gray-700 dark:text-gray-300 hidden sm:table-cell"},ao=["content"];function io(e,l,r,f,s,_){const b=d("inertia-link"),g=d("icon"),m=$("tippy");return r.enabled&&r.players&&r.players.length>0?(n(),a("div",$s,[t("div",Cs,[t("h3",As,o(r.title),1),t("div",Ms,[t("table",Ts,[t("thead",Is,[t("tr",null,[t("th",js,o(e.__("#")),1),t("th",Bs,o(e.__("Flag")),1),t("th",Ds,o(e.__("Rank")),1),t("th",Ns,o(e.__("Name")),1),t("th",Vs,o(e.__("Rating")),1),t("th",Es,o(e.__("Last Seen")),1)])]),t("tbody",Qs,[(n(!0),a(w,null,S(r.players,(i,L)=>(n(),a("tr",{key:L,class:P({"bg-gray-50 dark:bg-cool-gray-600 dark:bg-opacity-10":L%2===1})},[t("td",Hs,[i.position?(n(),a("span",Us,o(i.position),1)):c("",!0)]),t("td",Fs,[t("div",Os,[x((n(),a("div",{class:"flex-shrink-0 h-6 w-6 focus:outline-none",content:i.country.name},[t("img",{class:"h-6 w-6",src:i.country.photo_path,alt:i.country.name},null,8,Ys)],8,zs)),[[m]])])]),t("td",qs,[i.rank?(n(),a("div",Ws,[x((n(),a("div",{class:"flex-shrink-0 h-6 w-6 focus:outline-none",content:i.rank.name},[t("img",{class:"h-6 w-6",src:i.rank.photo_url,alt:""},null,8,Js)],8,Gs)),[[m]])])):c("",!0)]),t("td",Ks,[t("div",Rs,[t("div",Zs,[t("img",{class:"h-6 w-6",src:i.avatar_url,alt:""},null,8,Xs)]),t("div",eo,[x((n(),v(b,{as:"div",href:e.route("player.show",i.uuid),class:"text-sm text-gray-900 focus:outline-none cursor-pointer hover:underline",content:i.uuid},{default:y(()=>[i.username?(n(),a("span",to,o(i.username),1)):(n(),a("span",so,o(e.__("Unknown")),1))]),_:2},1032,["href","content"])),[[m]])])])]),t("td",oo,[i.rating!=null?(n(),a("span",ro,[x(h(g,{class:"w-6 h-6 focus:outline-none",name:`rating-${i.rating}`,content:i.rating},null,8,["name","content"]),[[m]])])):(n(),a("span",no,o(e.__("none")),1))]),t("td",lo,[x((n(),a("span",{class:"focus:outline-none",content:e.formatToDayDateString(i.last_seen_at)},[p(o(i.last_seen_at?e.formatTimeAgoToNow(i.last_seen_at):"unknown"),1)],8,ao)),[[m]])])],2))),128))])])])])])):c("",!0)}const co=k(Ps,[["render",io]]),uo={class:"text-gray-700 text-sm dark:text-gray-200"},_o={__name:"VerifyYourEmailBox",setup(e){const l=ne(null),r=()=>{l.value=!0};return(f,s)=>(n(),v(B,{"text-color":"text-orange-800 dark:text-orange-500","border-color":"border-orange-500"},{body:y(()=>[t("div",uo,[t("p",null,o(f.__("Email verification is required to perform any action on the site. Please check your email inbox or ")),1),h(le(ae),{href:f.route("verification.send"),method:"post",as:"button",class:"underline text-light-blue-500 hover:text-light-blue-700",onClick:M(r,["prevent"])},{default:y(()=>[p(o(f.__("Click here to re-send the verification email")),1)]),_:1},8,["href","onClick"]),x(t("div",{class:"mt-2 font-medium text-sm text-green-600"},o(f.__("A new verification link has been sent to your email address.")),513),[[A,l.value]])])]),default:y(()=>[p(o(f.__("Your email address is not verified."))+" ",1)]),_:1}))}},ho={components:{VerifyYourEmailBox:_o,TopPlayersListBox:co,OnlineUsersBox:Ls,DonationBox:ys,PollBox:ge,ServerStatusBox:he,IngameChatBox:ls,OnlinePlayersBox:kt,DidYouKnowBox:Z,VersionCheck:ct,SocialChannelBox:ie,PostListBox:ce,WelcomeBox:Ue,NewsBox:K,AppLayout:J,ShoutBox:R,DiscordServerBox:X,NewestUserBox:Le,VotingSitesBox:De,LatestPinnedNews:Xe},props:{pinnedNewsList:Array,newslist:Array,newestUser:Object,latestPoll:Object,onlineUsers:Array,welcomeBoxContentHtml:{type:[String,null]},chatDefaultServerId:Number,chatServerList:Array,top10Players:Array},data(){return{generalSettings:this.$page.props.generalSettings}}},go={class:"grid grid-cols-none gap-4 px-2 py-4 mx-auto md:grid-cols-4 md:gap-6 md:py-12 md:px-10 md:px-6 lg:px-16 max-w-screen-2xl"},yo={class:"order-1 col-span-1 space-y-4 md:order-none"},po={class:"order-3 col-span-1 space-y-4 md:col-span-2 md:order-none"},mo={class:"order-2 col-span-1 space-y-4 md:order-none"};function fo(e,l,r,f,s,_){const b=d("app-head"),g=d("online-players-box"),m=d("voting-sites-box"),i=d("poll-box"),L=d("did-you-know-box"),C=d("discord-server-box"),u=d("donation-box"),I=d("VerifyYourEmailBox"),D=d("version-check"),N=d("welcome-box"),V=d("ingame-chat-box"),E=d("top-players-list-box"),Q=d("latest-pinned-news"),H=d("post-list-box"),U=d("server-status-box"),F=d("shout-box"),O=d("news-box"),z=d("online-users-box"),Y=d("newest-user-box"),q=d("social-channel-box"),W=d("app-layout");return n(),v(W,null,{default:y(()=>[h(b),t("div",go,[t("div",yo,[s.generalSettings.enable_mcserver_onlineplayersbox?(n(),v(g,{key:0})):c("",!0),h(m,{votingsites:s.generalSettings.voteforserverbox_content,enabled:s.generalSettings.enable_voteforserverbox},null,8,["votingsites","enabled"]),h(i,{poll:r.latestPoll},null,8,["poll"]),h(L,{enabled:s.generalSettings.enable_didyouknowbox},null,8,["enabled"]),h(C,{enabled:s.generalSettings.enable_discordbox,server:s.generalSettings.discord_server_id},null,8,["enabled","server"]),h(u)]),t("div",po,[e.$page.props.jetstream.hasEmailVerification&&e.$page.props.user&&e.$page.props.user.email_verified_at===null?(n(),v(I,{key:0})):c("",!0),e.$page.props.user&&e.isStaff(e.$page.props.user)?(n(),v(D,{key:1})):c("",!0),s.generalSettings.enable_welcomebox?(n(),v(N,{key:2,"html-data":r.welcomeBoxContentHtml},null,8,["html-data"])):c("",!0),h(V,{"default-server-id":r.chatDefaultServerId,"server-list":r.chatServerList},null,8,["default-server-id","server-list"]),h(E,{enabled:!0,players:r.top10Players,title:e.__("Top 10 Players")},null,8,["players","title"]),h(Q,{newslist:r.pinnedNewsList},null,8,["newslist"]),s.generalSettings.enable_status_feed?(n(),v(H,{key:3})):c("",!0)]),t("div",mo,[h(U),h(F),h(O,{newslist:r.newslist},null,8,["newslist"]),h(z,{users:r.onlineUsers,enabled:s.generalSettings.enable_onlineuserbox},null,8,["users","enabled"]),h(Y,{user:r.newestUser,enabled:s.generalSettings.enable_newuserbox},null,8,["user","enabled"]),h(q,{enabled:s.generalSettings.enable_socialbox,"show-title":!0,twitter:s.generalSettings.twitter_url,twitch:s.generalSettings.twitch_url,youtube:s.generalSettings.youtube_url,facebook:s.generalSettings.facebook_url},null,8,["enabled","twitter","twitch","youtube","facebook"])])])]),_:1})}const Vo=k(ho,[["render",fo]]);export{Vo as default};
