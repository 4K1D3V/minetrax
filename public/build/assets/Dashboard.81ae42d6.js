import{I as T,E as G,A as J}from"./AppLayout.0a48a2f0.js";import{N as K}from"./NewsBox.92122dcd.js";import{S as R}from"./ShoutBox.69df66d9.js";import{D as Z,a as X}from"./DidYouKnowBox.2704656c.js";import{_ as k,z as u,B as $,o as n,d as l,a as t,t as o,b as h,w as y,I as j,x,f as p,e as c,F as w,h as S,n as P,c as v,Z as ee,$ as te,y as A,k as M,C as se,m as oe,V as re,r as ne,g as ae,L as le}from"./app.9fb1098e.js";import{S as ie,P as ce}from"./SocialChannelBox.67a25a29.js";import{_ as B}from"./AlertCard.fb517e45.js";import{_ as de}from"./DialogModal.c0b59d62.js";import{_ as ue}from"./SecondaryButton.3055ace6.js";import{L as _e}from"./LoadingButton.12b60332.js";import{S as he}from"./ServerStatusBox.f4c121a0.js";import{P as ge}from"./PollBox.8ce9707e.js";import"./InfiniteScroll.3fdfe769.js";import"./InputError.fb00105e.js";import"./Post.c7e29f22.js";import"./UserDisplayname.18b54642.js";import"./Modal.be1957e2.js";import"./CopyToClipboard.4358cfcf.js";const ye={props:{user:Object,enabled:Boolean}},pe={key:0},me={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},fe={class:"font-extrabold text-gray-800 dark:text-gray-200"},be=["src"],xe={class:"flex flex-col"},ve={class:"break-all"},ke={class:"text-gray-500 dark:text-gray-400"},we=["title"];function Se(e,a,r,f,s,_){const b=u("inertia-link"),g=$("tippy");return r.enabled&&r.user?(n(),l("div",pe,[t("div",me,[t("h3",fe,o(e.__("Newest User")),1),h(b,{as:"div",href:e.route("user.public.get",r.user.username),class:"cursor-pointer flex space-x-2 border dark:border-gray-700 rounded-tl-md rounded-tr-xl rounded-b-3xl p-2 items-center hover:border-light-blue-400 dark:hover:border-light-blue-400"},{default:y(()=>[t("img",{class:"w-14 h-14 rounded-full",src:r.user.profile_photo_url,alt:"Avatar"},null,8,be),t("div",xe,[t("div",ve,[t("span",{class:"text-gray-800 dark:text-gray-300 font-semibold",style:j([r.user.roles[0].color?{color:r.user.roles[0].color}:null])},o(r.user.name),5),t("span",ke,"@"+o(r.user.username),1)]),x((n(),l("span",{class:"text-sm text-gray-700 dark:text-gray-500 focus:outline-none",title:e.formatToDayDateString(r.user.created_at)},[p(o(e.__("Joined"))+"\xA0"+o(e.formatTimeAgoToNow(r.user.created_at)),1)],8,we)),[[g]])])]),_:1},8,["href"])])])):c("",!0)}const Le=k(ye,[["render",Se]]),Pe={props:{votingsites:Array,enabled:Boolean}},$e={key:0},Ce={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},Ae={class:"font-extrabold text-gray-800 dark:text-gray-200"},Me={class:"rounded text-sm text-gray-600 dark:text-gray-400 text-center p-1"},Te={class:"flex flex-col space-y-2"},Ie=["content"],je=["href"];function Be(e,a,r,f,s,_){const b=$("tippy");return r.enabled&&r.votingsites&&r.votingsites.length>0?(n(),l("div",$e,[t("div",Ce,[t("h3",Ae,o(e.__("Vote for Server")),1),t("p",Me,o(e.__("Vote on these sites and win rewards!")),1),t("div",Te,[(n(!0),l(w,null,S(r.votingsites,(g,m)=>(n(),l("div",{key:m,class:"rounded flex justify-between items-center p-2 bg-gray-100 dark:bg-cool-gray-900"},[x((n(),l("div",{content:g.url,class:"text-gray-500 dark:text-gray-300 text-sm font-bold focus:outline-none"},[p(o(g.name),1)],8,Ie)),[[b]]),t("div",null,[t("a",{target:"_blank",class:"rounded tracking-wider text-sm px-2 py-1 text-gray-500 dark:text-gray-300 bg-white dark:bg-cool-gray-800 shadow hover:shadow-md",href:g.url},o(e.__("Vote")),9,je)])]))),128))])])])):c("",!0)}const De=k(Pe,[["render",Be]]),Ne={props:["htmlData"]},Ve={key:0},Ee={class:"bg-white dark:bg-cool-gray-800 rounded px-4 py-3 shadow"},Qe=["innerHTML"];function He(e,a,r,f,s,_){return r.htmlData?(n(),l("div",Ve,[t("div",Ee,[t("div",{class:"prose dark:prose-dark max-w-none text-center",innerHTML:r.htmlData},null,8,Qe)])])):c("",!0)}const Ue=k(Ne,[["render",He]]),Fe={components:{Icon:T},props:{newslist:Array}},Oe={key:0,class:"space-y-4"},ze={class:"bg-white dark:bg-cool-gray-800 rounded shadow flex justify-between"},Ye={class:"p-3 sm:px-5"},qe={class:"text-xl"},We={class:"mb-1"},Ge=["content"],Je={class:"text-sm text-gray-500 dark:text-gray-400 font-light leading-snug"},Ke=["innerHTML"],Re=["src"];function Ze(e,a,r,f,s,_){const b=u("icon"),g=u("inertia-link"),m=$("tippy");return r.newslist&&r.newslist.length>0?(n(),l("div",Oe,[(n(!0),l(w,null,S(r.newslist,i=>(n(),l("div",ze,[t("div",Ye,[t("div",qe,[t("p",We,[x(h(b,{title:e.__("Pinned News"),class:"inline text-gray-400 focus:outline-none",name:"paper-clip"},null,8,["title"]),[[m]]),t("span",{class:P(["font-semibold uppercase text-sm tracking-wider",{"text-light-blue-400":i.type.value===0,"text-orange-500":i.type.value===1,"text-green-500":i.type.value===2}])},o(i.type.key),3),x((n(),l("span",{content:e.formatToDayDateString(i.published_at),class:"focus:outline-none text-sm text-gray-500 dark:text-gray-400 font-light leading-snug"},[p(o(e.formatTimeAgoToNow(i.published_at)),1)],8,Ge)),[[m]]),t("span",Je," - "+o(i.time_to_read)+" read",1)]),h(g,{href:e.route("news.show",i.slug),class:"hover:text-light-blue-400 dark:text-gray-200 dark:hover:text-light-blue-400 duration-200"},{default:y(()=>[p(o(i.title),1)]),_:2},1032,["href"])]),t("div",{class:"mt-3 text-gray-500 dark:text-gray-400",innerHTML:i.body_md},null,8,Ke)]),i.photo_url?(n(),l("img",{key:0,class:"h-auto w-2/5 object-cover object-center",src:i.photo_url,alt:"News Image"},null,8,Re)):c("",!0)]))),256))])):c("",!0)}const Xe=k(Fe,[["render",Ze]]),et={components:{AlertCard:B},data(){return{response:{},loading:!0}},created(){axios.get(route("version.check")).then(e=>{this.response=e.data}).finally(()=>{this.loading=!1})}},tt={key:0,ref:"box"},st={class:"text-gray-700 dark:text-gray-200"},ot={class:"text-red-500"},rt={class:"text-green-500"},nt=t("br",null,null,-1),at={class:"text-light-blue-500 hover:underline",target:"_blank",href:"https://minetrax.github.io/docs/upgrade"},lt={class:"text-xs text-gray-500 italic mt-2"};function it(e,a,r,f,s,_){const b=u("AlertCard");return!s.loading&&s.response&&s.response.is_uptodate===!1?(n(),l("div",tt,[h(b,{"text-color":"text-red-800 dark:text-red-500","border-color":"border-red-500"},{body:y(()=>[t("div",st,[p(o(e.__("Your current MineTrax version is"))+"\xA0",1),t("span",ot,o(s.response.my_version),1),p("\xA0"+o(e.__("while the latest version is"))+"\xA0",1),t("span",rt,o(s.response.latest_version),1),p(". "+o(e.__("Please upgrade to enjoy latest features."))+" ",1),nt,t("a",at,o(e.__("Click here to know more.")),1),t("p",lt,o(e.__("Note: This box is only visible to Staff Member")),1)])]),default:y(()=>[p(o(e.__("Your MineTrax Version is Outdated!"))+" ",1)]),_:1})],512)):c("",!0)}const ct=k(et,[["render",it]]),dt={components:{ErrorMessage:G},props:{server:Object},data(){return{serverInfo:Object,playersList:Object,loading:!0,error:null,sizeClass:"w-5 h-5",interval:null}},computed:{enabled(){return this.$page.props.generalSettings.enable_mcserver_onlineplayersbox?!!(this.server||this.$page.props.defaultQueryServer):!1}},created(){!this.enabled||(this.getServerQuery(),this.interval=setInterval(()=>this.getServerQuery(),1e4))},unmounted(){clearInterval(this.interval)},methods:{getServerQuery(){let e=this.server;e||(e=this.$page.props.defaultQueryServer),axios.get(route("server.query.get",e.id)).then(a=>{this.serverInfo=a.data.server_info,this.playersList=a.data.players_list;for(let r in this.playersList)this.playersList[r]||(this.playersList[r]="00000000-0000-0000-0000-000000000000");this.error=null,Object.keys(this.playersList).length<=5&&(this.sizeClass="w-8 h-8")}).catch(a=>{this.error=a.response.data.message||a.message,this.serverInfo=null,this.playersList=null}).finally(()=>{this.loading=!1})}}},ut={key:0},_t={class:"p-3 sm:px-5 bg-white dark:bg-gray-800 rounded shadow"},ht={class:"font-extrabold text-gray-800 dark:text-gray-200"},gt={key:0,class:"float-right text-green-500 font-semibold"},yt={key:0,class:"flex p-4 justify-center"},pt=t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-light-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),mt=[pt],ft={key:2,class:"mt-3 text-gray-500 flex flex-wrap justify-center"},bt=["title","src","alt"],xt={key:3,class:"italic p-1 rounded text-center text-gray-400"};function vt(e,a,r,f,s,_){const b=u("error-message"),g=$("tippy");return _.enabled?(n(),l("div",ut,[t("div",_t,[t("h3",ht,[p(o(e.__("Online Players"))+" ",1),!s.loading&&!s.error?(n(),l("span",gt,o(s.serverInfo.Players)+" / "+o(s.serverInfo.MaxPlayers),1)):c("",!0)]),s.loading?(n(),l("div",yt,mt)):c("",!0),s.error?(n(),v(b,{key:1},{default:y(()=>[p(o(s.error),1)]),_:1})):c("",!0),!s.loading&&!s.error?(n(),l("div",ft,[(n(!0),l(w,null,S(s.playersList,(m,i)=>(n(),l("div",{key:m,class:P(["flex-shrink-0 mr-1 mb-1",s.sizeClass])},[x(t("img",{title:i,src:e.route("player.avatar.get",{uuid:m,username:i,size:25}),alt:i,class:P(["focus:outline-none",s.sizeClass])},null,10,bt),[[g]])],2))),128))])):c("",!0),!s.error&&(!s.playersList||s.playersList.length<=0)?(n(),l("div",xt,o(e.__("No players online.")),1)):c("",!0)])])):c("",!0)}const kt=k(dt,[["render",vt]]),wt={components:{Icon:T,JetDialogModal:de,JetSecondaryButton:ue,LoadingButton:_e},props:{defaultServerId:Number,serverList:Array},data(){return{serverId:this.defaultServerId,chatLogs:[],message:"",loading:!0,error:null,sending:!1,playersList:[],playersListLoading:!0,shouldDisplayPlayerList:!0,playerListQueryInterval:null,showAdminPlayerActionModel:!1,actionModelCurrentPlayer:null,adminPlayerActionLoading:!1,adminPlayerActionError:null,format:ee,isWebQuerySuccess:!1}},computed:{enabled(){return this.$page.props.generalSettings.enable_ingamechat?!!this.defaultServerId:!1}},watch:{serverId:function(e,a){Echo.leaveChannel("chatlogs."+a),this.serverId=e,this.getChatListForServer(e),clearInterval(this.playerListQueryInterval),this.getPlayerListForServer(e),this.playerListQueryInterval=setInterval(()=>this.getPlayerListForServer(e),1e4)}},created(){!this.enabled||(this.getChatListForServer(this.serverId),this.getPlayerListForServer(this.serverId),this.playerListQueryInterval=setInterval(()=>this.getPlayerListForServer(this.serverId),1e4))},unmounted(){Echo.leave("chatlogs."+this.serverId),clearInterval(this.playerListQueryInterval)},methods:{postSendMessage(){this.sending=!0,this.error=null,axios.post(route("chatlog.send",this.serverId),{message:this.message}).then(e=>{}).catch(e=>{e.response.status===422?this.error=Object.values(e.response.data.errors)[0][0]:e.response.status===403?this.error=e.response.data.message:this.error=e.response.statusText}).finally(e=>{this.message="",this.sending=!1,this.$nextTick(()=>{this.$refs.inputbox.focus()})})},getChatListForServer(e){this.loading=!0,this.chatLogs=[],axios.get(route("chatlog.index",e)).then(a=>{this.chatLogs=a.data.reverse()}).finally(a=>{this.loading=!1,this.$nextTick(()=>{let r=this.$el.querySelector("#chatbox").scrollHeight;this.$el.querySelector("#chatbox").scrollTo(0,r)})}),Echo.channel("chatlogs."+e).listen("ServerChatlogCreated",a=>{this.chatLogs.push(a.data),this.$nextTick(()=>{let r=this.$el.querySelector("#chatbox").scrollHeight;this.$el.querySelector("#chatbox").scrollTo(0,r)})})},getPlayerListForServer(e){axios.get(route("server.webquery.get",e)).then(a=>{this.playersList=a.data,this.isWebQuerySuccess=!0}).catch(a=>{this.shouldDisplayPlayerList=!1,this.isWebQuerySuccess=!1}).finally(a=>{this.playersListLoading=!1})},openAdminPlayerActionModel(e){this.showAdminPlayerActionModel=!0,this.actionModelCurrentPlayer=e},closeAdminPlayerActionModel(){this.showAdminPlayerActionModel=!1,this.actionModelCurrentPlayer=null},sendCommandToServer(e){this.adminPlayerActionLoading=!0;let a=null,r={type:null,params:null,context:null};switch(e){case"kill":r.type="kill",r.params=this.actionModelCurrentPlayer.username,r.context="player";break;case"mute":if(a=prompt(this.__("Give any reason if muting? Note: ALWAYS LEAVE IT BLANK IF UN-MUTING")),a===null)break;r.type="mute",a?r.params=this.actionModelCurrentPlayer.username+" "+a:r.params=this.actionModelCurrentPlayer.username,r.context="player";break;case"kick":if(a=prompt(this.__("Any reason for kicking this player?")),a===null)break;r.type="kick",r.params=this.actionModelCurrentPlayer.username+" "+a,r.context="player";break;case"ban":if(a=prompt(this.__("Any reason for banning this player?")),a===null)break;r.type="ban",r.params=this.actionModelCurrentPlayer.username+" "+a,r.context="player";break}if(r.type===null){this.adminPlayerActionLoading=!1;return}axios.post(route("admin.server.command",this.serverId),r).then(f=>{this.closeAdminPlayerActionModel()}).catch(f=>{this.adminPlayerActionError=f.message}).finally(()=>{this.adminPlayerActionLoading=!1})}}},St={key:0},Lt={class:"p-3 sm:px-5 bg-white dark:bg-cool-gray-800 rounded shadow"},Pt={class:"flex justify-between"},$t={class:"font-extrabold text-gray-800 dark:text-gray-200"},Ct=["value"],At={class:"flex flex-col"},Mt={key:0,class:"space-y-2"},Tt=oe('<div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div><div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div><div class="w-full"><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-1 py-1"><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-3/4"></div><div class="h-4 bg-gray-300 dark:bg-cool-gray-700 rounded w-5/6"></div></div></div></div>',3),It=[Tt],jt={id:"chat-container",class:"flex-col-reverse md:flex-row flex bg-cool-gray-900 dark:bg-cool-gray-900 rounded mt-1 p-1 text-white relative justify-between"},Bt={id:"chatbox",class:"flex flex-col max-h-96 overflow-auto hide-scrollbar text-sm"},Dt=["title","innerHTML"],Nt={key:0,class:"flex italic text-sm w-full h-full items-center justify-center text-gray-500"},Vt={id:"player-list",class:"text-sm sticky flex justify-end bg-cool-gray-800 bg-opacity-100 rounded max-h-96 min-w-max overflow-auto hide-scrollbar"},Et={class:"flex flex-col w-full space-y-1"},Qt={class:"flex bg-cool-gray-600 bg-opacity-25 p-2 items-center justify-center relative"},Ht={class:"font-bold mr-5 ml-4"},Ut={class:"flex space-x-1 truncate"},Ft=["src"],Ot={id:"right",class:"flex items-center justify-center space-x-1"},zt=["title","src","alt"],Yt=["onClick"],qt={key:1,class:"mt-1"},Wt=["disabled","placeholder"],Gt={key:1,class:"text-red-400 text-xs"},Jt={key:2,class:"flex mt-2 justify-end text-gray-500 dark:text-gray-400 text-xs"},Kt={key:2,class:"text-sm text-gray-600 dark:text-gray-400 text-center mt-2"},Rt={key:0,class:"flex flex-col items-center font-bold"},Zt={class:"underline text-gray-800"},Xt=["src"],es={class:"text-light-blue-600"},ts={class:"text-xs text-gray-600"},ss={class:"flex justify-center space-x-2"},os={key:0,class:"flex text-red-500 border border-red-500 bg-red-100 p-1 mt-2 justify-center text-sm"};function rs(e,a,r,f,s,_){const b=u("inertia-link"),g=u("icon"),m=u("loading-button"),i=u("jet-secondary-button"),L=u("jet-dialog-modal"),C=$("tippy");return _.enabled?(n(),l("div",St,[t("div",Lt,[t("div",Pt,[t("h3",$t,o(e.__("Server In-Game Chat")),1),r.serverList&&r.serverList.length>1?x((n(),l("select",{key:0,id:"serverSelector","onUpdate:modelValue":a[0]||(a[0]=d=>s.serverId=d),"aria-label":"serverSelector",name:"serverSelector",class:"text-xs border-gray-300 focus:border-light-blue-300 focus:ring focus:ring-light-blue-200 focus:ring-opacity-50 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},[(n(!0),l(w,null,S(r.serverList,d=>(n(),l("option",{key:d.id,value:d.id},o(d.name),9,Ct))),128))],512)),[[te,s.serverId]]):c("",!0)]),t("div",At,[s.loading?(n(),l("div",Mt,It)):c("",!0),x(t("div",jt,[x(t("button",{class:"text-green-400 font-semibold absolute mt-1 mr-2 right-0 top-0",type:"button",onClick:a[1]||(a[1]=d=>s.shouldDisplayPlayerList=!s.shouldDisplayPlayerList)}," [+] ",512),[[A,!s.shouldDisplayPlayerList]]),t("div",Bt,[(n(!0),l(w,null,S(s.chatLogs,d=>x((n(),l("p",{key:d.id,title:e.formatToDayDateString(d.created_at),class:"focus:outline-none",innerHTML:d.data},null,8,Dt)),[[C]])),128)),!s.chatLogs||s.chatLogs.length<=0?(n(),l("div",Nt,o(e.__("No chat recorded yet!")),1)):c("",!0)]),x(t("div",Vt,[t("div",Et,[t("div",Qt,[t("h3",Ht,o(e.__("Players"))+"\xA0("+o(s.playersList.length)+") ",1),t("button",{class:"text-red-400 font-semibold absolute mr-2 right-0",type:"button",onClick:a[2]||(a[2]=d=>s.shouldDisplayPlayerList=!s.shouldDisplayPlayerList)}," [-] ")]),(n(!0),l(w,null,S(s.playersList,d=>(n(),l("div",{key:d.id,class:"flex justify-between mx-1"},[t("div",Ut,[t("img",{class:"h-5",src:e.route("player.avatar.get",{uuid:d.id,username:d.username,size:50}),alt:"Player Avatar"},null,8,Ft),d.is_in_db?(n(),v(b,{key:0,href:e.route("player.show",d.id)},{default:y(()=>[t("span",{class:P(["truncate font-semibold mr-1",{"text-yellow-300":d.is_op}])},o(d.username),3)]),_:2},1032,["href"])):(n(),l("span",{key:1,class:P(["truncate mr-1",{"text-yellow-300":d.is_op}])},o(d.username),3))]),t("div",Ot,[x(t("img",{class:"h-5",title:d.country.name,src:d.country.photo_path,alt:d.country.name},null,8,zt),[[C]]),e.$page.props.user&&e.$page.props.user.is_staff?(n(),l("a",{key:0,class:"cursor-pointer text-gray-400 hover:text-gray-200",href:"#",onClick:M(I=>_.openAdminPlayerActionModel(d),["prevent"])},[h(g,{name:"cog",class:"w-4 h-4"})],8,Yt)):c("",!0)])]))),128))])],512),[[A,!s.playersListLoading&&s.shouldDisplayPlayerList]])],512),[[A,!s.loading]]),e.$page.props.user?(n(),l("div",qt,[t("form",{onSubmit:a[4]||(a[4]=M((...d)=>_.postSendMessage&&_.postSendMessage(...d),["prevent"]))},[s.loading?c("",!0):x((n(),l("input",{key:0,ref:"inputbox","onUpdate:modelValue":a[3]||(a[3]=d=>s.message=d),disabled:s.sending||!s.isWebQuerySuccess,"aria-label":"Shout",class:"mt-1 focus:ring-gray-300 dark:focus:ring-gray-700 block w-full sm:text-sm rounded-md border-none disabled:opacity-50 bg-gray-100 dark:bg-cool-gray-900 dark:text-gray-200 focus:bg-white",type:"text",placeholder:s.isWebQuerySuccess?e.__("Say something.."):e.__("Server webquery is offline")},null,8,Wt)),[[se,s.message]]),s.error?(n(),l("span",Gt,o(s.error),1)):c("",!0),!s.loading&&e.can("send server_custom_commands")?(n(),l("span",Jt,o(e.__("Start with / to send a console command")),1)):c("",!0)],32)])):(n(),l("div",Kt,[h(b,{class:"font-semibold text-light-blue-500",href:e.route("login")},{default:y(()=>[p(o(e.__("Login")),1)]),_:1},8,["href"]),e.$page.props.hasRegistrationFeature?(n(),l(w,{key:0},[p(o(" "+e.__("or"))+" ",1),h(b,{class:"font-semibold text-light-blue-500",href:e.route("register")},{default:y(()=>[p(o(e.__("Register")),1)]),_:1},8,["href"])],64)):c("",!0),p(" "+o(e.__("to chat with In-Game Players")),1)]))])]),h(L,{show:s.showAdminPlayerActionModel,onClose:_.closeAdminPlayerActionModel},{title:y(()=>[s.actionModelCurrentPlayer?(n(),l("div",Rt,[t("span",Zt,o(e.__("Manage Player")),1),t("img",{class:"h-24 rounded",src:e.route("player.avatar.get",{uuid:s.actionModelCurrentPlayer.id,username:s.actionModelCurrentPlayer.username}),alt:"Player Avatar"},null,8,Xt),t("span",es,o(s.actionModelCurrentPlayer.username),1),t("span",ts,o(s.actionModelCurrentPlayer.id),1)])):c("",!0)]),content:y(()=>[t("div",ss,[e.can("kill players")?(n(),v(m,{key:0,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",type:"button",onClick:a[5]||(a[5]=d=>_.sendCommandToServer("kill"))},{default:y(()=>[p(o(e.__("Kill")),1)]),_:1},8,["loading"])):c("",!0),e.can("mute players")?(n(),v(m,{key:1,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-200 disabled:opacity-50",type:"button",onClick:a[6]||(a[6]=d=>_.sendCommandToServer("mute"))},{default:y(()=>[p(o(e.__("Mute"))+" / "+o(e.__("UnMute")),1)]),_:1},8,["loading"])):c("",!0),e.can("kick players")?(n(),v(m,{key:2,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50",type:"button",onClick:a[7]||(a[7]=d=>_.sendCommandToServer("kick"))},{default:y(()=>[p(o(e.__("Kick")),1)]),_:1},8,["loading"])):c("",!0),e.can("ban players")?(n(),v(m,{key:3,loading:s.adminPlayerActionLoading,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50",type:"button",onClick:a[8]||(a[8]=d=>_.sendCommandToServer("ban"))},{default:y(()=>[p(o(e.__("Ban")),1)]),_:1},8,["loading"])):c("",!0)]),s.adminPlayerActionError?(n(),l("div",os,o(s.adminPlayerActionError),1)):c("",!0)]),footer:y(()=>[h(i,{onClick:_.closeAdminPlayerActionModel},{default:y(()=>[p(o(e.__("Cancel")),1)]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])):c("",!0)}const ns=k(wt,[["render",rs]]),as={computed:{enabled(){return this.$page.props.generalSettings.enable_donation_box&&this.$page.props.generalSettings.donation_box_url},donationText(){return re.exports.sample([this.__("Help us run our servers!"),this.__("Your help mean everything to us!"),this.__("If you are capable, we would appreciate your contribution")])}}},ls={key:0},is={class:"p-3 sm:px-5 bg-white dark:bg-cool-gray-800 rounded shadow"},cs={class:"font-extrabold text-gray-800 dark:text-gray-200"},ds={class:"rounded text-sm text-gray-600 dark:text-gray-300 text-center p-1"},us={class:"mt-3 text-light-blue-400 flex justify-center"},_s=["href"];function hs(e,a,r,f,s,_){return _.enabled?(n(),l("div",ls,[t("div",is,[t("h3",cs,o(e.__("Donate")),1),t("p",ds,o(_.donationText),1),t("div",us,[t("a",{target:"_blank",class:"hover:bg-light-blue-50 dark:hover:bg-cool-gray-900 border px-2 py-1 border-light-blue-400 font-semibold rounded",href:e.$page.props.generalSettings.donation_box_url},o(e.__("Donate Now")),9,_s)])])])):c("",!0)}const gs=k(as,[["render",hs]]),ys={props:{users:Array,enabled:Boolean},computed:{guestCount(){let e=0;return this.users.forEach(a=>{a.user||e++}),e},onlineMembers(){return this.users.filter(e=>e.user)}}},ps={key:0},ms={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},fs={class:"font-extrabold text-gray-800 dark:text-gray-200"},bs={key:0,class:"flex justify-center flex-wrap"},xs=["src","alt"],vs={key:1,class:"text-gray-500 dark:text-gray-400 italic font-light flex justify-center"},ks={class:"flex justify-center text-xs text-gray-700 dark:text-gray-300 font-semibold"};function ws(e,a,r,f,s,_){const b=u("inertia-link");return r.enabled&&r.users?(n(),l("div",ps,[t("div",ms,[t("h3",fs,o(e.__("Online Users")),1),r.users&&r.users.length>0?(n(),l("div",bs,[(n(!0),l(w,null,S(_.onlineMembers,g=>(n(),v(b,{key:g.id,as:"div",href:e.route("user.public.get",g.user.username),class:"cursor-pointer flex mr-2 items-center text-light-blue-500 hover:underline",style:j([g.user.roles[0].color?{color:g.user.roles[0].color}:null])},{default:y(()=>[t("img",{class:"h-5 w-5 rounded-full mr-0.5",src:g.user.profile_photo_url,alt:g.user.username},null,8,xs),t("span",null,"@"+o(g.user.username),1)]),_:2},1032,["href","style"]))),128))])):(n(),l("div",vs,o(e.__("No member online.")),1)),t("div",ks,o(e.__("Total"))+": "+o(_.guestCount+_.onlineMembers.length)+" ("+o(e.__("members"))+": "+o(_.onlineMembers.length)+", "+o(e.__("guests"))+": "+o(_.guestCount)+") ",1)])])):c("",!0)}const Ss=k(ys,[["render",ws]]),Ls={components:{Icon:T},props:{title:String,players:Array,enabled:Boolean}},Ps={key:0},$s={class:"p-3 bg-white dark:bg-cool-gray-800 rounded shadow space-y-2"},Cs={class:"font-extrabold text-gray-800 dark:text-gray-200"},As={class:"flex flex-col space-y-2"},Ms={class:""},Ts={class:"bg-gray-100 dark:bg-cool-gray-900 dark:bg-opacity-50 text-gray-700 dark:text-gray-300"},Is={scope:"col",class:"p-1 text-left text-xs font-bold text-center uppercase tracking-wider"},js={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Bs={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Ds={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider"},Ns={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider hidden sm:table-cell"},Vs={scope:"col",class:"p-1 text-left text-xs font-bold uppercase tracking-wider hidden sm:table-cell"},Es={class:"bg-white dark:bg-cool-gray-800"},Qs={class:"p-1 text-sm text-light-blue-400 font-extrabold"},Hs={key:0,class:"border-2 rounded text-sm px-1 border-light-blue-300 bg-light-blue-50 dark:bg-cool-gray-800"},Us={class:"p-1"},Fs={class:"flex items-center"},Os=["content"],zs=["src","alt"],Ys={class:"p-1"},qs={key:0,class:"flex items-center"},Ws=["content"],Gs=["src"],Js={class:"p-1"},Ks={class:"flex items-center"},Rs={class:"flex-shrink-0 h-6 w-6"},Zs=["src"],Xs={class:"ml-4"},eo={key:0,class:"text-gray-700 dark:text-gray-300 font-bold text-sm truncate"},to={key:1,class:"text-red-500 dark:text-red-400 italic"},so={class:"p-1 text-sm text-gray-700 hidden sm:table-cell"},oo={key:0},ro={key:1,class:"text-gray-700 dark:text-gray-500 italic"},no={class:"p-1 text-xs text-gray-700 dark:text-gray-300 hidden sm:table-cell"},ao=["content"];function lo(e,a,r,f,s,_){const b=u("inertia-link"),g=u("icon"),m=$("tippy");return r.enabled&&r.players&&r.players.length>0?(n(),l("div",Ps,[t("div",$s,[t("h3",Cs,o(r.title),1),t("div",As,[t("table",Ms,[t("thead",Ts,[t("tr",null,[t("th",Is,o(e.__("#")),1),t("th",js,o(e.__("Flag")),1),t("th",Bs,o(e.__("Rank")),1),t("th",Ds,o(e.__("Name")),1),t("th",Ns,o(e.__("Rating")),1),t("th",Vs,o(e.__("Last Seen")),1)])]),t("tbody",Es,[(n(!0),l(w,null,S(r.players,(i,L)=>(n(),l("tr",{key:L,class:P({"bg-gray-50 dark:bg-cool-gray-600 dark:bg-opacity-10":L%2===1})},[t("td",Qs,[i.position?(n(),l("span",Hs,o(i.position),1)):c("",!0)]),t("td",Us,[t("div",Fs,[x((n(),l("div",{class:"flex-shrink-0 h-6 w-6 focus:outline-none",content:i.country.name},[t("img",{class:"h-6 w-6",src:i.country.photo_path,alt:i.country.name},null,8,zs)],8,Os)),[[m]])])]),t("td",Ys,[i.rank?(n(),l("div",qs,[x((n(),l("div",{class:"flex-shrink-0 h-6 w-6 focus:outline-none",content:i.rank.name},[t("img",{class:"h-6 w-6",src:i.rank.photo_url,alt:""},null,8,Gs)],8,Ws)),[[m]])])):c("",!0)]),t("td",Js,[t("div",Ks,[t("div",Rs,[t("img",{class:"h-6 w-6",src:i.avatar_url,alt:""},null,8,Zs)]),t("div",Xs,[x((n(),v(b,{as:"div",href:e.route("player.show",i.uuid),class:"text-sm text-gray-900 focus:outline-none cursor-pointer hover:underline",content:i.uuid},{default:y(()=>[i.username?(n(),l("span",eo,o(i.username),1)):(n(),l("span",to,o(e.__("Unknown")),1))]),_:2},1032,["href","content"])),[[m]])])])]),t("td",so,[i.rating!=null?(n(),l("span",oo,[x(h(g,{class:"w-6 h-6 focus:outline-none",name:`rating-${i.rating}`,content:i.rating},null,8,["name","content"]),[[m]])])):(n(),l("span",ro,o(e.__("none")),1))]),t("td",no,[x((n(),l("span",{class:"focus:outline-none",content:e.formatToDayDateString(i.last_seen_at)},[p(o(i.last_seen_at?e.formatTimeAgoToNow(i.last_seen_at):"unknown"),1)],8,ao)),[[m]])])],2))),128))])])])])])):c("",!0)}const io=k(Ls,[["render",lo]]),co={class:"text-gray-700 text-sm dark:text-gray-200"},uo={__name:"VerifyYourEmailBox",setup(e){const a=ne(null),r=()=>{a.value=!0};return(f,s)=>(n(),v(B,{"text-color":"text-orange-800 dark:text-orange-500","border-color":"border-orange-500"},{body:y(()=>[t("div",co,[t("p",null,o(f.__("Email verification is required to perform any action on the site. Please check your email inbox or ")),1),h(ae(le),{href:f.route("verification.send"),method:"post",as:"button",class:"underline text-light-blue-500 hover:text-light-blue-700",onClick:M(r,["prevent"])},{default:y(()=>[p(o(f.__("Click here to re-send the verification email")),1)]),_:1},8,["href","onClick"]),x(t("div",{class:"mt-2 font-medium text-sm text-green-600"},o(f.__("A new verification link has been sent to your email address.")),513),[[A,a.value]])])]),default:y(()=>[p(o(f.__("Your email address is not verified."))+" ",1)]),_:1}))}},_o={components:{VerifyYourEmailBox:uo,TopPlayersListBox:io,OnlineUsersBox:Ss,DonationBox:gs,PollBox:ge,ServerStatusBox:he,IngameChatBox:ns,OnlinePlayersBox:kt,DidYouKnowBox:Z,VersionCheck:ct,SocialChannelBox:ie,PostListBox:ce,WelcomeBox:Ue,NewsBox:K,AppLayout:J,ShoutBox:R,DiscordServerBox:X,NewestUserBox:Le,VotingSitesBox:De,LatestPinnedNews:Xe},props:{pinnedNewsList:Array,newslist:Array,newestUser:Object,latestPoll:Object,onlineUsers:Array,welcomeBoxContentHtml:{type:[String,null]},chatDefaultServerId:Number,chatServerList:Array,top10Players:Array},data(){return{generalSettings:this.$page.props.generalSettings}}},ho={class:"grid grid-cols-none gap-4 px-2 py-4 mx-auto md:grid-cols-4 md:gap-6 md:py-12 md:px-10 md:px-6 lg:px-16 max-w-screen-2xl"},go={class:"order-1 col-span-1 space-y-4 md:order-none"},yo={class:"order-3 col-span-1 space-y-4 md:col-span-2 md:order-none"},po={class:"order-2 col-span-1 space-y-4 md:order-none"};function mo(e,a,r,f,s,_){const b=u("app-head"),g=u("online-players-box"),m=u("voting-sites-box"),i=u("poll-box"),L=u("did-you-know-box"),C=u("discord-server-box"),d=u("donation-box"),I=u("VerifyYourEmailBox"),D=u("version-check"),N=u("welcome-box"),V=u("ingame-chat-box"),E=u("top-players-list-box"),Q=u("latest-pinned-news"),H=u("post-list-box"),U=u("server-status-box"),F=u("shout-box"),O=u("news-box"),z=u("online-users-box"),Y=u("newest-user-box"),q=u("social-channel-box"),W=u("app-layout");return n(),v(W,null,{default:y(()=>[h(b),t("div",ho,[t("div",go,[s.generalSettings.enable_mcserver_onlineplayersbox?(n(),v(g,{key:0})):c("",!0),h(m,{votingsites:s.generalSettings.voteforserverbox_content,enabled:s.generalSettings.enable_voteforserverbox},null,8,["votingsites","enabled"]),h(i,{poll:r.latestPoll},null,8,["poll"]),h(L,{enabled:s.generalSettings.enable_didyouknowbox},null,8,["enabled"]),h(C,{enabled:s.generalSettings.enable_discordbox,server:s.generalSettings.discord_server_id},null,8,["enabled","server"]),h(d)]),t("div",yo,[e.$page.props.jetstream.hasEmailVerification&&e.$page.props.user&&e.$page.props.user.email_verified_at===null?(n(),v(I,{key:0})):c("",!0),e.$page.props.user&&e.isStaff(e.$page.props.user)?(n(),v(D,{key:1})):c("",!0),s.generalSettings.enable_welcomebox?(n(),v(N,{key:2,"html-data":r.welcomeBoxContentHtml},null,8,["html-data"])):c("",!0),h(V,{"default-server-id":r.chatDefaultServerId,"server-list":r.chatServerList},null,8,["default-server-id","server-list"]),h(E,{enabled:!0,players:r.top10Players,title:e.__("Top 10 Players")},null,8,["players","title"]),h(Q,{newslist:r.pinnedNewsList},null,8,["newslist"]),s.generalSettings.enable_status_feed?(n(),v(H,{key:3})):c("",!0)]),t("div",po,[h(U),h(F),h(O,{newslist:r.newslist},null,8,["newslist"]),h(z,{users:r.onlineUsers,enabled:s.generalSettings.enable_onlineuserbox},null,8,["users","enabled"]),h(Y,{user:r.newestUser,enabled:s.generalSettings.enable_newuserbox},null,8,["user","enabled"]),h(q,{enabled:s.generalSettings.enable_socialbox,"show-title":!0,twitter:s.generalSettings.twitter_url,twitch:s.generalSettings.twitch_url,youtube:s.generalSettings.youtube_url,facebook:s.generalSettings.facebook_url},null,8,["enabled","twitter","twitch","youtube","facebook"])])])]),_:1})}const No=k(_o,[["render",mo]]);export{No as default};
