import{o,d as i,a as t,c as O,n as C,P as re,t as n,f as y,e as b,u as s,r as g,y as q,a0 as k,b as c,X as M,a1 as K,q as ne,s as f,w as oe,C as le}from"./app.52f92557.js";import{_ as ie}from"./AdminLayout.85b62f01.js";import{_ as w}from"./millify.524d1bf5.js";import{_ as V}from"./Chart.8ea55139.js";import{L as ce}from"./LoadingSpinner.c05734e6.js";import{n as W,u as de}from"./index.ebcbeb6a.js";import{r as Z,a as ue}from"./UserGroupIcon.9adf5124.js";import{u as pe}from"./useAuthorizable.12e73595.js";import"./AppLayout.4be001de.js";function ge(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function he(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})])}function me(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})])}function xe(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})])}const ye={class:"p-4 bg-white dark:bg-gray-800 rounded shadow"},fe={class:"flex"},ve={class:"mb-3 font-bold text-gray-600 dark:text-gray-400 text-md"},_e={class:"flex items-end justify-between space-x-4"},we={class:"text-4xl font-bold dark:text-gray-300 text-gray-800"},be={key:0,class:"text-end"},ke={class:"text-xs text-gray-400 whitespace-nowrap"},Y={__name:"KpiOverviewCard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-gray-500 bg-gray-100 dark:bg-gray-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},subValueClass:{type:[Array,String],required:!1,default:"text-gray-400"},description:{type:[String,Number],required:!1,default:null},descriptionClass:{type:[Array,String],required:!1,default:"text-gray-400"},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeClass:{type:[Array,String],required:!1,default:"text-gray-500 dark:text-gray-400 bg-gray-100"},changeDesc:{type:[String,Number],required:!1,default:null}},setup(e){return(a,r)=>(o(),i("div",ye,[t("div",fe,[(o(),O(re(e.icon),{class:C(["w-6 h-6 p-1 mr-1 rounded-full",e.iconClass])},null,8,["class"])),t("h3",ve,n(a.__(e.title)),1)]),t("div",_e,[t("div",null,[t("p",we,[y(n(e.value)+" ",1),e.subValue?(o(),i("span",{key:0,class:C(["text-sm font-semibold",e.subValueClass])},n(e.subValue),3)):b("",!0)]),e.description?(o(),i("p",{key:0,class:C(["text-xs",e.descriptionClass])},n(a.__(e.description)),3)):b("",!0)]),e.change?(o(),i("div",be,[t("span",{class:C(["text-sm w-12 font-bold dark:bg-opacity-10 rounded-full px-2 py-0.5",e.changeClass])},n(e.change),3),t("p",ke,n(a.__(e.changeDesc)),1)])):b("",!0)])]))}};function Pe(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z","clip-rule":"evenodd"})])}function $e(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177A7.547 7.547 0 016.648 6.61a.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 011.925-3.545 3.75 3.75 0 013.255 3.717z","clip-rule":"evenodd"})])}function Ce(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"})])}function Ae(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})])}const I={__name:"KpiOverviewCardForDashboard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-gray-500 bg-gray-100 dark:bg-gray-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},description:{type:[String,Number],required:!1,default:null},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeDesc:{type:[String,Number],required:!1,default:null}},setup(e){return(a,r)=>(o(),O(Y,{class:"flex-1",title:e.title,value:s(w)(e.value),"sub-value":`(+${e.subValue})`,"sub-value-class":[e.subValue>0?"text-green-500":"text-gray-400"],change:`+${s(w)(e.change,{precision:2})}%`,"change-class":[e.change>0?"text-green-500 bg-green-100":"text-gray-400 bg-gray-100"],"change-desc":e.changeDesc,icon:e.icon,"icon-class":e.iconClass,description:e.description},null,8,["title","value","sub-value","sub-value-class","change","change-class","change-desc","icon","icon-class","description"]))}},Te={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},Se={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Ne={__name:"PlayersOverTimeMetricBox",setup(e){let a=g({}),r=g(null),p=g(!0);return q(async()=>{const d=await k.get(route("admin.graph.online-players"));p.value=!1,r.value=d.data,a.value={tooltip:{trigger:"axis",position:function(l){return[l[0],"10%"]}},legend:{},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"time"},yAxis:{type:"value",boundaryGap:[0,"10%"]},dataZoom:[{type:"inside",start:90,end:100,zoomLock:!0},{start:90,end:100}],series:r.value.servers.map((l,m)=>({name:l,type:"line",smooth:!0,symbol:"none",seriesLayoutBy:"column",encode:{y:m+1},emphasis:{focus:"series"}})),dataset:{source:r.value.data}}}),(d,l)=>(o(),i("div",Te,[t("h3",Se,n(d.__("Online Players")),1),c(V,{options:s(a),height:"350px",loading:s(p),autoresize:!0},null,8,["options","loading"])]))}},Fe={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},ze={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Me={__name:"PlayersPerServerMetricBox",setup(e){let a=g({}),r=g(null),p=g(!0);return q(async()=>{const d=await k.get(route("admin.graph.players-per-server"));p.value=!1,r.value=d.data,a.value={tooltip:{trigger:"item"},toolbox:{feature:{saveAsImage:{}}},legend:{top:"2%",left:"center"},series:[{name:"Unique Players",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:7,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:r.value}]}}),(d,l)=>(o(),i("div",Fe,[t("h3",ze,n(d.__("Players per server")),1),c(V,{options:s(a),height:"350px",loading:s(p),autoresize:!0},null,8,["options","loading"])]))}},Ie={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},Oe={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},qe={__name:"PlayersPerCountryMetricBox",setup(e){let a=g({}),r=g(null),p=g(!0);return q(async()=>{const d=await k.get(route("admin.graph.players-per-country"));p.value=!1,r.value=d.data,a.value={tooltip:{formatter:function(l){const{name:m,value:h}=l.data;return`
                    <div class="flex flex-col">
                        <div class="flex flex-row items-center">
                            <img :alt="name" src="${l.data.image}" class="w-8 h-8 mr-2" />
                            <span class="font-bold">${m}</span>
                        </div>
                        <div class="flex flex-row justify-center items-center">
                            <span class="font-bold">${h}</span>
                            <span class="ml-1">players</span>
                        </div>
                    </div>`}},toolbox:{feature:{restore:{},saveAsImage:{}}},visualMap:{min:0,max:r.value.max,left:"left",top:"bottom",text:["High","Low"],calculable:!0,inRange:{color:window.colorMode==="dark"?["#e7f1ff","#89baff","#5999ff","#3385ff"]:["#e6eaed","#718cde","#1c46c7","#123395"]}},series:[{name:"Players",type:"map",mapType:"world",roam:!0,label:{show:!1,emphasis:{textStyle:{color:window.colorMode==="dark"?"#fff":"#d7d7d7"}}},itemStyle:{normal:{areaColor:"#fff"},emphasis:{areaColor:"#e6eaed"}},data:r.value.data}]}}),(d,l)=>(o(),i("div",Ie,[t("h3",Oe,n(d.__("Player's Country")),1),c(V,{autoresize:!0,options:s(a),height:"410px",loading:s(p)},null,8,["options","loading"])]))}};var Ve=Object.defineProperty,De=Object.defineProperties,Le=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,X=(e,a,r)=>a in e?Ve(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,A=(e,a)=>{for(var r in a||(a={}))Be.call(a,r)&&X(e,r,a[r]);if(G)for(var r of G(a))je.call(a,r)&&X(e,r,a[r]);return e},Je=(e,a)=>De(e,Le(a));function Ue(...e){const a=typeof e[0]=="string"?e[0]:void 0,r=typeof a=="string"?1:0;let p={},d=k,l={immediate:!!r,shallow:!0};const m=u=>!!(u!=null&&u.request);e.length>0+r&&(m(e[0+r])?d=e[0+r]:p=e[0+r]),e.length>1+r&&m(e[1+r])&&(d=e[1+r]),(e.length===2+r&&!m(e[1+r])||e.length===3+r)&&(l=e[e.length-1]);const{initialData:h,shallow:D,onSuccess:Q=W,onError:ee=W,immediate:te,resetOnExecute:ae=!1}=l,L=M(),T=(D?M:g)(h),v=g(!1),P=g(!1),S=g(!1),_=M(),B=k.CancelToken.source;let N=B();const F=u=>{v.value||!P.value||(N.cancel(u),N=B(),S.value=!0,P.value=!1,v.value=!1)},j=u=>{P.value=u,v.value=!u},se=()=>{ae&&(T.value=h)},J=()=>new Promise((u,$)=>{de(v).toBe(!0).then(()=>_.value?$(_.value):u(E))}),z={then:(...u)=>J().then(...u),catch:(...u)=>J().catch(...u)},U=(u=a,$={})=>{_.value=void 0;const R=typeof u=="string"?u:a!=null?a:$.url;return R===void 0?(_.value=new K.exports.AxiosError(K.exports.AxiosError.ERR_INVALID_URL),v.value=!0,z):(se(),F(),j(!0),d(R,Je(A(A({},p),typeof u=="object"?u:$),{cancelToken:N.token})).then(x=>{L.value=x;const H=x.data;T.value=H,Q(H)}).catch(x=>{_.value=x,ee(x)}).finally(()=>{var x;(x=l.onFinish)==null||x.call(l),j(!1)}),z)};te&&a&&U();const E={response:L,data:T,error:_,isFinished:v,isLoading:P,cancel:F,isAborted:S,isCanceled:S,abort:F,execute:U};return A(A({},E),z)}const Ee={class:"bg-white dark:bg-cool-gray-800 rounded w-full shadow"},Re={class:"p-3 font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},He={class:"flex flex-col"},Ke={key:0,class:"p-3 text-center bg-red-100 dark:bg-red-800/20 text-red-500 dark:text-red-400"},We={class:"overflow-x-auto"},Ze={class:"inline-block min-w-full align-middle"},Ge={class:"overflow-hidden shadow-lg shadow-gray-200"},Xe={key:0,class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ye={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},Qe={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},et={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},tt={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},at={class:"divide-y divide-gray-200 dark:divide-gray-700"},st={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},rt=["title"],nt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},ot={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},lt={class:"p-4 text-sm font-normal text-gray-500 dark:text-gray-400 whitespace-nowrap"},it={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},ct=["title"],dt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},ut={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},pt={class:"p-4 text-sm font-normal text-gray-500 dark:text-gray-400 whitespace-nowrap"},gt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},ht=["title"],mt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},xt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},yt={class:"p-4 text-sm font-normal text-gray-500 dark:text-gray-400 whitespace-nowrap"},ft={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},vt=["title"],_t={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},wt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},bt={class:"p-4 text-sm font-normal text-gray-500 dark:text-gray-400 whitespace-nowrap"},kt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},Pt=["title"],$t={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Ct={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},At={class:"p-4 text-sm font-normal text-gray-500 dark:text-gray-400 whitespace-nowrap"},Tt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},St=["title"],Nt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Ft={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},zt={class:"p-4 text-sm font-normal text-gray-500 dark:text-gray-400 whitespace-nowrap"},Mt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},It=["title"],Ot={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},qt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Vt={class:"p-4 text-sm font-normal text-gray-500 dark:text-gray-400 whitespace-nowrap"},Dt={__name:"NetworkTrendsMetricBox",setup(e){const{data:a,isFinished:r,isLoading:p,error:d}=Ue(route("admin.graph.network-trends-vs-month"));return(l,m)=>{const h=ne("tippy");return o(),i("div",Ee,[t("h3",Re,n(l.__("Network Trends")),1),t("div",He,[c(ce,{class:"w-full mt-10",loading:s(p)&&!s(r)},null,8,["loading"]),s(d)?(o(),i("div",Ke,n(s(d).message),1)):b("",!0),t("div",We,[t("div",Ze,[t("div",Ge,[!s(p)&&s(r)&&!s(d)?(o(),i("table",Xe,[t("thead",null,[t("tr",null,[t("th",Ye,n(l.__("Metric")),1),t("th",Qe,n(l.__("Last Month")),1),t("th",et,n(l.__("This Month")),1),t("th",tt,n(l.__("Trend")),1)])]),t("tbody",at,[t("tr",null,[t("td",st,[c(s(Z),{class:"w-5 h-5 text-light-blue-400"}),f((o(),i("span",{title:l.__("All players including old and new who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300 sm:flex-none"},[y("Total Players")],8,rt)),[[h,{trigger:"click"}]])]),t("td",nt,n(s(a).total_players.previous_month),1),t("td",ot,n(s(a).total_players.current_month),1),t("td",lt,n(s(a).total_players.change)+"% ",1)]),t("tr",null,[t("td",it,[c(s(Z),{class:"w-5 h-5 text-green-400"}),f((o(),i("span",{title:l.__("New players who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300 sm:flex-none"},[y("New Players")],8,ct)),[[h,{trigger:"click"}]])]),t("td",dt,n(s(a).total_new_players.previous_month),1),t("td",ut,n(s(a).total_new_players.current_month),1),t("td",pt,n(s(a).total_new_players.change)+"% ",1)]),t("tr",null,[t("td",gt,[c(s(xe),{class:"w-5 h-5 text-orange-400"}),f((o(),i("span",{title:l.__("Total sessions of players. One session is counted when player join server and then leave. A player can have multiple sessions."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[y("Total Sessions")],8,ht)),[[h,{trigger:"click"}]])]),t("td",mt,n(s(a).total_player_sessions.previous_month),1),t("td",xt,n(s(a).total_player_sessions.current_month),1),t("td",yt,n(s(a).total_player_sessions.change)+"% ",1)]),t("tr",null,[t("td",ft,[c(s(me),{class:"w-5 h-5 text-green-400"}),f((o(),i("span",{title:l.__("Average playtime player played during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[y("Avg Session Time")],8,vt)),[[h,{trigger:"click"}]])]),t("td",_t,n(s(a).avg_playtime.previous_month),1),t("td",wt,n(s(a).avg_playtime.current_month),1),t("td",bt,n(s(a).avg_playtime.change)+"% ",1)]),t("tr",null,[t("td",kt,[c(s(he),{class:"w-5 h-5 text-red-400"}),f((o(),i("span",{title:l.__("Average afktime player spent during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[y("Avg AFK Time")],8,Pt)),[[h,{trigger:"click"}]])]),t("td",$t,n(s(a).avg_afktime.previous_month),1),t("td",Ct,n(s(a).avg_afktime.current_month),1),t("td",At,n(s(a).avg_afktime.change)+"% ",1)]),t("tr",null,[t("td",Tt,[c(s(ge),{class:"w-5 h-5 text-yellow-400"}),f((o(),i("span",{title:l.__("Average ping players getting on your servers."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[y("Avg Player Ping")],8,St)),[[h,{trigger:"click"}]])]),t("td",Nt,n(s(a).avg_player_ping.previous_month)+" ms ",1),t("td",Ft,n(s(a).avg_player_ping.current_month)+" ms ",1),t("td",zt,n(s(a).avg_player_ping.change)+"% ",1)]),t("tr",null,[t("td",Mt,[c(s(ue),{class:"w-5 h-5 text-light-blue-400"}),f((o(),i("span",{title:l.__("Peek Online player reached on one server."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[y("Peek Online Players")],8,It)),[[h,{trigger:"click"}]])]),t("td",Ot,n(l.__(":players players",{players:s(a).peek_online_players.previous_month})),1),t("td",qt,n(l.__(":players players",{players:s(a).peek_online_players.current_month})),1),t("td",Vt,n(s(a).peek_online_players.change)+"% ",1)])])])):b("",!0)])])])])])}}},Lt={key:0,class:"p-4 flex"},Bt={class:"flex-1 bg-white dark:bg-gray-800 p-4 rounded text-red-400 text-center italic"},jt={key:1,class:"p-4 space-y-4"},Jt={id:"row1",class:"flex justify-between flex-1 space-x-4"},Ut={id:"row2",class:"flex justify-between flex-1 space-x-4"},Et={id:"row3",class:"flex justify-between flex-1 space-x-4"},ea={__name:"Dashboard",props:{kpiTotalUsers:Number,kpiUserCreatedForInterval:Number,kpiUserLastSeenForInterval:Number,kpiTotalUserPercent:Number,kpiTotalPlayers:Number,kpiPlayerCreatedForInterval:Number,kpiPlayerLastSeenForInterval:Number,kpiTotalPlayersPercent:Number,kpiTotalFailedJobs:Number,kpiFailedJobsForInterval:Number,kpiTotalFailedJobPercent:Number,kpiTotalPosts:Number,kpiPostCreatedForInterval:Number,kpiTotalPostsPercent:Number,kpiTotalComments:Number},setup(e){const{can:a}=pe();return(r,p)=>(o(),O(ie,null,{default:oe(()=>[c(le,{title:r.__("Admin Dashboard")},null,8,["title"]),s(a)("view admin_dashboard")?(o(),i("div",jt,[t("div",Jt,[c(I,{class:"flex-1",title:"Registered Users",value:s(w)(e.kpiTotalUsers),"sub-value":e.kpiUserCreatedForInterval,change:e.kpiTotalUserPercent,"change-desc":"in last 7 days",icon:s(Ce),"icon-class":"text-light-blue-500 bg-light-blue-100 dark:bg-light-blue-500 dark:text-white",description:`Active: ${e.kpiUserLastSeenForInterval} users`},null,8,["value","sub-value","change","icon","description"]),c(I,{class:"flex-1",title:"Total Players",value:e.kpiTotalPlayers,"sub-value":e.kpiPlayerCreatedForInterval,change:e.kpiTotalPlayersPercent,"change-desc":"in last 7 days",icon:s(Ae),"icon-class":"text-green-500 bg-green-100 dark:bg-green-500 dark:text-white",description:`Active: ${e.kpiPlayerLastSeenForInterval} players`},null,8,["value","sub-value","change","icon","description"]),c(I,{class:"flex-1",title:"Total Posts",value:e.kpiTotalPosts,"sub-value":e.kpiPostCreatedForInterval,change:e.kpiTotalPostsPercent,"change-desc":"in last 7 days",icon:s(Pe),"icon-class":"text-amber-500 bg-amber-100 dark:bg-amber-500 dark:text-white",description:`Total comments: ${e.kpiTotalComments}`},null,8,["value","sub-value","change","icon","description"]),c(Y,{class:"flex-1",title:"Failed Jobs",value:s(w)(e.kpiTotalFailedJobs),"sub-value":`(${e.kpiFailedJobsForInterval>0?"+":""}${s(w)(e.kpiFailedJobsForInterval)})`,"sub-value-class":[e.kpiFailedJobsForInterval>0?"text-red-500":"text-green-500"],change:`${e.kpiTotalFailedJobPercent>0?"+":""}${s(w)(e.kpiTotalFailedJobPercent,{precision:2})}%`,"change-class":[e.kpiTotalFailedJobPercent>0?"text-red-500 bg-red-100":"text-green-500 bg-green-100"],"change-desc":"in last 7 days",icon:s($e),"icon-class":"text-red-500 bg-red-100 dark:bg-red-500 dark:text-white",description:"Jobs failed to run."},null,8,["value","sub-value","sub-value-class","change","change-class","icon"])]),t("div",Ut,[c(Ne,{class:"basis-8/12"}),c(Me,{class:"basis-4/12"})]),t("div",Et,[c(qe,{class:"basis-1/2"}),c(Dt,{class:"basis-1/2"})])])):(o(),i("div",Lt,[t("div",Bt,n(r.__("Sorry! You are not allowed to view Admin Dashboard Statistics.")),1)]))]),_:1}))}};export{ea as default};
