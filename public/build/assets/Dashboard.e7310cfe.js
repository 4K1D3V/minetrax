import{o as l,d as i,a as s,c as q,n as m,P as re,t as n,f,e as P,u as a,r as h,y as V,a0 as $,b as c,X as I,a1 as K,q as ne,s as v,w as le,C as oe}from"./app.5bc07c9e.js";import{_ as ie}from"./AdminLayout.48b5d2f1.js";import{_}from"./millify.524d1bf5.js";import{_ as D}from"./Chart.05021428.js";import{L as ce}from"./LoadingSpinner.9601a18a.js";import{n as W,u as de}from"./index.1a6f71df.js";import{u as ue}from"./AppLayout.48200e20.js";import{r as Z,a as ge}from"./UserGroupIcon.4f80d1b5.js";import{u as pe}from"./useAuthorizable.baba4420.js";function he(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})])}function me(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})])}function ye(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})])}function xe(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})])}const fe={class:"p-4 bg-white dark:bg-gray-800 rounded shadow"},_e={class:"flex"},ve={class:"mb-3 font-bold text-gray-600 dark:text-gray-400 text-md"},we={class:"flex items-end justify-between space-x-4"},be={class:"text-4xl font-bold dark:text-gray-300 text-gray-800"},ke={key:0,class:"text-end"},Pe={class:"text-xs text-gray-400 whitespace-nowrap"},Y={__name:"KpiOverviewCard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-gray-500 bg-gray-100 dark:bg-gray-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},subValueClass:{type:[Array,String],required:!1,default:"text-gray-400"},description:{type:[String,Number],required:!1,default:null},descriptionClass:{type:[Array,String],required:!1,default:"text-gray-400"},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeClass:{type:[Array,String],required:!1,default:"text-gray-500 dark:text-gray-400 bg-gray-100"},changeDesc:{type:[String,Number],required:!1,default:null}},setup(e){return(r,t)=>(l(),i("div",fe,[s("div",_e,[(l(),q(re(e.icon),{class:m(["w-6 h-6 p-1 mr-1 rounded-full",e.iconClass])},null,8,["class"])),s("h3",ve,n(r.__(e.title)),1)]),s("div",we,[s("div",null,[s("p",be,[f(n(e.value)+" ",1),e.subValue?(l(),i("span",{key:0,class:m(["text-sm font-semibold",e.subValueClass])},n(e.subValue),3)):P("",!0)]),e.description?(l(),i("p",{key:0,class:m(["text-xs",e.descriptionClass])},n(r.__(e.description)),3)):P("",!0)]),e.change?(l(),i("div",ke,[s("span",{class:m(["text-sm w-12 font-bold dark:bg-opacity-10 rounded-full px-2 py-0.5",e.changeClass])},n(e.change),3),s("p",Pe,n(r.__(e.changeDesc)),1)])):P("",!0)])]))}};function $e(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z","clip-rule":"evenodd"})])}function Ce(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177A7.547 7.547 0 016.648 6.61a.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 011.925-3.545 3.75 3.75 0 013.255 3.717z","clip-rule":"evenodd"})])}function Te(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"})])}function Ae(e,r){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})])}const O={__name:"KpiOverviewCardForDashboard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-gray-500 bg-gray-100 dark:bg-gray-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},description:{type:[String,Number],required:!1,default:null},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeDesc:{type:[String,Number],required:!1,default:null}},setup(e){return(r,t)=>(l(),q(Y,{class:"flex-1",title:e.title,value:a(_)(e.value),"sub-value":`(+${e.subValue})`,"sub-value-class":[e.subValue>0?"text-green-500":"text-gray-400"],change:`+${a(_)(e.change,{precision:2})}%`,"change-class":[e.change>0?"text-green-500 bg-green-100":"text-gray-400 bg-gray-100"],"change-desc":e.changeDesc,icon:e.icon,"icon-class":e.iconClass,description:e.description},null,8,["title","value","sub-value","sub-value-class","change","change-class","change-desc","icon","icon-class","description"]))}},Se={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},Ne={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Fe={__name:"PlayersOverTimeMetricBox",setup(e){let r=h({}),t=h(null),p=h(!0);return V(async()=>{const d=await $.get(route("admin.graph.online-players"));p.value=!1,t.value=d.data,r.value={tooltip:{trigger:"axis",position:function(u){return[u[0],"10%"]}},legend:{},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"time"},yAxis:{type:"value",boundaryGap:[0,"10%"]},dataZoom:[{type:"inside",start:90,end:100,zoomLock:!0},{start:90,end:100}],series:t.value.servers.map((u,o)=>({name:u,type:"line",smooth:!0,symbol:"none",seriesLayoutBy:"column",encode:{y:o+1},emphasis:{focus:"series"}})),dataset:{source:t.value.data}}}),(d,u)=>(l(),i("div",Se,[s("h3",Ne,n(d.__("Online Players")),1),c(D,{options:a(r),height:"350px",loading:a(p),autoresize:!0},null,8,["options","loading"])]))}},ze={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},Me={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Ie={__name:"PlayersPerServerMetricBox",setup(e){let r=h({}),t=h(null),p=h(!0);return V(async()=>{const d=await $.get(route("admin.graph.players-per-server"));p.value=!1,t.value=d.data,r.value={tooltip:{trigger:"item"},toolbox:{feature:{saveAsImage:{}}},legend:{top:"2%",left:"center"},series:[{name:"Unique Players",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:7,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:t.value}]}}),(d,u)=>(l(),i("div",ze,[s("h3",Me,n(d.__("Players per server")),1),c(D,{options:a(r),height:"350px",loading:a(p),autoresize:!0},null,8,["options","loading"])]))}},Oe={class:"bg-white dark:bg-cool-gray-800 rounded w-full h-full space-y-2 p-3 shadow"},qe={class:"font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Ve={__name:"PlayersPerCountryMetricBox",setup(e){let r=h({}),t=h(null),p=h(!0);return V(async()=>{const d=await $.get(route("admin.graph.players-per-country"));p.value=!1,t.value=d.data,r.value={tooltip:{formatter:function(u){const{name:o,value:k}=u.data;return`
                    <div class="flex flex-col">
                        <div class="flex flex-row items-center">
                            <img :alt="name" src="${u.data.image}" class="w-8 h-8 mr-2" />
                            <span class="font-bold">${o}</span>
                        </div>
                        <div class="flex flex-row justify-center items-center">
                            <span class="font-bold">${k}</span>
                            <span class="ml-1">players</span>
                        </div>
                    </div>`}},toolbox:{feature:{restore:{},saveAsImage:{}}},visualMap:{min:0,max:t.value.max,left:"left",top:"bottom",text:["High","Low"],calculable:!0,inRange:{color:window.colorMode==="dark"?["#e7f1ff","#89baff","#5999ff","#3385ff"]:["#e6eaed","#718cde","#1c46c7","#123395"]}},series:[{name:"Players",type:"map",mapType:"world",roam:!0,label:{show:!1,emphasis:{textStyle:{color:window.colorMode==="dark"?"#fff":"#d7d7d7"}}},itemStyle:{normal:{areaColor:"#fff"},emphasis:{areaColor:"#e6eaed"}},data:t.value.data}]}}),(d,u)=>(l(),i("div",Oe,[s("h3",qe,n(d.__("Player's Country")),1),c(D,{autoresize:!0,options:a(r),height:"410px",loading:a(p)},null,8,["options","loading"])]))}};var De=Object.defineProperty,Le=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,X=(e,r,t)=>r in e?De(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,A=(e,r)=>{for(var t in r||(r={}))je.call(r,t)&&X(e,t,r[t]);if(G)for(var t of G(r))Je.call(r,t)&&X(e,t,r[t]);return e},Ue=(e,r)=>Le(e,Be(r));function Ee(...e){const r=typeof e[0]=="string"?e[0]:void 0,t=typeof r=="string"?1:0;let p={},d=$,u={immediate:!!t,shallow:!0};const o=g=>!!(g!=null&&g.request);e.length>0+t&&(o(e[0+t])?d=e[0+t]:p=e[0+t]),e.length>1+t&&o(e[1+t])&&(d=e[1+t]),(e.length===2+t&&!o(e[1+t])||e.length===3+t)&&(u=e[e.length-1]);const{initialData:k,shallow:y,onSuccess:Q=W,onError:ee=W,immediate:te,resetOnExecute:ae=!1}=u,L=I(),S=(y?I:h)(k),w=h(!1),C=h(!1),N=h(!1),b=I(),B=$.CancelToken.source;let F=B();const z=g=>{w.value||!C.value||(F.cancel(g),F=B(),N.value=!0,C.value=!1,w.value=!1)},j=g=>{C.value=g,w.value=!g},se=()=>{ae&&(S.value=k)},J=()=>new Promise((g,T)=>{de(w).toBe(!0).then(()=>b.value?T(b.value):g(E))}),M={then:(...g)=>J().then(...g),catch:(...g)=>J().catch(...g)},U=(g=r,T={})=>{b.value=void 0;const H=typeof g=="string"?g:r!=null?r:T.url;return H===void 0?(b.value=new K.exports.AxiosError(K.exports.AxiosError.ERR_INVALID_URL),w.value=!0,M):(se(),z(),j(!0),d(H,Ue(A(A({},p),typeof g=="object"?g:T),{cancelToken:F.token})).then(x=>{L.value=x;const R=x.data;S.value=R,Q(R)}).catch(x=>{b.value=x,ee(x)}).finally(()=>{var x;(x=u.onFinish)==null||x.call(u),j(!1)}),M)};te&&r&&U();const E={response:L,data:S,error:b,isFinished:w,isLoading:C,cancel:z,isAborted:N,isCanceled:N,abort:z,execute:U};return A(A({},E),M)}const He={class:"bg-white dark:bg-cool-gray-800 rounded w-full shadow"},Re={class:"p-3 font-extrabold text-gray-800 dark:text-gray-200 flex items-center"},Ke={class:"flex flex-col"},We={key:0,class:"p-3 text-center bg-red-100 dark:bg-red-800/20 text-red-500 dark:text-red-400"},Ze={class:"overflow-x-auto"},Ge={class:"inline-block min-w-full align-middle"},Xe={class:"overflow-hidden shadow-lg shadow-gray-200"},Ye={key:0,class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Qe={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},et={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},tt={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},at={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-gray-500 dark:text-gray-400 uppercase whitespace-nowrap"},st={class:"divide-y divide-gray-200 dark:divide-gray-700"},rt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},nt=["title"],lt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},ot={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},it={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},ct=["title"],dt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},ut={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},gt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},pt=["title"],ht={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},mt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},yt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},xt=["title"],ft={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},_t={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},vt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},wt=["title"],bt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},kt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Pt={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},$t=["title"],Ct={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Tt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},At={class:"flex items-center p-4 text-sm font-normal text-gray-900 dark:text-gray-300 whitespace-nowrap"},St=["title"],Nt={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},Ft={class:"p-4 text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap"},zt={__name:"NetworkTrendsMetricBox",setup(e){const{secondsToHMS:r}=ue(),{data:t,isFinished:p,isLoading:d,error:u}=Ee(route("admin.graph.network-trends-vs-month"));return(o,k)=>{const y=ne("tippy");return l(),i("div",He,[s("h3",Re,n(o.__("Network Trends")),1),s("div",Ke,[c(ce,{class:"w-full mt-10",loading:a(d)&&!a(p)},null,8,["loading"]),a(u)?(l(),i("div",We,n(a(u).message),1)):P("",!0),s("div",Ze,[s("div",Ge,[s("div",Xe,[!a(d)&&a(p)&&!a(u)?(l(),i("table",Ye,[s("thead",null,[s("tr",null,[s("th",Qe,n(o.__("Metric")),1),s("th",et,n(o.__("Last Month")),1),s("th",tt,n(o.__("This Month")),1),s("th",at,n(o.__("Trend")),1)])]),s("tbody",st,[s("tr",null,[s("td",rt,[c(a(Z),{class:"w-5 h-5 text-light-blue-400"}),v((l(),i("span",{title:o.__("All players including old and new who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300 sm:flex-none"},[f(n(o.__("Total Players")),1)],8,nt)),[[y,{trigger:"click"}]])]),s("td",lt,n(a(t).total_players.previous_month),1),s("td",ot,n(a(t).total_players.current_month),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).total_players.change<0,"text-green-500 font-semibold":a(t).total_players.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).total_players.change==0}])},n(a(t).total_players.change)+"% ",3)]),s("tr",null,[s("td",it,[c(a(Z),{class:"w-5 h-5 text-green-400"}),v((l(),i("span",{title:o.__("New players who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300 sm:flex-none"},[f(n(o.__("New Players")),1)],8,ct)),[[y,{trigger:"click"}]])]),s("td",dt,n(a(t).total_new_players.previous_month),1),s("td",ut,n(a(t).total_new_players.current_month),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).total_new_players.change<0,"text-green-500 font-semibold":a(t).total_new_players.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).total_new_players.change==0}])},n(a(t).total_new_players.change)+"% ",3)]),s("tr",null,[s("td",gt,[c(a(xe),{class:"w-5 h-5 text-orange-400"}),v((l(),i("span",{title:o.__("Total sessions of players. One session is counted when player join server and then leave. A player can have multiple sessions."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Total Sessions")),1)],8,pt)),[[y,{trigger:"click"}]])]),s("td",ht,n(a(t).total_player_sessions.previous_month),1),s("td",mt,n(a(t).total_player_sessions.current_month),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).total_player_sessions.change<0,"text-green-500 font-semibold":a(t).total_player_sessions.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).total_player_sessions.change==0}])},n(a(t).total_player_sessions.change)+"% ",3)]),s("tr",null,[s("td",yt,[c(a(ye),{class:"w-5 h-5 text-green-400"}),v((l(),i("span",{title:o.__("Average playtime player played during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Avg Session Time")),1)],8,xt)),[[y,{trigger:"click"}]])]),s("td",ft,n(a(r)(a(t).avg_playtime.previous_month,!0)),1),s("td",_t,n(a(r)(a(t).avg_playtime.current_month,!0)),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).avg_playtime.change<0,"text-green-500 font-semibold":a(t).avg_playtime.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).avg_playtime.change==0}])},n(a(t).avg_playtime.change)+"% ",3)]),s("tr",null,[s("td",vt,[c(a(me),{class:"w-5 h-5 text-red-400"}),v((l(),i("span",{title:o.__("Average afktime player spent during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Avg AFK Time")),1)],8,wt)),[[y,{trigger:"click"}]])]),s("td",bt,n(a(r)(a(t).avg_afktime.previous_month,!0)),1),s("td",kt,n(a(r)(a(t).avg_afktime.current_month,!0)),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).avg_afktime.change<0,"text-green-500 font-semibold":a(t).avg_afktime.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).avg_afktime.change==0}])},n(a(t).avg_afktime.change)+"% ",3)]),s("tr",null,[s("td",Pt,[c(a(he),{class:"w-5 h-5 text-yellow-400"}),v((l(),i("span",{title:o.__("Average ping players getting on your servers."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f(n(o.__("Avg Player Ping")),1)],8,$t)),[[y,{trigger:"click"}]])]),s("td",Ct,n(a(_)(a(t).avg_player_ping.previous_month))+" ms ",1),s("td",Tt,n(a(_)(a(t).avg_player_ping.current_month))+" ms ",1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).avg_player_ping.change<0,"text-green-500 font-semibold":a(t).avg_player_ping.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).avg_player_ping.change==0}])},n(a(t).avg_player_ping.change)+"% ",3)]),s("tr",null,[s("td",At,[c(a(ge),{class:"w-5 h-5 text-light-blue-400"}),v((l(),i("span",{title:o.__("Peek Online player reached on one server."),class:"flex-none mx-5 ml-3 w-32 font-medium text-gray-900 dark:text-gray-300"},[f("Peek Online Players")],8,St)),[[y,{trigger:"click"}]])]),s("td",Nt,n(o.__(":players players",{players:a(t).peek_online_players.previous_month})),1),s("td",Ft,n(o.__(":players players",{players:a(t).peek_online_players.current_month})),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":a(t).peek_online_players.change<0,"text-green-500 font-semibold":a(t).peek_online_players.change>0,"text-gray-500 dark:text-gray-400 font-normal":a(t).peek_online_players.change==0}])},n(a(t).peek_online_players.change)+"% ",3)])])])):P("",!0)])])])])])}}},Mt={key:0,class:"p-4 flex"},It={class:"flex-1 bg-white dark:bg-gray-800 p-4 rounded text-red-400 text-center italic"},Ot={key:1,class:"p-4 space-y-4"},qt={id:"row1",class:"flex justify-between flex-1 space-x-4"},Vt={id:"row2",class:"flex justify-between flex-1 space-x-4"},Dt={id:"row3",class:"flex justify-between flex-1 space-x-4"},Wt={__name:"Dashboard",props:{kpiTotalUsers:Number,kpiUserCreatedForInterval:Number,kpiUserLastSeenForInterval:Number,kpiTotalUserPercent:Number,kpiTotalPlayers:Number,kpiPlayerCreatedForInterval:Number,kpiPlayerLastSeenForInterval:Number,kpiTotalPlayersPercent:Number,kpiTotalFailedJobs:Number,kpiFailedJobsForInterval:Number,kpiTotalFailedJobPercent:Number,kpiTotalPosts:Number,kpiPostCreatedForInterval:Number,kpiTotalPostsPercent:Number,kpiTotalComments:Number},setup(e){const{can:r}=pe();return(t,p)=>(l(),q(ie,null,{default:le(()=>[c(oe,{title:t.__("Admin Dashboard")},null,8,["title"]),a(r)("view admin_dashboard")?(l(),i("div",Ot,[s("div",qt,[c(O,{class:"flex-1",title:"Registered Users",value:a(_)(e.kpiTotalUsers),"sub-value":e.kpiUserCreatedForInterval,change:e.kpiTotalUserPercent,"change-desc":"in last 7 days",icon:a(Te),"icon-class":"text-light-blue-500 bg-light-blue-100 dark:bg-light-blue-500 dark:text-white",description:`Active: ${e.kpiUserLastSeenForInterval} users`},null,8,["value","sub-value","change","icon","description"]),c(O,{class:"flex-1",title:"Total Players",value:e.kpiTotalPlayers,"sub-value":e.kpiPlayerCreatedForInterval,change:e.kpiTotalPlayersPercent,"change-desc":"in last 7 days",icon:a(Ae),"icon-class":"text-green-500 bg-green-100 dark:bg-green-500 dark:text-white",description:`Active: ${e.kpiPlayerLastSeenForInterval} players`},null,8,["value","sub-value","change","icon","description"]),c(O,{class:"flex-1",title:"Total Posts",value:e.kpiTotalPosts,"sub-value":e.kpiPostCreatedForInterval,change:e.kpiTotalPostsPercent,"change-desc":"in last 7 days",icon:a($e),"icon-class":"text-amber-500 bg-amber-100 dark:bg-amber-500 dark:text-white",description:`Total comments: ${e.kpiTotalComments}`},null,8,["value","sub-value","change","icon","description"]),c(Y,{class:"flex-1",title:"Failed Jobs",value:a(_)(e.kpiTotalFailedJobs),"sub-value":`(${e.kpiFailedJobsForInterval>0?"+":""}${a(_)(e.kpiFailedJobsForInterval)})`,"sub-value-class":[e.kpiFailedJobsForInterval>0?"text-red-500":"text-green-500"],change:`${e.kpiTotalFailedJobPercent>0?"+":""}${a(_)(e.kpiTotalFailedJobPercent,{precision:2})}%`,"change-class":[e.kpiTotalFailedJobPercent>0?"text-red-500 bg-red-100":"text-green-500 bg-green-100"],"change-desc":"in last 7 days",icon:a(Ce),"icon-class":"text-red-500 bg-red-100 dark:bg-red-500 dark:text-white",description:"Jobs failed to run."},null,8,["value","sub-value","sub-value-class","change","change-class","icon"])]),s("div",Vt,[c(Fe,{class:"basis-8/12"}),c(Ie,{class:"basis-4/12"})]),s("div",Dt,[c(Ve,{class:"basis-1/2"}),c(zt,{class:"basis-1/2"})])])):(l(),i("div",Mt,[s("div",It,n(t.__("Sorry! You are not allowed to view Admin Dashboard Statistics.")),1)]))]),_:1}))}};export{Wt as default};
