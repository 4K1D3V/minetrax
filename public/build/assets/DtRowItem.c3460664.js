import{o,d as c,a as t,r as N,h as I,N as A,l as z,u as g,c as w,w as x,f,t as d,b,n as P,F as M,g as V,S as O,i as T,U as D,V as U,s as L,v as E,x as W,m as F,e as j,W as G,_ as H}from"./app.5bc07c9e.js";import{r as C,I as J}from"./AppLayout.48200e20.js";import{r as K}from"./XMarkIcon.7c1db738.js";function Q(s,y){return o(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})])}function X(s,y){return o(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})])}const Y={key:0,class:"isolate inline-flex space-x-2 rounded-md shadow-sm"},Z={key:1,disabled:"",class:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-gray-800 dark:bg-gray-700 dark:text-gray-500 bg-white px-4 py-2 text-sm font-medium text-gray-400 cursor-not-allowed"},ee={key:3,disabled:"",class:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-gray-800 dark:bg-gray-700 dark:text-gray-500 bg-white px-4 py-2 text-sm font-medium text-gray-400 cursor-not-allowed"},te={key:1,class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},re={class:"sr-only"},ae={key:0,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:outline-offset-0"},se={class:"sr-only"},de={__name:"DtPagination",props:{data:{required:!0,type:Object}},setup(s){const y=s;let a=N([]),v=N({}),m=N({}),k=N([]);const $=I(()=>y.data.total==null);S(),A(()=>{S()});function S(){if($.value)return;const l=y.data.links.map(r=>({url:r.url,label:r.label,active:r.active}));a.value=l,v.value=a.value.shift(),m.value=a.value.pop();const n=a.value.findIndex(r=>r.active),e=a.value.length;k.value=q(n+1,e)}function p(l,n){return Array(n-l+1).fill().map((e,r)=>r+l)}function q(l,n){let e=null;n<=7?e=7:e=l>4&&l<n-3?2:4;const r={start:Math.round(l-e/2),end:Math.round(l+e/2)};(r.start-1===1||r.end+1===n)&&(r.start+=1,r.end+=1);let u=l>e?p(Math.min(r.start,n-e),Math.min(r.end,n)):p(1,Math.min(n,e+1));const h=(_,B)=>u.length+1!==n?B:[_];return u[0]!==1&&(u=h(1,[1,"..."]).concat(u)),u[u.length-1]<n&&(u=u.concat(h(n,["...",n]))),u}return(l,n)=>{var r,u;const e=z("InertiaLink");return g($)?(o(),c("nav",Y,[y.data.prev_page_url?(o(),w(e,{key:0,href:s.data.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-gray-800 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:x(()=>[f(d(l.__("Previous")),1)]),_:1},8,["href"])):(o(),c("button",Z,d(l.__("Previous")),1)),y.data.next_page_url?(o(),w(e,{key:2,href:s.data.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 dark:border-gray-800 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:x(()=>[f(d(l.__("Next")),1)]),_:1},8,["href"])):(o(),c("button",ee,d(l.__("Next")),1))])):(o(),c("nav",te,[b(e,{href:(r=g(v).url)!=null?r:"#",class:P(["relative disabled:bg-gray-900 inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:z-20 focus:outline-offset-0",[g(v).url==null?"pointer-events-none":"hover:bg-gray-50 dark:hover:bg-gray-700"]])},{default:x(()=>[t("span",re,d(l.__("Previous")),1),b(g(Q),{class:"h-5 w-5"})]),_:1},8,["href","class"]),(o(!0),c(M,null,V(g(k),(h,_)=>(o(),c(M,{key:_},[h==="..."?(o(),c("span",ae,"...")):(o(),w(e,{key:1,href:g(a)[h-1].url,class:P(["relative inline-flex items-center px-4 py-2 text-sm text-gray-900 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:z-20 focus:outline-offset-0",[g(a)[h-1].active?"bg-gray-300 dark:bg-gray-900 font-semibold":"hover:bg-gray-50 dark:hover:bg-gray-700"]])},{default:x(()=>[f(d(g(a)[h-1].label),1)]),_:2},1032,["href","class"]))],64))),128)),b(e,{disabled:!g(m).url==null,href:(u=g(m).url)!=null?u:"#",class:P(["relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:z-20 focus:outline-offset-0",[g(m).url==null?"pointer-events-none":"hover:bg-gray-50 dark:hover:bg-gray-700"]])},{default:x(()=>[t("span",se,d(l.__("Next")),1),b(g(X),{class:"h-5 w-5"})]),_:1},8,["disabled","href","class"])]))}}},oe={class:"flex flex-col"},le={id:"tableHeader",class:"flex justify-between p-4"},ne={id:"headerLeft",class:"flex"},ie={id:"searchBox"},ge={class:"relative mt-1"},ce={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},ue=["placeholder"],ye={id:"headerRight",class:"flex"},fe={id:"resetButton"},he={id:"tableSection",class:"flex flex-col"},be={class:"overflow-x-auto"},xe={class:"min-w-full inline-block align-middle"},me={class:"overflow-hidden"},_e={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ve={class:"bg-gray-100 dark:bg-gray-700"},ke=["onClick"],pe={class:"inline-flex items-center"},we={class:"divide-y divide-gray-200 dark:divide-gray-700"},Pe={key:0},$e=["colspan"],Se={id:"tableFooter",class:"flex items-center justify-between border-t border-gray-200 dark:border-gray-700 px-4 py-3"},qe={class:"flex flex-1 justify-between sm:hidden"},Be={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Ne={class:"flex items-center"},je=["selected"],Ie=["selected"],Me=["selected"],De=["selected"],Le={key:0,class:"text-sm text-gray-700 dark:text-gray-400 ml-2"},Ve={class:"font-semibold dark:text-gray-300"},Fe={class:"font-semibold dark:text-gray-300"},Re={class:"font-semibold dark:text-gray-300"},Ge={__name:"DataTable",props:{data:{required:!0,type:Object},header:{required:!0,type:Array},filters:{required:!1,type:Object,default:()=>({sort:"",perPage:"",filter:{},servers:void 0})}},setup(s){var p,q,l,n;const y=s,a=O({filter:(p=y.filters.filter)!=null?p:{q:""},sort:(q=y.filters.sort)!=null?q:"",perPage:(l=y.filters.perPage)!=null?l:10,servers:(n=y.filters.servers)!=null?n:void 0});T(a,D.exports.throttle(e=>{let r=D.exports.pickBy(e,D.exports.identity);r.filter.q||delete r.filter.q,r.perPage==10&&delete r.perPage,U.get(route(route().current()),r,{replace:!0,preserveScroll:!0,preserveState:!0})},200));const v=I(()=>a.filter.q||a.sort||a.perPage!=10);function m(){a.filter.q="",a.sort="",a.perPage=10}const k=I(()=>a.sort?a.sort.replace("-",""):""),$=I(()=>a.sort?a.sort.startsWith("-")?"desc":"asc":"");function S(e){a.sort===e?a.sort="-"+e:a.sort==="-"+e?a.sort="":a.sort=e}return(e,r)=>{var h,_,B,R;const u=z("InertiaLink");return o(),c("div",oe,[t("div",le,[t("div",ne,[t("div",ie,[t("div",ge,[t("div",ce,[b(g(C),{class:"w-4 h-4 text-gray-500 dark:text-gray-400 stroke-2"})]),L(t("input",{id:"table-search","onUpdate:modelValue":r[0]||(r[0]=i=>a.filter.q=i),type:"text",class:"block p-2 pl-9 text-sm text-gray-900 border border-gray-300 rounded-lg md:w-80 bg-gray-50 dark:bg-gray-900 dark:border-gray-800 dark:placeholder-gray-400 dark:text-gray-300 focus:border-light-blue-300 focus:ring focus:ring-light-blue-200 focus:ring-opacity-50",placeholder:e.__("Search..")},null,8,ue),[[E,a.filter.q]])])])]),t("div",ye,[L(t("div",fe,[t("button",{class:"bg-white hidden md:block dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-400 dark:border-gray-800 hover:bg-gray-100 text-gray-500 font-semibold py-1 px-4 border border-gray-200 rounded",onClick:r[1]||(r[1]=i=>m())},[b(g(K),{class:"w-4 h-4 inline-block text-gray-500"}),f(" "+d(e.__("Reset")),1)])],512),[[W,g(v)]])])]),t("div",he,[t("div",be,[t("div",xe,[t("div",me,[t("table",_e,[t("thead",ve,[t("tr",null,[F(e.$slots,"header",{},()=>[(o(!0),c(M,null,V(s.header,i=>(o(),c("th",{key:i.key,scope:"col",class:P(["px-4 py-3 text-xs font-semibold text-gray-400 dark:text-gray-300 uppercase text-left",[i.sortable?"cursor-pointer":"",i.class?i.class:""]]),onClick:Te=>i.sortable?S(i.key):null},[t("div",pe,[f(d(i.label)+" ",1),i.sortable?(o(),w(J,{key:0,name:g(k)===i.key?g($)==="asc"?"sort-up":"sort-down":"sort-updown",class:P(["w-3 h-3 ml-1 inline-block text-gray-400 dark:text-gray-300",[g(k)===i.key?"text-light-blue-500 dark:text-light-blue-400":""]])},null,8,["name","class"])):j("",!0)])],10,ke))),128))])])]),t("tbody",we,[(o(!0),c(M,null,V(s.data.data,i=>(o(),c("tr",{key:i.id},[F(e.$slots,"default",{item:i,data:s.data})]))),128)),s.data.data.length<=0?(o(),c("tr",Pe,[t("td",{colspan:s.header.length,class:"px-4 py-3 text-sm font-medium text-gray-500 dark:text-gray-300 text-center"},d(e.__("No data found")),9,$e)])):j("",!0)])])])])])]),t("div",Se,[t("div",qe,[b(u,{href:(h=s.data.prev_page_url)!=null?h:"#",class:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-gray-800 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:x(()=>[f(d(e.__("Previous")),1)]),_:1},8,["href"]),b(u,{href:(_=s.data.next_page_url)!=null?_:"#",class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 dark:border-gray-800 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:x(()=>[f(d(e.__("Next")),1)]),_:1},8,["href"])]),t("div",Be,[t("div",Ne,[t("div",null,[L(t("select",{id:"perPage","onUpdate:modelValue":r[2]||(r[2]=i=>a.perPage=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-light-blue-500 focus:border-light-blue-500 block w-full dark:bg-gray-900 dark:border-gray-800 dark:placeholder-gray-400 dark:text-gray-300 dark:focus:ring-light-blue-500 dark:focus:border-light-blue-500"},[t("option",{value:10,selected:s.data.per_page==10}," 10 "+d(e.__("per page")),9,je),t("option",{value:20,selected:s.data.per_page==20}," 20 "+d(e.__("per page")),9,Ie),t("option",{value:50,selected:s.data.per_page==50}," 50 "+d(e.__("per page")),9,Me),t("option",{value:100,selected:s.data.per_page==100}," 100 "+d(e.__("per page")),9,De)],512),[[G,a.perPage]])]),s.data.total!=null?(o(),c("p",Le,[f(d(e.__("Showing"))+" ",1),t("span",Ve,d((B=s.data.from)!=null?B:0),1),f(" "+d(e.__("to"))+" ",1),t("span",Fe,d((R=s.data.to)!=null?R:0),1),f(" "+d(e.__("of"))+" ",1),t("span",Re,d(s.data.total),1),f(" "+d(e.__("results")),1)])):j("",!0)]),t("div",null,[s.data.next_page_url||s.data.prev_page_url?(o(),w(de,{key:0,data:s.data},null,8,["data"])):j("",!0)])])])])}}},ze={},Ae={class:"px-4 py-3 text-sm text-gray-800 dark:text-gray-400"};function Oe(s,y){return o(),c("td",Ae,[F(s.$slots,"default")])}const He=H(ze,[["render",Oe]]);export{He as D,Ge as _};
