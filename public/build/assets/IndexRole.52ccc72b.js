import{A as N,I as j}from"./AppLayout.932d4aff.js";import{P as S}from"./Pagination.0b47424f.js";import{_ as A}from"./ConfirmationModal.030611ef.js";import{_ as F}from"./SecondaryButton.5fbafbe9.js";import{_ as I}from"./DangerButton.1b9c3600.js";import{_ as P,T,c,w as i,l as r,o as n,b as _,a as e,t as s,e as p,d as a,g as f,F as k,f as l,n as V,q as E,H as J,s as U}from"./app.cdeb0fbf.js";import"./Modal.146d1fb9.js";const z={components:{AppLayout:N,Pagination:S,Icon:j,JetConfirmationModal:A,JetSecondaryButton:F,JetDangerButton:I},props:{roles:Object},data(){return{deleteRoleForm:T({}),roleBeingDeleted:null}},methods:{confirmRoleDeletion(t){this.roleBeingDeleted=t},deleteRole(){this.deleteRoleForm.delete(route("admin.role.delete",this.roleBeingDeleted),{preserveScroll:!0,preserveState:!0,onSuccess:()=>this.roleBeingDeleted=null})}}},L={class:"py-12 px-10 max-w-7xl mx-auto"},q={class:"flex justify-between mb-8"},H={class:"font-bold text-3xl text-gray-500 dark:text-gray-300"},M={class:"flex"},O={class:"hidden md:inline"},G={class:"flex flex-col"},K={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Q={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},W={class:"shadow overflow-hidden border-b border-gray-200 dark:border-none sm:rounded-lg"},X={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"bg-gray-50 dark:bg-cool-gray-800 text-gray-500 dark:text-gray-300"},Z={scope:"col",class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider"},$={scope:"col",class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider"},ee={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},te={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},se={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},oe={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},ne={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},ae={scope:"col",class:"relative px-6 py-3"},ie={class:"sr-only"},re={class:"bg-white dark:bg-cool-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},le={class:"px-3 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},de={class:"whitespace-nowrap"},ce={class:"flex-shrink-0"},_e=["src","alt"],pe={class:"px-6 py-4 whitespace-nowrap"},me={class:"items-center"},ue={class:"text-sm text-gray-500 dark:text-gray-400"},ge={class:"px-6 py-4 text-sm"},ye={key:1,class:"italic text-gray-500"},he={key:2,class:"px-2 mr-1 mb-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-opacity-10 dark:text-green-400"},xe={class:"px-8 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 align-middle text-center"},fe={class:"px-8 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 align-middle text-center"},ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},be=["content"],we={class:"px-6 py-4 whitespace-nowrap text-right dark:text-gray-300 text-sm font-medium"},ve=["onClick"],De={key:0},Re={class:"border-t px-6 py-4 text-center dark:text-gray-400",colspan:"7"};function Be(t,m,u,Ce,d,y){const b=r("app-head"),h=r("inertia-link"),x=r("icon"),w=r("pagination"),v=r("jet-secondary-button"),D=r("jet-danger-button"),R=r("jet-confirmation-modal"),B=r("app-layout"),C=E("tippy");return n(),c(B,null,{default:i(()=>[_(b,{title:"User Roles Administration"}),e("div",L,[e("div",q,[e("h1",H,s(t.__("User Roles & Permissions")),1),e("div",M,[t.can("create roles")?(n(),c(h,{key:0,href:t.route("admin.role.create"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:i(()=>[e("span",null,s(t.__("Create New")),1),e("span",O,"\xA0"+s(t.__("Role")),1)]),_:1},8,["href"])):p("",!0)])]),e("div",G,[e("div",K,[e("div",Q,[e("div",W,[e("table",X,[e("thead",Y,[e("tr",null,[e("th",Z,s(t.__("#")),1),e("th",$,s(t.__("Image")),1),e("th",ee,s(t.__("Name")),1),e("th",te,s(t.__("Permissions")),1),e("th",se,s(t.__("Users")),1),e("th",oe,s(t.__("Staff")),1),e("th",ne,s(t.__("Created")),1),e("th",ae,[e("span",ie,s(t.__("Edit")),1)])])]),e("tbody",re,[(n(!0),a(k,null,f(u.roles.data,o=>(n(),a("tr",{key:o.id},[e("td",le,s(o.id),1),e("td",de,[e("div",ce,[e("img",{class:"",src:o.photo_url,alt:t.__("Role Image")},null,8,_e)])]),e("td",pe,[e("div",me,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300",style:J([o.color?{color:o.color}:null])},s(o.display_name),5),e("div",ue,s(o.name),1)])]),e("td",ge,[o.permissions.length>0?(n(!0),a(k,{key:0},f(o.permissions,g=>(n(),a("span",{key:g.id,class:"px-2 mr-1 mb-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-opacity-10 dark:text-light-blue-400"},s(g.name),1))),128)):(n(),a("span",ye,s(t.__("No administration permissions for this role.")),1)),o.name==="superadmin"?(n(),a("span",he,s(t.__("All Permissions")),1)):p("",!0)]),e("td",xe,s(o.users_count),1),e("td",fe,[o.is_staff?(n(),c(x,{key:0,class:"text-green-500",name:"check-circle"})):(n(),c(x,{key:1,class:"text-red-500",name:"cross-circle"}))]),e("td",ke,[U((n(),a("span",{class:"focus:outline-none",content:t.formatToDayDateString(o.created_at)},[l(s(t.formatTimeAgoToNow(o.created_at)),1)],8,be)),[[C]])]),e("td",we,[t.can("update roles")?(n(),c(h,{key:0,as:"a",href:t.route("admin.role.edit",o.id),class:"text-yellow-600 hover:text-yellow-900"},{default:i(()=>[l(s(t.__("Edit")),1)]),_:2},1032,["href"])):p("",!0),l(" / "),t.can("delete roles")?(n(),a("button",{key:1,class:"text-red-600 hover:text-red-900 focus:outline-none",onClick:g=>y.confirmRoleDeletion(o.id)},s(t.__("Delete")),9,ve)):p("",!0)])]))),128)),u.roles.data.length===0?(n(),a("tr",De,[e("td",Re,s(t.__("No roles found.")),1)])):p("",!0)])])])])])]),_(w,{links:u.roles.links},null,8,["links"])]),_(R,{show:!!d.roleBeingDeleted,onClose:m[1]||(m[1]=o=>d.roleBeingDeleted=null)},{title:i(()=>[l(s(t.__("Delete Role")),1)]),content:i(()=>[l(s(t.__("Are you sure you would like to delete this Role? It is not reversible.")),1)]),footer:i(()=>[_(v,{onClick:m[0]||(m[0]=o=>d.roleBeingDeleted=null)},{default:i(()=>[l(s(t.__("Nevermind")),1)]),_:1}),_(D,{class:V(["ml-2",{"opacity-25":d.deleteRoleForm.processing}]),disabled:d.deleteRoleForm.processing,onClick:y.deleteRole},{default:i(()=>[l(s(t.__("Delete Role")),1)]),_:1},8,["class","disabled","onClick"])]),_:1},8,["show"])]),_:1})}const Te=P(z,[["render",Be]]);export{Te as default};
