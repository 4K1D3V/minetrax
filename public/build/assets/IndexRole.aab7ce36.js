import{P as A}from"./Pagination.b89aece1.js";import{I as S,u as j,a as T}from"./AppLayout.4ee0cd03.js";import{_ as F}from"./ConfirmationModal.42c03eb7.js";import{_ as I}from"./SecondaryButton.fccc7a5c.js";import{_ as P}from"./DangerButton.93aa9f7a.js";import{_ as L,T as V,c as p,w as i,l as r,o as n,b as u,a as e,t as s,e as g,d as a,g as k,F as b,f as l,n as z,q as E,H as J,s as U}from"./app.08b10a52.js";import{_ as H}from"./AdminLayout.21ee0c56.js";import"./Modal.1c3a8e30.js";const q={components:{AdminLayout:H,Pagination:A,Icon:S,JetConfirmationModal:F,JetSecondaryButton:I,JetDangerButton:P},props:{roles:Object},setup(){const{can:t}=j(),{formatTimeAgoToNow:d,formatToDayDateString:c}=T();return{can:t,formatTimeAgoToNow:d,formatToDayDateString:c}},data(){return{deleteRoleForm:V({}),roleBeingDeleted:null}},methods:{confirmRoleDeletion(t){this.roleBeingDeleted=t},deleteRole(){this.deleteRoleForm.delete(route("admin.role.delete",this.roleBeingDeleted),{preserveScroll:!0,preserveState:!0,onSuccess:()=>this.roleBeingDeleted=null})}}},M={class:"py-12 px-10 max-w-7xl mx-auto"},O={class:"flex justify-between mb-8"},G={class:"font-bold text-3xl text-gray-500 dark:text-gray-300"},K={class:"flex"},Q={class:"hidden md:inline"},W={class:"flex flex-col"},X={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Y={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},Z={class:"shadow overflow-hidden border-b border-gray-200 dark:border-none sm:rounded-lg"},$={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ee={class:"bg-gray-50 dark:bg-cool-gray-800 text-gray-500 dark:text-gray-300"},te={scope:"col",class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider"},se={scope:"col",class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider"},oe={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},ne={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},ae={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},ie={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},re={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},le={scope:"col",class:"relative px-6 py-3"},de={class:"sr-only"},ce={class:"bg-white dark:bg-cool-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},_e={class:"px-3 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},me={class:"whitespace-nowrap"},pe={class:"flex-shrink-0"},ue=["src","alt"],ge={class:"px-6 py-4 whitespace-nowrap"},xe={class:"items-center"},ye={class:"text-sm text-gray-500 dark:text-gray-400"},he={class:"px-6 py-4 text-sm"},fe={key:1,class:"italic text-gray-500"},ke={key:2,class:"px-2 mr-1 mb-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-opacity-10 dark:text-green-400"},be={class:"px-8 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 align-middle text-center"},we={class:"px-8 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 align-middle text-center"},ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},De=["content"],Re={class:"px-6 py-4 whitespace-nowrap text-right dark:text-gray-300 text-sm font-medium"},Be=["onClick"],Ce={key:0},Ne={class:"border-t px-6 py-4 text-center dark:text-gray-400",colspan:"7"};function Ae(t,d,c,_,m,y){const w=r("app-head"),h=r("inertia-link"),f=r("icon"),v=r("pagination"),D=r("jet-secondary-button"),R=r("jet-danger-button"),B=r("jet-confirmation-modal"),C=r("AdminLayout"),N=E("tippy");return n(),p(C,null,{default:i(()=>[u(w,{title:"User Roles Administration"}),e("div",M,[e("div",O,[e("h1",G,s(t.__("User Roles & Permissions")),1),e("div",K,[_.can("create roles")?(n(),p(h,{key:0,href:t.route("admin.role.create"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:i(()=>[e("span",null,s(t.__("Create New")),1),e("span",Q,"\xA0"+s(t.__("Role")),1)]),_:1},8,["href"])):g("",!0)])]),e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("table",$,[e("thead",ee,[e("tr",null,[e("th",te,s(t.__("#")),1),e("th",se,s(t.__("Image")),1),e("th",oe,s(t.__("Name")),1),e("th",ne,s(t.__("Permissions")),1),e("th",ae,s(t.__("Users")),1),e("th",ie,s(t.__("Staff")),1),e("th",re,s(t.__("Created")),1),e("th",le,[e("span",de,s(t.__("Edit")),1)])])]),e("tbody",ce,[(n(!0),a(b,null,k(c.roles.data,o=>(n(),a("tr",{key:o.id},[e("td",_e,s(o.id),1),e("td",me,[e("div",pe,[e("img",{class:"",src:o.photo_url,alt:t.__("Role Image")},null,8,ue)])]),e("td",ge,[e("div",xe,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300",style:J([o.color?{color:o.color}:null])},s(o.display_name),5),e("div",ye,s(o.name),1)])]),e("td",he,[o.permissions.length>0?(n(!0),a(b,{key:0},k(o.permissions,x=>(n(),a("span",{key:x.id,class:"px-2 mr-1 mb-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-opacity-10 dark:text-light-blue-400"},s(x.name),1))),128)):(n(),a("span",fe,s(t.__("No administration permissions for this role.")),1)),o.name==="superadmin"?(n(),a("span",ke,s(t.__("All Permissions")),1)):g("",!0)]),e("td",be,s(o.users_count),1),e("td",we,[o.is_staff?(n(),p(f,{key:0,class:"text-green-500",name:"check-circle"})):(n(),p(f,{key:1,class:"text-red-500",name:"cross-circle"}))]),e("td",ve,[U((n(),a("span",{class:"focus:outline-none",content:_.formatToDayDateString(o.created_at)},[l(s(_.formatTimeAgoToNow(o.created_at)),1)],8,De)),[[N]])]),e("td",Re,[_.can("update roles")?(n(),p(h,{key:0,as:"a",href:t.route("admin.role.edit",o.id),class:"text-yellow-600 hover:text-yellow-900"},{default:i(()=>[l(s(t.__("Edit")),1)]),_:2},1032,["href"])):g("",!0),l(" / "),_.can("delete roles")?(n(),a("button",{key:1,class:"text-red-600 hover:text-red-900 focus:outline-none",onClick:x=>y.confirmRoleDeletion(o.id)},s(t.__("Delete")),9,Be)):g("",!0)])]))),128)),c.roles.data.length===0?(n(),a("tr",Ce,[e("td",Ne,s(t.__("No roles found.")),1)])):g("",!0)])])])])])]),u(v,{links:c.roles.links},null,8,["links"])]),u(B,{show:!!m.roleBeingDeleted,onClose:d[1]||(d[1]=o=>m.roleBeingDeleted=null)},{title:i(()=>[l(s(t.__("Delete Role")),1)]),content:i(()=>[l(s(t.__("Are you sure you would like to delete this Role? It is not reversible.")),1)]),footer:i(()=>[u(D,{onClick:d[0]||(d[0]=o=>m.roleBeingDeleted=null)},{default:i(()=>[l(s(t.__("Nevermind")),1)]),_:1}),u(R,{class:z(["ml-2",{"opacity-25":m.deleteRoleForm.processing}]),disabled:m.deleteRoleForm.processing,onClick:y.deleteRole},{default:i(()=>[l(s(t.__("Delete Role")),1)]),_:1},8,["class","disabled","onClick"])]),_:1},8,["show"])]),_:1})}const ze=L(q,[["render",Ae]]);export{ze as default};
