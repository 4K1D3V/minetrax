import{_ as y}from"./CopyToClipboard.4358cfcf.js";import{E as f}from"./AppLayout.5b6e3bb2.js";import{_ as b,z as u,B as m,o as r,d as n,a as o,t,e as l,c as k,w as h,f as c,b as x,x as S}from"./app.976a1c87.js";const w={components:{ErrorMessage:f,CopyToClipboard:y},props:{server:Object},data(){return{serverInfo:Object,loading:!0,error:null,interval:null}},computed:{enabled(){return this.$page.props.generalSettings.enable_mcserver_statuspingbox?!!(this.server||this.$page.props.defaultQueryServer):!1}},created(){!this.enabled||(this.getServerQuery(),this.interval=setInterval(()=>this.getServerQuery(),1e4))},unmounted(){clearInterval(this.interval)},methods:{getServerQuery(){let e=this.server;e||(e=this.$page.props.defaultQueryServer),axios.get(route("server.ping.get",e.id)).then(s=>{this.serverInfo=s.data,this.error=null}).catch(s=>{this.error=s.response.data.message||s.message,this.serverInfo=null}).finally(s=>{this.loading=!1})}}},C={key:0},Q={class:"p-3 sm:px-5 bg-white dark:bg-cool-gray-800 rounded shadow break-words"},B={class:"font-extrabold text-gray-800 dark:text-gray-200"},I={key:0,class:"flex p-4 justify-center"},V=o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-light-blue-600 dark:text-light-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),N=[V],j={key:2,class:"flex flex-col"},z={class:"mt-3 text-gray-700 dark:text-gray-300 text-center font-semibold"},D={class:"font-bold text-light-blue-500 dark:text-light-blue-400"},E=["title","onClick"],O={key:0},T={key:1};function M(e,s,i,A,a,g){const p=u("error-message"),_=u("copy-to-clipboard"),v=m("tippy");return g.enabled?(r(),n("div",C,[o("div",Q,[o("h3",B,t(e.__("Server Status")),1),a.loading?(r(),n("div",I,N)):l("",!0),a.error?(r(),k(p,{key:1},{default:h(()=>[c(t(a.error),1)]),_:1})):l("",!0),!a.loading&&!a.error?(r(),n("div",j,[o("div",z,[c(t(e.__("Join"))+" ",1),o("span",D,t(a.serverInfo.players.online),1),c(" "+t(e.__("Online Players"))+"! ",1)]),x(_,null,{default:h(d=>[S((r(),n("button",{title:e.__("Click to Copy"),type:"button",class:"text-center font-extrabold mt-3 border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 rounded p-2 hover:text-light-blue-500 dark:hover:text-light-blue-400 hover:bg-light-blue-50 dark:hover:bg-cool-gray-900 hover:border-light-blue-500 dark:hover:border-cool-gray-800 focus:ring focus:ring-light-blue-200 focus:ring-opacity-50 transition duration-150 ease-in-out focus:outline-none",onClick:H=>d.copy(i.server?i.server.hostname:e.$page.props.defaultQueryServer.hostname)},[d.status!=="copied"?(r(),n("span",O,t(i.server?i.server.hostname:e.$page.props.defaultQueryServer.hostname),1)):(r(),n("span",T,t(e.__("Copied!")),1))],8,E)),[[v]])]),_:1})])):l("",!0)])])):l("",!0)}const F=b(w,[["render",M]]);export{F as S};
