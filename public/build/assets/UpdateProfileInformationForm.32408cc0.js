import{_ as R}from"./Button.2772e72a.js";import{_ as B}from"./FormSection.1d8a48dc.js";import{_ as E}from"./InputError.74d6c615.js";import{_ as L}from"./Label.bb9ce0d0.js";import{_ as D}from"./ActionMessage.b5a58f62.js";import{_ as X}from"./SecondaryButton.9a40342c.js";import{i as F}from"./index.es.e81e1134.js";import{X as J}from"./XInput.0253267f.js";import{X as A}from"./XCheckbox.565f8ad5.js";import{X as T}from"./XSelect.def8b09d.js";import{X as z}from"./XTextarea.b8052892.js";import{_ as G,p as n,o as p,c as w,w as a,f as c,t as m,d as y,a as l,b as t,x as h,z as b,J as U,l as v,e as d,n as Y}from"./app.786907ed.js";import"./SectionTitle.748ac3be.js";const M={components:{XTextarea:z,XSelect:T,XCheckbox:A,XInput:J,JetActionMessage:D,JetButton:R,JetFormSection:B,JetInputError:E,JetLabel:L,JetSecondaryButton:X,DatePicker:F},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,photo:null,cover_image:null,dob:this.user.dob,gender:this.user.gender,cover_image_url:this.user.cover_image_url,s_discord_username:this.user.social_links?this.user.social_links.s_discord_username:null,s_steam_profile_url:this.user.social_links?this.user.social_links.s_steam_profile_url:null,s_twitter_url:this.user.social_links?this.user.social_links.s_twitter_url:null,s_youtube_url:this.user.social_links?this.user.social_links.s_youtube_url:null,s_facebook_url:this.user.social_links?this.user.social_links.s_facebook_url:null,s_twitch_url:this.user.social_links?this.user.social_links.s_twitch_url:null,s_website_url:this.user.social_links?this.user.social_links.s_website_url:null,about:this.user.about,profile_photo_source:this.user.settings?this.user.settings.profile_photo_source:null,show_gender:this.user.settings?!!+this.user.settings.show_gender:!1,show_yob:this.user.settings?!!+this.user.settings.show_yob:!1}),photoPreview:null,coverImagePreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.$refs.coverImage&&(this.form.cover_image=this.$refs.coverImage.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const o=new FileReader;o.onload=r=>{this.photoPreview=r.target.result},o.readAsDataURL(this.$refs.photo.files[0])},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>this.photoPreview=null})},selectNewCoverImage(){this.$refs.coverImage.click()},updateCoverImagePreview(){const o=new FileReader;o.onload=r=>{this.coverImagePreview=r.target.result},o.readAsDataURL(this.$refs.coverImage.files[0])},deleteCoverImage(){this.$inertia.delete(route("current-user-cover.destroy"),{preserveScroll:!0,onSuccess:()=>this.coverImagePreview=null})}}},q={key:0,class:"col-span-6 sm:col-span-3"},O={class:"mt-2"},W=["src","alt"],H={class:"mt-2"},K={class:"col-span-6 sm:col-span-3"},Q={class:"mt-2"},Z=["src","alt"],x={class:"mt-2"},$={class:"col-span-6 sm:col-span-3"},ee={class:"col-span-6 sm:col-span-3"},oe={class:"col-span-6 sm:col-span-3"},re={class:"col-span-6 sm:col-span-3"},se={class:"col-span-6 sm:col-span-3 relative"},le={for:"dob",class:"absolute -top-2.5 left-0 px-3 py-5 text-xs text-gray-500 h-full pointer-events-none transform origin-left transition-all duration-100 ease-in-out dark:text-gray-400"},te={key:1,class:"col-span-6 sm:col-span-3"},ne={class:"col-span-6 sm:col-span-3"},ie={key:2,class:"col-span-6 sm:col-span-3"},ae={class:"col-span-6 sm:col-span-3"},ue={class:"col-span-6 sm:col-span-3"},me={class:"col-span-6 sm:col-span-3"},_e={class:"col-span-6 sm:col-span-3"},ce={class:"col-span-6 sm:col-span-3"},pe={class:"col-span-6 sm:col-span-3"},de={class:"col-span-6 sm:col-span-3"},fe={class:"col-span-6 sm:col-span-3"};function he(o,r,_,be,e,u){const k=n("jet-label"),f=n("jet-secondary-button"),g=n("jet-input-error"),i=n("x-input"),P=n("x-select"),I=n("date-picker"),V=n("x-checkbox"),C=n("x-textarea"),S=n("jet-action-message"),j=n("jet-button"),N=n("jet-form-section");return p(),w(N,{onSubmitted:u.updateProfileInformation},{title:a(()=>[c(m(o.__("Profile Information")),1)]),description:a(()=>[c(m(o.__("Update your account's profile information and email address.")),1)]),form:a(()=>[o.$page.props.jetstream.managesProfilePhotos?(p(),y("div",q,[l("input",{ref:"photo",type:"file",class:"hidden",onChange:r[0]||(r[0]=(...s)=>u.updatePhotoPreview&&u.updatePhotoPreview(...s))},null,544),t(k,{for:"photo",value:"Avatar"}),h(l("div",O,[l("img",{src:_.user.profile_photo_url,alt:_.user.name,class:"rounded-full h-28 w-28 object-cover"},null,8,W)],512),[[b,!e.photoPreview]]),h(l("div",H,[l("span",{class:"block rounded-full w-28 h-28",style:U("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[b,e.photoPreview]]),t(f,{class:"mt-2 mr-2",type:"button",onClick:v(u.selectNewPhoto,["prevent"])},{default:a(()=>[c(m(o.__("New Photo")),1)]),_:1},8,["onClick"]),_.user.profile_photo_path?(p(),w(f,{key:0,type:"button",class:"mt-2",onClick:v(u.deletePhoto,["prevent"])},{default:a(()=>[c(m(o.__("Remove Photo")),1)]),_:1},8,["onClick"])):d("",!0),t(g,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):d("",!0),l("div",K,[l("input",{ref:"coverImage",type:"file",class:"hidden",onChange:r[1]||(r[1]=(...s)=>u.updateCoverImagePreview&&u.updateCoverImagePreview(...s))},null,544),t(k,{for:"coverImage",value:o.__("Profile Cover Image")},null,8,["value"]),h(l("div",Q,[l("img",{src:_.user.cover_image_url,alt:_.user.name,class:"rounded h-28 object-cover w-full"},null,8,Z)],512),[[b,!e.coverImagePreview]]),h(l("div",x,[l("span",{class:"block rounded h-28",style:U("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.coverImagePreview+"');")},null,4)],512),[[b,e.coverImagePreview]]),t(f,{class:"mt-2 mr-2",type:"button",onClick:v(u.selectNewCoverImage,["prevent"])},{default:a(()=>[c(m(o.__("New Cover")),1)]),_:1},8,["onClick"]),_.user.cover_image_path?(p(),w(f,{key:0,type:"button",class:"mt-2",onClick:v(u.deleteCoverImage,["prevent"])},{default:a(()=>[c(m(o.__("Default Cover")),1)]),_:1},8,["onClick"])):d("",!0),t(g,{message:e.form.errors.cover_image,class:"mt-2"},null,8,["message"])]),l("div",$,[t(i,{id:"username","model-value":_.user.username,label:o.__("Username"),error:e.form.errors.username,type:"text",name:"username",disabled:!0},null,8,["model-value","label","error"])]),l("div",ee,[t(i,{id:"email","model-value":_.user.email,label:o.__("Email"),error:e.form.errors.email,type:"email",name:"email",disabled:!0},null,8,["model-value","label","error"])]),l("div",oe,[t(i,{id:"name",modelValue:e.form.name,"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.name=s),label:o.__("Name"),error:e.form.errors.name,required:!0,autocomplete:"name",type:"text",name:"name"},null,8,["modelValue","label","error"])]),l("div",re,[t(P,{id:"profile_photo_source",modelValue:e.form.profile_photo_source,"onUpdate:modelValue":r[3]||(r[3]=s=>e.form.profile_photo_source=s),name:"profile_photo_source",error:e.form.errors.profile_photo_source,label:o.__("Use Avatar from"),"select-list":{linked_player:"Linked Player",gravatar:"Gravatar"},placeholder:"Uploaded Photo"},null,8,["modelValue","error","label"])]),l("div",se,[t(I,{id:"dob",value:e.form.dob,"onUpdate:value":r[4]||(r[4]=s=>e.form.dob=s),placeholder:o.__("Select your date of birth"),class:"w-full","value-type":"format","input-class":"border-gray-300 h-14 p-3 text-sm pt-7 focus:border-light-blue-300 focus:ring focus:ring-light-blue-200 focus:ring-opacity-50 rounded-md block w-full dark:bg-cool-gray-900 dark:text-gray-300 dark:border-gray-900"},null,8,["value","placeholder"]),l("label",le,m(o.__("Date of Birth")),1),t(g,{message:e.form.errors.dob,class:"mt-1"},null,8,["message"])]),e.form.dob?(p(),y("div",te,[t(V,{id:"show_yob",modelValue:e.form.show_yob,"onUpdate:modelValue":r[5]||(r[5]=s=>e.form.show_yob=s),label:o.__("Show Your of Birth"),help:o.__("Show Year of Birth in your public profile."),name:"show_yob",error:e.form.errors.show_yob},null,8,["modelValue","label","help","error"])])):d("",!0),l("div",ne,[t(P,{id:"gender",modelValue:e.form.gender,"onUpdate:modelValue":r[6]||(r[6]=s=>e.form.gender=s),name:"gender",error:e.form.errors.gender,label:o.__("Gender"),placeholder:o.__("Prefer not to say"),"select-list":{m:o.__("Male"),f:o.__("Female"),o:o.__("Others")}},null,8,["modelValue","error","label","placeholder","select-list"])]),e.form.gender?(p(),y("div",ie,[t(V,{id:"show_gender",modelValue:e.form.show_gender,"onUpdate:modelValue":r[7]||(r[7]=s=>e.form.show_gender=s),label:o.__("Show Gender"),help:o.__("Show Gender in your public profile."),name:"show_gender",error:e.form.errors.show_gender},null,8,["modelValue","label","help","error"])])):d("",!0),l("div",ae,[t(i,{id:"s_discord_username",modelValue:e.form.s_discord_username,"onUpdate:modelValue":r[8]||(r[8]=s=>e.form.s_discord_username=s),label:o.__("Discord Username"),error:e.form.errors.s_discord_username,autocomplete:"s_discord_username",type:"text",name:"s_discord_username",help:o.__("Eg: username#1234")},null,8,["modelValue","label","error","help"])]),l("div",ue,[t(i,{id:"s_steam_profile_url",modelValue:e.form.s_steam_profile_url,"onUpdate:modelValue":r[9]||(r[9]=s=>e.form.s_steam_profile_url=s),label:o.__("Steam Profile URL"),error:e.form.errors.s_steam_profile_url,autocomplete:"s_steam_profile_url",type:"text",name:"s_steam_profile_url",help:o.__("Eg: https://steamcommunity.com/id/username")},null,8,["modelValue","label","error","help"])]),l("div",me,[t(i,{id:"s_twitter_url",modelValue:e.form.s_twitter_url,"onUpdate:modelValue":r[10]||(r[10]=s=>e.form.s_twitter_url=s),label:o.__("Twitter Profile URL"),error:e.form.errors.s_twitter_url,autocomplete:"s_twitter_url",type:"text",name:"s_twitter_url",help:o.__("Eg: https://twitter.com/@username")},null,8,["modelValue","label","error","help"])]),l("div",_e,[t(i,{id:"s_youtube_url",modelValue:e.form.s_youtube_url,"onUpdate:modelValue":r[11]||(r[11]=s=>e.form.s_youtube_url=s),label:o.__("YouTube URL"),error:e.form.errors.s_youtube_url,autocomplete:"s_youtube_url",type:"text",name:"s_youtube_url",help:o.__("Eg: https://www.youtube.com/minecraft")},null,8,["modelValue","label","error","help"])]),l("div",ce,[t(i,{id:"s_facebook_url",modelValue:e.form.s_facebook_url,"onUpdate:modelValue":r[12]||(r[12]=s=>e.form.s_facebook_url=s),label:o.__("Facebook URL"),error:e.form.errors.s_facebook_url,autocomplete:"s_facebook_url",type:"text",name:"s_facebook_url",help:"Eg: https://facebook.com/minecraft"},null,8,["modelValue","label","error"])]),l("div",pe,[t(i,{id:"s_twitch_url",modelValue:e.form.s_twitch_url,"onUpdate:modelValue":r[13]||(r[13]=s=>e.form.s_twitch_url=s),label:o.__("Twitch URL"),error:e.form.errors.s_twitch_url,autocomplete:"s_twitch_url",type:"text",name:"s_twitch_url",help:o.__("Eg: https://www.twitch.tv/minecraft")},null,8,["modelValue","label","error","help"])]),l("div",de,[t(i,{id:"s_website_url",modelValue:e.form.s_website_url,"onUpdate:modelValue":r[14]||(r[14]=s=>e.form.s_website_url=s),label:o.__("Website URL"),error:e.form.errors.s_website_url,autocomplete:"s_website_url",type:"text",name:"s_website_url",help:o.__("Eg: https://my-personal-blog.com")},null,8,["modelValue","label","error","help"])]),l("div",fe,[t(C,{id:"about",modelValue:e.form.about,"onUpdate:modelValue":r[15]||(r[15]=s=>e.form.about=s),label:o.__("About Yourself"),help:o.__("Something about yourself in 255 characters."),error:e.form.errors.about,name:"about"},null,8,["modelValue","label","help","error"])])]),actions:a(()=>[t(S,{on:e.form.recentlySuccessful,class:"mr-3"},{default:a(()=>[c(m(o.__("Saved.")),1)]),_:1},8,["on"]),t(j,{class:Y({"opacity-25":e.form.processing}),disabled:e.form.processing,loading:e.form.processing},{default:a(()=>[c(m(o.__("Save")),1)]),_:1},8,["class","disabled","loading"])]),_:1},8,["onSubmitted"])}const Re=G(M,[["render",he],["__scopeId","data-v-f0cbb4ca"]]);export{Re as default};
