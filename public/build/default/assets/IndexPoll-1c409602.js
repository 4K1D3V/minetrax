import{_ as P}from"./AdminLayout-cad658e6.js";import{u as A}from"./useAuthorizable-232b6833.js";import{u as B}from"./AppLayout-0fa35dec.js";import{o as s,d as i,a as l,l as w,q as v,c,w as r,k as I,b as n,u as e,t as a,e as x,g as L,F as T,j as p,f as g}from"./app-98f14b57.js";import{D as _,_ as V}from"./DtRowItem-6d49a4d4.js";import{I as D}from"./Icon-6fcacfb2.js";import{r as E}from"./TrashIcon-b6deeee8.js";import"./use-resolve-button-type-f1accb1e.js";import"./open-closed-886a7985.js";import"./CloudArrowDownIcon-1c4f23b0.js";import"./index-45348e7f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./vue-multiselect.esm-40ab72e4.js";import"./XMarkIcon-e7af00fc.js";import"./hidden-7c3bc953.js";function M(f,d){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})])}function $(f,d){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5V6.75a4.5 4.5 0 119 0v3.75M3.75 21.75h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H3.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})])}const q={class:"px-10 py-8 mx-auto text-gray-400"},z={class:"flex justify-between mb-4"},H={class:"text-3xl font-bold text-gray-500 dark:text-gray-300"},O={class:"flex"},S={class:"hidden md:inline"},F={class:"px-4 py-4 text-sm font-medium text-center text-gray-800 whitespace-nowrap dark:text-gray-200"},R={class:"text-sm font-medium text-gray-900 dark:text-gray-300"},Q={class:"px-4 text-sm"},U={key:1,class:"italic text-gray-500"},G=["content"],J=["content"],K={key:1,class:"italic"},W=["content"],X={key:0},Y={key:1,class:"italic text-red-600"},Z={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},ye={__name:"IndexPoll",props:{polls:Object,filters:Object},setup(f){const{can:d}=A(),{__:t}=I(),{formatTimeAgoToNow:m,formatToDayDateString:k}=B(),j=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"question",sortable:!0,label:t("Question")},{key:"options",sortable:!1,label:t("Options")},{key:"started_at",sortable:!0,label:t("Started At")},{key:"closed_at",label:t("End At"),sortable:!0},{key:"created_at",label:t("Created At"),sortable:!0},{key:"created_by",label:t("Created By"),sortable:!0},{key:"is_closed",sortable:!0,label:t("Locked")},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(h,ee)=>{const N=w("app-head"),y=w("InertiaLink"),u=v("tippy"),C=v("confirm");return s(),c(P,null,{default:r(()=>[n(N,{title:e(t)("Manage Polls")},null,8,["title"]),l("div",q,[l("div",z,[l("h1",H,a(e(t)("Manage Polls")),1),l("div",O,[e(d)("create polls")?(s(),c(y,{key:0,href:h.route("admin.poll.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-800 border border-transparent rounded-md hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray"},{default:r(()=>[l("span",null,a(e(t)("Create New")),1),l("span",S,"Â "+a(e(t)("Poll")),1)]),_:1},8,["href"])):x("",!0)])]),n(V,{class:"bg-white rounded shadow dark:bg-gray-800",header:j,data:f.polls,filters:f.filters},{default:r(({item:o})=>[l("td",F,a(o.id),1),n(_,null,{default:r(()=>[l("div",R,a(o.question),1)]),_:2},1024),l("td",Q,[o.options.length>0?(s(!0),i(T,{key:0},L(o.options,b=>(s(),i("span",{key:b.id,class:"px-2 mr-1 mb-1 inline-flex text-xs leading-5 font-semibold rounded bg-gray-100 text-gray-800 dark:bg-cool-gray-700 dark:text-gray-300"},a(b.name),1))),128)):(s(),i("span",U,a(e(t)("No options.")),1))]),n(_,null,{default:r(()=>[p((s(),i("span",{class:"focus:outline-none",content:e(k)(o.started_at)},[g(a(e(m)(o.started_at)),1)],8,G)),[[u]])]),_:2},1024),n(_,null,{default:r(()=>[o.closed_at?p((s(),i("span",{key:0,class:"focus:outline-none",content:e(k)(o.closed_at)},[g(a(e(m)(o.closed_at)),1)],8,J)),[[u]]):(s(),i("span",K,a(e(t)("None")),1))]),_:2},1024),n(_,null,{default:r(()=>[p((s(),i("span",{class:"focus:outline-none",content:e(k)(o.created_at)},[g(a(e(m)(o.created_at)),1)],8,W)),[[u]])]),_:2},1024),n(_,null,{default:r(()=>[o.creator?(s(),i("span",X,a(o.creator.username),1)):(s(),i("span",Y,a(e(t)("None")),1))]),_:2},1024),n(_,null,{default:r(()=>[o.is_closed?(s(),c(D,{key:0,class:"text-green-500",name:"check-circle"})):(s(),c(D,{key:1,class:"text-red-500",name:"cross-circle"}))]),_:2},1024),l("td",Z,[e(d)("update polls")&&!o.is_closed?p((s(),c(y,{key:0,as:"button",method:"put",href:h.route("admin.poll.lock",o.id),class:"inline-flex items-center justify-center text-yellow-600 dark:text-yellow-500 hover:text-yellow-800 dark:hover:text-yellow-800",title:e(t)("Lock Poll")},{default:r(()=>[n(e(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[u]]):x("",!0),e(d)("update polls")&&o.is_closed?p((s(),c(y,{key:1,as:"button",method:"put",href:h.route("admin.poll.unlock",o.id),class:"inline-flex items-center justify-center text-green-600 dark:text-green-500 hover:text-green-800 dark:hover:text-green-800",title:e(t)("Unlock Poll")},{default:r(()=>[n(e($),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[u]]):x("",!0),e(d)("delete polls")?p((s(),c(y,{key:2,as:"button",method:"DELETE",href:h.route("admin.poll.delete",o.id),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:e(t)("Delete Poll")},{default:r(()=>[n(e(E),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[C,{message:"Are you sure you want to delete this Poll permanently?"}],[u]]):x("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{ye as default};
