import{l as b,q as x,o as a,c as d,w as r,k as j,b as o,u as s,_ as L,a as l,j as u,d as i,t as n,f as p,e as P}from"./app-98f14b57.js";import{u as A}from"./AppLayout-0fa35dec.js";import{u as S}from"./useAuthorizable-232b6833.js";import{_ as V}from"./AdminLayout-cad658e6.js";import{_ as N}from"./ServerIntelServerSelector-a9aa13a2.js";import{D as c,_ as B}from"./DtRowItem-6d49a4d4.js";import{_ as C}from"./millify-2865c83f.js";import{r as E}from"./TrashIcon-b6deeee8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Icon-6fcacfb2.js";import"./use-resolve-button-type-f1accb1e.js";import"./open-closed-886a7985.js";import"./CloudArrowDownIcon-1c4f23b0.js";import"./index-45348e7f.js";import"./XSelect-5d5ebcba.js";import"./vue-multiselect.esm-40ab72e4.js";import"./XMarkIcon-e7af00fc.js";import"./hidden-7c3bc953.js";const I={class:"p-4 mx-auto space-y-4 px-10"},U={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},$={class:"flex items-center"},M=["content"],O=["src"],F={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},H={class:"flex items-center"},R={class:"flex-shrink-0 h-10 w-10"},q=["src"],z={class:"ml-4"},J={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},G={key:1,class:"text-red-500 italic"},K={key:0},Q={key:1},W={key:0},X={key:1},Y={key:0},Z={key:1},ee={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},xe={__name:"PlayersList",props:{serverList:{type:Object},filters:{type:Object},data:{type:Object}},setup(f){const{__:t}=j(),{can:v}=S(),{formatTimeAgoToNow:y,formatToDayDateString:m,secondsToHMS:h}=A(),w=[{key:"country_id",label:t("Flag"),sortable:!0,class:"text-left"},{key:"player_username",label:t("Username"),sortable:!0,class:"text-left"},{key:"server_play_count",label:t("Servers Played"),sortable:!0},{key:"play_time",label:t("Play Time"),sortable:!0},{key:"afk_time",label:t("Afk Time"),sortable:!0},{key:"vault_balance",label:t("Vault Money"),sortable:!0},{key:"last_join_address",label:t("Join Address"),sortable:!0,filterable:{type:"text"}},{key:"last_minecraft_version",label:t("MC Version"),sortable:!0,filterable:{type:"multiselect",options:["1.20","1.19","1.18","1.17","1.16","1.15","1.14","1.13","1.12","1.11","1.10","1.9","1.8"]}},{key:"first_seen_at",label:t("First Seen"),sortable:!0},{key:"last_seen_at",label:t("Last Seen"),sortable:!0},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(k,te)=>{const g=b("inertia-link"),T=b("InertiaLink"),_=x("tippy"),D=x("confirm");return a(),d(V,null,{default:r(()=>[o(L,{title:s(t)("Players - PlayerIntel")},null,8,["title"]),l("div",I,[o(N,{title:s(t)("Players"),"server-list":f.serverList,filters:f.filters},null,8,["title","server-list","filters"]),l("div",null,[o(B,{class:"bg-white rounded shadow dark:bg-gray-800",header:w,data:f.data,filters:f.filters},{default:r(({item:e})=>[l("td",U,[l("div",$,[u((a(),i("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:e.country.name},[l("img",{class:"h-10 w-10",src:e.country.photo_path,alt:""},null,8,O)],8,M)),[[_]])])]),l("td",F,[l("div",H,[l("div",R,[l("img",{class:"h-10 w-10",src:e.player.avatar_url,alt:""},null,8,q)]),l("div",z,[u((a(),d(g,{as:"div",href:k.route("player.show",e.player.uuid),class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline",content:e.player.uuid},{default:r(()=>[e.player_username?(a(),i("span",J,n(e.player_username),1)):(a(),i("span",G,n(s(t)("Unknown")),1))]),_:2},1032,["href","content"])),[[_]])])])]),o(c,null,{default:r(()=>[p(n(e.server_play_count)+" "+n(s(t)("servers")),1)]),_:2},1024),o(c,null,{default:r(()=>[e.play_time?(a(),i("span",K,n(s(h)(e.play_time,!0)),1)):(a(),i("span",Q," -- "))]),_:2},1024),o(c,null,{default:r(()=>[e.afk_time?(a(),i("span",W,n(s(h)(e.afk_time,!0)),1)):(a(),i("span",X," -- "))]),_:2},1024),o(c,null,{default:r(()=>[e.vault_balance?(a(),i("span",Y,n(s(C)(e.vault_balance,{precision:2})),1)):(a(),i("span",Z," -- "))]),_:2},1024),o(c,null,{default:r(()=>[p(n(e.last_join_address||s(t)("Unknown")),1)]),_:2},1024),o(c,null,{default:r(()=>[p(n(e.last_minecraft_version||s(t)("Unknown")),1)]),_:2},1024),u((a(),d(c,{content:s(m)(e.first_seen_at)},{default:r(()=>[p(n(s(y)(e.first_seen_at)),1)]),_:2},1032,["content"])),[[_]]),u((a(),d(c,{content:s(m)(e.last_seen_at)},{default:r(()=>[p(n(s(y)(e.last_seen_at)),1)]),_:2},1032,["content"])),[[_]]),l("td",ee,[s(v)("delete players")?u((a(),d(T,{key:0,as:"button",method:"DELETE",href:k.route("admin.intel.player.delete",e.player.uuid),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:s(t)("Delete Player")},{default:r(()=>[o(s(E),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[D,{message:"This action will delete this player stats and unlink account if linked. Are you sure?"}],[_]]):P("",!0)])]),_:1},8,["data","filters"])])])]),_:1})}}};export{xe as default};
